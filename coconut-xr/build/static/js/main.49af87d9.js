/*! For license information please see main.49af87d9.js.LICENSE.txt */
(()=>{var e={345:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],A=o+1,c=e[A];if(0>s(l,n))A<i&&0>s(c,l)?(e[r]=c,e[A]=n,r=A):(e[r]=l,e[o]=n,r=o);else{if(!(A<i&&0>s(c,n)))break e;e[r]=c,e[A]=n,r=A}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var A=[],c=[],u=1,h=null,d=3,g=!1,p=!1,f=!1,m="function"===typeof setTimeout?setTimeout:null,C="function"===typeof clearTimeout?clearTimeout:null,I="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(A,t)}t=r(c)}}function E(e){if(f=!1,v(e),!p)if(null!==r(A))p=!0,T(B);else{var t=r(c);null!==t&&N(E,t.startTime-e)}}function B(e,n){p=!1,f&&(f=!1,C(x),x=-1),g=!0;var s=d;try{for(v(n),h=r(A);null!==h&&(!(h.expirationTime>n)||e&&!M());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(A)&&i(A),v(n)}else i(A);h=r(A)}if(null!==h)var l=!0;else{var u=r(c);null!==u&&N(E,u.startTime-n),l=!1}return l}finally{h=null,d=s,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var y,w=!1,b=null,x=-1,S=5,Q=-1;function M(){return!(t.unstable_now()-Q<S)}function _(){if(null!==b){var e=t.unstable_now();Q=e;var n=!0;try{n=b(!0,e)}finally{n?y():(w=!1,b=null)}}else w=!1}if("function"===typeof I)y=function(){I(_)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=_,y=function(){R.postMessage(null)}}else y=function(){m(_,0)};function T(e){b=e,w||(w=!0,y())}function N(e,n){x=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,T(B))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(A)&&e===r(c)&&(f?(C(x),x=-1):f=!0,N(E,s-a))):(e.sortIndex=o,n(A,e),p||g||(p=!0,T(B))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},545:(e,t,n)=>{"use strict";e.exports=n(345)},9:(e,t)=>{"use strict";t.b$=function(e){var t,n,s=o(e),a=s[0],l=s[1],A=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),c=0,u=l>0?a-4:a;for(n=0;n<u;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],A[c++]=t>>16&255,A[c++]=t>>8&255,A[c++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,A[c++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,A[c++]=t>>8&255,A[c++]=255&t);return A};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,s,a=[],o=t;o<r;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},494:e=>{function t(e,t,n){var r,i,s,a,o;function l(){var A=Date.now()-a;A<t&&A>=0?r=setTimeout(l,t-A):(r=null,n||(o=e.apply(s,i),s=i=null))}null==t&&(t=100);var A=function(){s=this,i=arguments,a=Date.now();var A=n&&!r;return r||(r=setTimeout(l,t)),A&&(o=e.apply(s,i),s=i=null),o};return A.clear=function(){r&&(clearTimeout(r),r=null)},A.flush=function(){r&&(o=e.apply(s,i),s=i=null,clearTimeout(r),r=null)},A}t.debounce=t,e.exports=t},708:(e,t,n)=>{var r=9007199254740991,i="[object Arguments]",s="[object Function]",a="[object GeneratorFunction]",o="[object Symbol]",l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,A="object"==typeof self&&self&&self.Object===Object&&self,c=l||A||Function("return this")();function u(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var h=Object.prototype,d=h.hasOwnProperty,g=h.toString,p=c.Symbol,f=h.propertyIsEnumerable,m=p?p.isConcatSpreadable:void 0,C=Math.max;function I(e,t,n,r,i){var s=-1,a=e.length;for(n||(n=v),i||(i=[]);++s<a;){var o=e[s];t>0&&n(o)?t>1?I(o,t-1,n,r,i):u(i,o):r||(i[i.length]=o)}return i}function v(e){return B(e)||function(e){return function(e){return y(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?g.call(e):"";return t==s||t==a}(e)}(e)}(e)&&d.call(e,"callee")&&(!f.call(e,"callee")||g.call(e)==i)}(e)||!!(m&&e&&e[m])}function E(e){if("string"==typeof e||function(e){return"symbol"==typeof e||y(e)&&g.call(e)==o}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var B=Array.isArray;function y(e){return!!e&&"object"==typeof e}var w,b,x=(w=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var a=t[r],o=e[a];n(o,a)&&(s[a]=o)}return s}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(I(t,1),E))},b=C(void 0===b?w.length-1:b,0),function(){for(var e=arguments,t=-1,n=C(e.length-b,0),r=Array(n);++t<n;)r[t]=e[b+t];t=-1;for(var i=Array(b+1);++t<b;)i[t]=e[t];return i[b]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(w,this,i)});e.exports=x},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){A(e,t),A(e+"Capture",t)}function A(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},g={};function p(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function C(e){return e[1].toUpperCase()}function I(e,t,n,r){var i=f.hasOwnProperty(t)?f[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(g,e)||!u.call(d,e)&&(h.test(e)?g[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,C);f[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,C);f[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,C);f[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),B=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),S=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var P,F=Object.assign;function U(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var G=!1;function k(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var r=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){r=A}e.call(t.prototype)}else{try{throw Error()}catch(A){r=A}e()}}catch(A){if(A&&r&&"string"===typeof A.stack){for(var i=A.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function H(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=k(e.type,!1);case 11:return e=k(e.type.render,!1);case 1:return e=k(e.type,!0);default:return""}}function O(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case B:return"Portal";case b:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case Q:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function j(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&I(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function se(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ae,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Ae=Ae||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ae.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Be=null,ye=null,we=null;function be(e){if(e=Ii(e)){if("function"!==typeof Be)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),Be(e.stateNode,e.type,t))}}function xe(e){ye?we?we.push(e):we=[e]:ye=e}function Se(){if(ye){var e=ye,t=we;if(we=ye=null,be(e),t)for(e=0;e<t.length;e++)be(t[e])}}function Qe(e,t){return e(t)}function Me(){}var _e=!1;function De(e,t,n){if(_e)return e(t,n);_e=!0;try{return Qe(e,t,n)}finally{_e=!1,(null!==ye||null!==we)&&(Me(),Se())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Te=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Te=!1}function Le(e,t,n,r,i,s,a,o,l){var A=Array.prototype.slice.call(arguments,3);try{t.apply(n,A)}catch(c){this.onError(c)}}var Pe=!1,Fe=null,Ue=!1,Ge=null,ke={onError:function(e){Pe=!0,Fe=e}};function He(e,t,n,r,i,s,a,o,l){Pe=!1,Fe=null,Le.apply(ke,arguments)}function Oe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(Oe(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Oe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ye(i),e;if(a===r)return Ye(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Je=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,qe=i.unstable_shouldYield,je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var At=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ut(o):0!==(s&=a)&&(r=ut(s))}else 0!==(a=n&~i)?r=ut(a):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=At;return 0===(4194240&(At<<=1))&&(At=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function Ct(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,Bt,yt,wt,bt,xt=!1,St=[],Qt=null,Mt=null,_t=null,Dt=new Map,Rt=new Map,Tt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Pt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ii(t))&&Bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=Ci(e.target);if(null!==t){var n=Oe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void bt(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ii(n))&&Bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Gt(e,t,n){Ut(e)&&n.delete(t)}function kt(){xt=!1,null!==Qt&&Ut(Qt)&&(Qt=null),null!==Mt&&Ut(Mt)&&(Mt=null),null!==_t&&Ut(_t)&&(_t=null),Dt.forEach(Gt),Rt.forEach(Gt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kt)))}function Ot(e){function t(t){return Ht(t,e)}if(0<St.length){Ht(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Qt&&Ht(Qt,e),null!==Mt&&Ht(Mt,e),null!==_t&&Ht(_t,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Tt.shift()}var zt=v.ReactCurrentBatchConfig,Yt=!0;function Wt(e,t,n,r){var i=It,s=zt.transition;zt.transition=null;try{It=1,Jt(e,t,n,r)}finally{It=i,zt.transition=s}}function Vt(e,t,n,r){var i=It,s=zt.transition;zt.transition=null;try{It=4,Jt(e,t,n,r)}finally{It=i,zt.transition=s}}function Jt(e,t,n,r){if(Yt){var i=qt(e,t,n,r);if(null===i)Yr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Qt=Pt(Qt,e,t,n,r,i),!0;case"dragenter":return Mt=Pt(Mt,e,t,n,r,i),!0;case"mouseover":return _t=Pt(_t,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,Pt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Pt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var s=Ii(i);if(null!==s&&Et(s),null===(s=qt(e,t,n,r))&&Yr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Yr(e,t,r,null,n)}}var Kt=null;function qt(e,t,n,r){if(Kt=null,null!==(e=Ci(e=Ee(r))))if(null===(t=Oe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(An),un=F({},An,{view:0,detail:0}),hn=sn(un),dn=F({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),gn=sn(dn),pn=sn(F({},dn,{dataTransfer:0})),fn=sn(F({},un,{relatedTarget:0})),mn=sn(F({},An,{animationName:0,elapsedTime:0,pseudoElement:0})),Cn=F({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),In=sn(Cn),vn=sn(F({},An,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function bn(){return wn}var xn=F({},un,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=sn(xn),Qn=sn(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=sn(F({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),_n=sn(F({},An,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Dn),Tn=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Pn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Nn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Gn=!1;function kn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){xe(r),0<(t=Vr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Jn=null;function Kn(e){Ur(e,0)}function qn(e){if(J(vi(e)))return e}function jn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Zn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Jn=Vn=null)}function nr(e){if("value"===e.propertyName&&qn(Jn)){var t=[];Wn(t,Jn,e,Ee(e)),De(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Jn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Jn)}function sr(e,t){if("click"===e)return qn(t)}function ar(e,t){if("input"===e||"change"===e)return qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!or(e[i],t[i]))return!1}return!0}function Ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=Ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ar(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=c&&"documentMode"in document&&11>=document.documentMode,fr=null,mr=null,Cr=null,Ir=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ir||null==fr||fr!==K(r)||("selectionStart"in(r=fr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Cr&&lr(Cr,r)||(Cr=r,0<(r=Vr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Br={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},yr={},wr={};function br(e){if(yr[e])return yr[e];if(!Br[e])return e;var t,n=Br[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return yr[e]=n[t];return e}c&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);var xr=br("animationend"),Sr=br("animationiteration"),Qr=br("animationstart"),Mr=br("transitionend"),_r=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){_r.set(e,t),l(t,[e])}for(var Tr=0;Tr<Dr.length;Tr++){var Nr=Dr[Tr];Rr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Rr(xr,"onAnimationEnd"),Rr(Sr,"onAnimationIteration"),Rr(Qr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Mr,"onTransitionEnd"),A("onMouseEnter",["mouseout","mouseover"]),A("onMouseLeave",["mouseout","mouseover"]),A("onPointerEnter",["pointerout","pointerover"]),A("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,A){if(He.apply(this,arguments),Pe){if(!Pe)throw Error(s(198));var c=Fe;Pe=!1,Fe=null,Ue||(Ue=!0,Ge=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,A=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,A),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,A=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,A),s=l}}}if(Ue)throw e=Ge,Ue=!1,Ge=null,e}function Gr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function kr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){if(!e[Hr]){e[Hr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||kr(t,!1,e),kr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,kr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(jt(t)){case 1:var i=Wt;break;case 4:i=Vt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Ci(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}De((function(){var r=s,i=Ee(n),a=[];e:{var o=_r.get(e);if(void 0!==o){var l=cn,A=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":A="focus",l=fn;break;case"focusout":A="blur",l=fn;break;case"beforeblur":case"afterblur":l=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case xr:case Sr:case Qr:l=mn;break;case Mr:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Qn}var c=0!==(4&t),u=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var d,g=r;null!==g;){var p=(d=g).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==h&&(null!=(p=Re(g,h))&&c.push(Wr(g,p,d)))),u)break;g=g.return}0<c.length&&(o=new l(o,A,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ve||!(A=n.relatedTarget||n.fromElement)||!Ci(A)&&!A[gi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(A=(A=n.relatedTarget||n.toElement)?Ci(A):null)&&(A!==(u=Oe(A))||5!==A.tag&&6!==A.tag)&&(A=null)):(l=null,A=r),l!==A)){if(c=gn,p="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(c=Qn,p="onPointerLeave",h="onPointerEnter",g="pointer"),u=null==l?o:vi(l),d=null==A?o:vi(A),(o=new c(p,g+"leave",l,n,i)).target=u,o.relatedTarget=d,p=null,Ci(i)===r&&((c=new c(h,g+"enter",A,n,i)).target=d,c.relatedTarget=u,p=c),u=p,l&&A)e:{for(h=A,g=0,d=c=l;d;d=Jr(d))g++;for(d=0,p=h;p;p=Jr(p))d++;for(;0<g-d;)c=Jr(c),g--;for(;0<d-g;)h=Jr(h),d--;for(;g--;){if(c===h||null!==h&&c===h.alternate)break e;c=Jr(c),h=Jr(h)}c=null}else c=null;null!==l&&Kr(a,o,l,c,!1),null!==A&&null!==u&&Kr(a,u,A,c,!0)}if("select"===(l=(o=r?vi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var f=jn;else if(Yn(o))if(Xn)f=ar;else{f=ir;var m=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(f=sr);switch(f&&(f=f(e,r))?Wn(a,f,n,i):(m&&m(e,o,r),"focusout"===e&&(m=o._wrapperState)&&m.controlled&&"number"===o.type&&ee(o,"number",o.value)),m=r?vi(r):window,e){case"focusin":(Yn(m)||"true"===m.contentEditable)&&(fr=m,mr=r,Cr=null);break;case"focusout":Cr=mr=fr=null;break;case"mousedown":Ir=!0;break;case"contextmenu":case"mouseup":case"dragend":Ir=!1,vr(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":vr(a,n,i)}var C;if(Nn)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else On?kn(e,n)&&(I="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(I="onCompositionStart");I&&(Fn&&"ko"!==n.locale&&(On||"onCompositionStart"!==I?"onCompositionEnd"===I&&On&&(C=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,On=!0)),0<(m=Vr(r,I)).length&&(I=new vn(I,e,null,n,i),a.push({event:I,listeners:m}),C?I.data=C:null!==(C=Hn(n))&&(I.data=C))),(C=Pn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Un);case"textInput":return(e=t.data)===Un&&Gn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!Nn&&kn(e,t)?(e=en(),$t=Zt=Xt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=C))}Ur(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Re(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,A=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==A&&(o=A,i?null!=(l=Re(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Re(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var qr=/\r\n?/g,jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ot(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ot(t)}function Ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),hi="__reactFiber$"+ui,di="__reactProps$"+ui,gi="__reactContainer$"+ui,pi="__reactEvents$"+ui,fi="__reactListeners$"+ui,mi="__reactHandles$"+ui;function Ci(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function Ii(e){return!(e=e[hi]||e[gi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[di]||null}var Bi=[],yi=-1;function wi(e){return{current:e}}function bi(e){0>yi||(e.current=Bi[yi],Bi[yi]=null,yi--)}function xi(e,t){yi++,Bi[yi]=e.current,e.current=t}var Si={},Qi=wi(Si),Mi=wi(!1),_i=Si;function Di(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ti(){bi(Mi),bi(Qi)}function Ni(e,t,n){if(Qi.current!==Si)throw Error(s(168));xi(Qi,t),xi(Mi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,z(e)||"Unknown",i));return F({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,_i=Qi.current,xi(Qi,e),xi(Mi,Mi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,_i),r.__reactInternalMemoizedMergedChildContext=e,bi(Mi),bi(Qi),xi(Qi,e)):bi(Mi),xi(Mi,n)}var Ui=null,Gi=!1,ki=!1;function Hi(e){null===Ui?Ui=[e]:Ui.push(e)}function Oi(){if(!ki&&null!==Ui){ki=!0;var e=0,t=It;try{var n=Ui;for(It=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Gi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Je($e,Oi),i}finally{It=t,ki=!1}}return null}var zi=[],Yi=0,Wi=null,Vi=0,Ji=[],Ki=0,qi=null,ji=1,Xi="";function Zi(e,t){zi[Yi++]=Vi,zi[Yi++]=Wi,Wi=e,Vi=t}function $i(e,t,n){Ji[Ki++]=ji,Ji[Ki++]=Xi,Ji[Ki++]=qi,qi=e;var r=ji;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ji=1<<32-at(t)+i|n<<i|r,Xi=s+e}else ji=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ts(e){for(;e===Wi;)Wi=zi[--Yi],zi[Yi]=null,Vi=zi[--Yi],zi[Yi]=null;for(;e===qi;)qi=Ji[--Ki],Ji[Ki]=null,Xi=Ji[--Ki],Ji[Ki]=null,ji=Ji[--Ki],Ji[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=RA(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=Ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qi?{id:ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=RA(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function As(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=Ai(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=Ai(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=Ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?Ai(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=Ai(e.nextSibling)}function ds(){rs=ns=null,is=!1}function gs(e){null===ss?ss=[e]:ss.push(e)}var ps=v.ReactCurrentBatchConfig;function fs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ms=wi(null),Cs=null,Is=null,vs=null;function Es(){vs=Is=Cs=null}function Bs(e){var t=ms.current;bi(ms),e._currentValue=t}function ys(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ws(e,t){Cs=e,vs=Is=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function bs(e){var t=e._currentValue;if(vs!==e)if(e={context:e,memoizedValue:t,next:null},null===Is){if(null===Cs)throw Error(s(308));Is=e,Cs.dependencies={lanes:0,firstContext:e}}else Is=Is.next=e;return t}var xs=null;function Ss(e){null===xs?xs=[e]:xs.push(e)}function Qs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ss(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var _s=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ml)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ms(e,n)}return null===(i=r.interleaved)?(t.next=t,Ss(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ms(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}function Ps(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;_s=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,A=l.next;l.next=null,null===a?s=A:a.next=A,a=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=A:o.next=A,c.lastBaseUpdate=l))}if(null!==s){var u=i.baseState;for(a=0,c=A=l=null,o=s;;){var h=o.lane,d=o.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,p=o;switch(h=t,d=n,p.tag){case 1:if("function"===typeof(g=p.payload)){u=g.call(d,u,h);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=p.payload)?g.call(d,u,h):g)||void 0===h)break e;u=F({},u,h);break e;case 2:_s=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(A=c=d,l=u):c=c.next=d,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=u),i.baseState=l,i.firstBaseUpdate=A,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=u}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Gs=(new r.Component).refs;function ks(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Hs={isMounted:function(e){return!!(e=e._reactInternals)&&Oe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tA(),i=nA(e),s=Ts(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ns(e,s,i))&&(rA(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tA(),i=nA(e),s=Ts(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ns(e,s,i))&&(rA(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tA(),r=nA(e),i=Ts(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ns(e,i,r))&&(rA(t,e,r,n),Ls(t,e,r))}};function Os(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function zs(e,t,n){var r=!1,i=Si,s=t.contextType;return"object"===typeof s&&null!==s?s=bs(s):(i=Ri(t)?_i:Qi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Si),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Hs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ys(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Gs,Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=bs(s):(s=Ri(t)?_i:Qi.current,i.context=Di(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ks(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Hs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Vs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Gs&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ks(e){return(0,e._init)(e._payload)}function qs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=NA(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=UA(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function A(e,t,n,r){var s=n.type;return s===y?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Ks(s)===t.type)?((r=i(t,n.props)).ref=Vs(e,t,n),r.return=e,r):((r=LA(n.type,n.key,n.props,null,e.mode,r)).ref=Vs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=GA(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=PA(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=UA(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=LA(t.type,t.key,t.props,null,e.mode,n)).ref=Vs(e,null,t),n.return=e,n;case B:return(t=GA(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=PA(t,e.mode,n,null)).return=e,t;Js(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?A(e,t,n,r):null;case B:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:u(e,t,n,r,null);Js(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return A(t,e=e.get(null===r.key?n:r.key)||null,r,i);case B:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return g(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return u(t,e=e.get(n)||null,r,i,null);Js(t,r)}return null}function p(i,s,o,l){for(var A=null,c=null,u=s,p=s=0,f=null;null!==u&&p<o.length;p++){u.index>p?(f=u,u=null):f=u.sibling;var m=d(i,u,o[p],l);if(null===m){null===u&&(u=f);break}e&&u&&null===m.alternate&&t(i,u),s=a(m,s,p),null===c?A=m:c.sibling=m,c=m,u=f}if(p===o.length)return n(i,u),is&&Zi(i,p),A;if(null===u){for(;p<o.length;p++)null!==(u=h(i,o[p],l))&&(s=a(u,s,p),null===c?A=u:c.sibling=u,c=u);return is&&Zi(i,p),A}for(u=r(i,u);p<o.length;p++)null!==(f=g(u,i,p,o[p],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?p:f.key),s=a(f,s,p),null===c?A=f:c.sibling=f,c=f);return e&&u.forEach((function(e){return t(i,e)})),is&&Zi(i,p),A}function f(i,o,l,A){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var u=c=null,p=o,f=o=0,m=null,C=l.next();null!==p&&!C.done;f++,C=l.next()){p.index>f?(m=p,p=null):m=p.sibling;var I=d(i,p,C.value,A);if(null===I){null===p&&(p=m);break}e&&p&&null===I.alternate&&t(i,p),o=a(I,o,f),null===u?c=I:u.sibling=I,u=I,p=m}if(C.done)return n(i,p),is&&Zi(i,f),c;if(null===p){for(;!C.done;f++,C=l.next())null!==(C=h(i,C.value,A))&&(o=a(C,o,f),null===u?c=C:u.sibling=C,u=C);return is&&Zi(i,f),c}for(p=r(i,p);!C.done;f++,C=l.next())null!==(C=g(p,i,f,C.value,A))&&(e&&null!==C.alternate&&p.delete(null===C.key?f:C.key),o=a(C,o,f),null===u?c=C:u.sibling=C,u=C);return e&&p.forEach((function(e){return t(i,e)})),is&&Zi(i,f),c}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===y&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var A=a.key,c=s;null!==c;){if(c.key===A){if((A=a.type)===y){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===A||"object"===typeof A&&null!==A&&A.$$typeof===R&&Ks(A)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=Vs(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===y?((s=PA(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=LA(a.type,a.key,a.props,null,r.mode,l)).ref=Vs(r,s,a),l.return=r,r=l)}return o(r);case B:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=GA(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(c=a._init)(a._payload),l)}if(te(a))return p(r,s,a,l);if(L(a))return f(r,s,a,l);Js(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=UA(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var js=qs(!0),Xs=qs(!1),Zs={},$s=wi(Zs),ea=wi(Zs),ta=wi(Zs);function na(e){if(e===Zs)throw Error(s(174));return e}function ra(e,t){switch(xi(ta,t),xi(ea,e),xi($s,Zs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}bi($s),xi($s,t)}function ia(){bi($s),bi(ea),bi(ta)}function sa(e){na(ta.current);var t=na($s.current),n=le(t,e.type);t!==n&&(xi(ea,e),xi($s,n))}function aa(e){ea.current===e&&(bi($s),bi(ea))}var oa=wi(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=[];function ca(){for(var e=0;e<Aa.length;e++)Aa[e]._workInProgressVersionPrimary=null;Aa.length=0}var ua=v.ReactCurrentDispatcher,ha=v.ReactCurrentBatchConfig,da=0,ga=null,pa=null,fa=null,ma=!1,Ca=!1,Ia=0,va=0;function Ea(){throw Error(s(321))}function Ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ya(e,t,n,r,i,a){if(da=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),Ca){a=0;do{if(Ca=!1,Ia=0,25<=a)throw Error(s(301));a+=1,fa=pa=null,t.updateQueue=null,ua.current=lo,e=n(r,i)}while(Ca)}if(ua.current=so,t=null!==pa&&null!==pa.next,da=0,fa=pa=ga=null,ma=!1,t)throw Error(s(300));return e}function wa(){var e=0!==Ia;return Ia=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fa?ga.memoizedState=fa=e:fa=fa.next=e,fa}function xa(){if(null===pa){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=pa.next;var t=null===fa?ga.memoizedState:fa.next;if(null!==t)fa=t,pa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(pa=e).memoizedState,baseState:pa.baseState,baseQueue:pa.baseQueue,queue:pa.queue,next:null},null===fa?ga.memoizedState=fa=e:fa=fa.next=e}return fa}function Sa(e,t){return"function"===typeof t?t(e):t}function Qa(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=pa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,A=null,c=a;do{var u=c.lane;if((da&u)===u)null!==A&&(A=A.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===A?(l=A=h,o=r):A=A.next=h,ga.lanes|=u,Fl|=u}c=c.next}while(null!==c&&c!==a);null===A?o=r:A.next=l,or(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=A,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,Fl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ma(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(vo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Da(e,t){var n=ga,r=xa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,vo=!0),r=r.queue,za(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==fa&&1&fa.memoizedState.tag){if(n.flags|=2048,Ua(9,Ta.bind(null,n,r,i,t),void 0,null),null===_l)throw Error(s(349));0!==(30&da)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Pa(e)}function Na(e,t,n){return n((function(){La(t)&&Pa(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Pa(e){var t=Ms(e,1);null!==t&&rA(t,e,1,-1)}function Fa(e){var t=ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,ga,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ga(){return xa().memoizedState}function ka(e,t,n,r){var i=ba();ga.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Ha(e,t,n,r){var i=xa();r=void 0===r?null:r;var s=void 0;if(null!==pa){var a=pa.memoizedState;if(s=a.destroy,null!==r&&Ba(r,a.deps))return void(i.memoizedState=Ua(t,n,s,r))}ga.flags|=e,i.memoizedState=Ua(1|t,n,s,r)}function Oa(e,t){return ka(8390656,8,e,t)}function za(e,t){return Ha(2048,8,e,t)}function Ya(e,t){return Ha(4,2,e,t)}function Wa(e,t){return Ha(4,4,e,t)}function Va(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ja(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4,4,Va.bind(null,t,e),n)}function Ka(){}function qa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ja(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&da)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),ga.lanes|=n,Fl|=n,e.baseState=!0),t)}function Za(e,t){var n=It;It=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{It=n,ha.transition=r}}function $a(){return xa().memoizedState}function eo(e,t,n){var r=nA(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Qs(e,t,n,r))){rA(n,e,r,tA()),io(n,t,r)}}function to(e,t,n){var r=nA(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ss(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(A){}null!==(n=Qs(e,t,i,r))&&(rA(n,e,r,i=tA()),io(n,t,r))}}function no(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function ro(e,t){Ca=ma=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}var so={readContext:bs,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},ao={readContext:bs,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:bs,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ka(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Fa,useDebugValue:Ka,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Za.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=ba();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===_l)throw Error(s(349));0!==(30&da)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Oa(Na.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=_l.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(ji&~(1<<32-at(ji)-1)).toString(32)+n),0<(n=Ia++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=va++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:bs,useCallback:qa,useContext:bs,useEffect:za,useImperativeHandle:Ja,useInsertionEffect:Ya,useLayoutEffect:Wa,useMemo:ja,useReducer:Qa,useRef:Ga,useState:function(){return Qa(Sa)},useDebugValue:Ka,useDeferredValue:function(e){return Xa(xa(),pa.memoizedState,e)},useTransition:function(){return[Qa(Sa)[0],xa().memoizedState]},useMutableSource:_a,useSyncExternalStore:Da,useId:$a,unstable_isNewReconciler:!1},lo={readContext:bs,useCallback:qa,useContext:bs,useEffect:za,useImperativeHandle:Ja,useInsertionEffect:Ya,useLayoutEffect:Wa,useMemo:ja,useReducer:Ma,useRef:Ga,useState:function(){return Ma(Sa)},useDebugValue:Ka,useDeferredValue:function(e){var t=xa();return null===pa?t.memoizedState=e:Xa(t,pa.memoizedState,e)},useTransition:function(){return[Ma(Sa)[0],xa().memoizedState]},useMutableSource:_a,useSyncExternalStore:Da,useId:$a,unstable_isNewReconciler:!1};function Ao(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function go(e,t,n){(n=Ts(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Vl=r),uo(0,t)},n}function po(e,t,n){(n=Ts(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Jl?Jl=new Set([this]):Jl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xA.bind(null,e,t,n),t.then(e,e))}function mo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Co(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ts(-1,1)).tag=2,Ns(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Io=v.ReactCurrentOwner,vo=!1;function Eo(e,t,n,r){t.child=null===e?Xs(t,null,n,r):js(t,e.child,n,r)}function Bo(e,t,n,r,i){n=n.render;var s=t.ref;return ws(t,i),r=ya(e,t,n,r,s,i),n=wa(),null===e||vo?(is&&n&&es(t),t.flags|=1,Eo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function yo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||TA(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=LA(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,wo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=NA(s,r)).ref=t.ref,e.return=t,t.child=e}function wo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(vo=!0)}}return So(e,t,n,r,i)}function bo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Nl,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Nl,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Nl,Tl),Tl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Nl,Tl),Tl|=r;return Eo(e,t,i,n),t.child}function xo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,i){var s=Ri(n)?_i:Qi.current;return s=Di(t,s),ws(t,i),n=ya(e,t,n,r,s,i),r=wa(),null===e||vo?(is&&r&&es(t),t.flags|=1,Eo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Qo(e,t,n,r,i){if(Ri(n)){var s=!0;Pi(t)}else s=!1;if(ws(t,i),null===t.stateNode)Yo(e,t),zs(t,n,r),Ws(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,A=n.contextType;"object"===typeof A&&null!==A?A=bs(A):A=Di(t,A=Ri(n)?_i:Qi.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==A)&&Ys(t,a,r,A),_s=!1;var h=t.memoizedState;a.state=h,Fs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Mi.current||_s?("function"===typeof c&&(ks(t,n,c,r),l=t.memoizedState),(o=_s||Os(t,n,o,r,h,l,A))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=A,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Rs(e,t),o=t.memoizedProps,A=t.type===t.elementType?o:fs(t.type,o),a.props=A,u=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=bs(l):l=Di(t,l=Ri(n)?_i:Qi.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==u||h!==l)&&Ys(t,a,r,l),_s=!1,h=t.memoizedState,a.state=h,Fs(t,r,a,i);var g=t.memoizedState;o!==u||h!==g||Mi.current||_s?("function"===typeof d&&(ks(t,n,d,r),g=t.memoizedState),(A=_s||Os(t,n,A,r,h,g,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,g,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,g,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=A):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Mo(e,t,n,r,s,i)}function Mo(e,t,n,r,i,s){xo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Wo(e,t,s);r=t.stateNode,Io.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=js(t,e.child,null,s),t.child=js(t,null,o,s)):Eo(e,t,o,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function _o(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ra(e,t.containerInfo)}function Do(e,t,n,r,i){return ds(),gs(i),t.flags|=256,Eo(e,t,n,r),t.child}var Ro,To,No,Lo,Po={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(oa,1&a),null===e)return As(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=FA(l,i,0,null),e=PA(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Po,e):Go(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,ko(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=FA({mode:"visible",children:r.children},i,0,null),(a=PA(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&js(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Po,a);if(0===(1&t.mode))return ko(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,ko(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(r=_l)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ms(e,i),rA(r,e,i,-1))}return fA(),ko(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=QA.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=Ai(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ji[Ki++]=ji,Ji[Ki++]=Xi,Ji[Ki++]=qi,ji=e.id,Xi=e.overflow,qi=t),t=Go(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var A={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=A,t.deletions=null):(i=NA(a,A)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=NA(r,o):(o=PA(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Po,i}return e=(o=e.child).sibling,i=NA(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Go(e,t){return(t=FA({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ko(e,t,n,r){return null!==r&&gs(r),js(t,e.child,null,n),(e=Go(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ho(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ys(e.return,t,n)}function Oo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Eo(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ho(e,n,t);else if(19===e.tag)Ho(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Oo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Oo(t,!0,n,null,s);break;case"together":Oo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=NA(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=NA(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Jo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jo(t),null;case 1:case 17:return Ri(t.type)&&Ti(),Jo(t),null;case 3:return r=t.stateNode,ia(),bi(Mi),bi(Qi),ca(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oA(ss),ss=null))),To(e,t),Jo(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)No(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Jo(t),null}if(e=na($s.current),us(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Gr("cancel",r),Gr("close",r);break;case"iframe":case"object":case"embed":Gr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Gr(Lr[i],r);break;case"source":Gr("error",r);break;case"img":case"image":case"link":Gr("error",r),Gr("load",r);break;case"details":Gr("toggle",r);break;case"input":j(r,a),Gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Gr("invalid",r);break;case"textarea":ie(r,a),Gr("invalid",r)}for(var l in Ce(n,a),i=null,a)if(a.hasOwnProperty(l)){var A=a[l];"children"===l?"string"===typeof A?r.textContent!==A&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,A,e),i=["children",A]):"number"===typeof A&&r.textContent!==""+A&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,A,e),i=["children",""+A]):o.hasOwnProperty(l)&&null!=A&&"onScroll"===l&&Gr("scroll",r)}switch(n){case"input":V(r),$(r,a,!0);break;case"textarea":V(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[di]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ie(n,r),n){case"dialog":Gr("cancel",e),Gr("close",e),i=r;break;case"iframe":case"object":case"embed":Gr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Gr(Lr[i],e);i=r;break;case"source":Gr("error",e),i=r;break;case"img":case"image":case"link":Gr("error",e),Gr("load",e),i=r;break;case"details":Gr("toggle",e),i=r;break;case"input":j(e,r),i=q(e,r),Gr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Gr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Gr("invalid",e)}for(a in Ce(n,i),A=i)if(A.hasOwnProperty(a)){var c=A[a];"style"===a?fe(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Gr("scroll",e):null!=c&&I(e,a,c,l))}switch(n){case"input":V(e),$(e,r,!1);break;case"textarea":V(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Jo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na($s.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Jo(t),null;case 13:if(bi(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ds(),t.flags|=98560,a=!1;else if(a=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else ds(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Jo(t),a=!1}else null!==ss&&(oA(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Ll&&(Ll=3):fA())),null!==t.updateQueue&&(t.flags|=4),Jo(t),null);case 4:return ia(),To(e,t),null===e&&Or(t.stateNode.containerInfo),Jo(t),null;case 10:return Bs(t.type._context),Jo(t),null;case 19:if(bi(oa),null===(a=t.memoizedState))return Jo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Vo(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Vo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>zl&&(t.flags|=128,r=!0,Vo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Jo(t),null}else 2*Xe()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Vo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,xi(oa,r?1&n|2:1&n),t):(Jo(t),null);case 22:case 23:return hA(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Jo(t),6&t.subtreeFlags&&(t.flags|=8192)):Jo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function qo(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Ti(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),bi(Mi),bi(Qi),ca(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(bi(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ds()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return bi(oa),null;case 4:return ia(),null;case 10:return Bs(t.type._context),null;case 22:case 23:return hA(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},To=function(){},No=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na($s.current);var s,a=null;switch(n){case"input":i=q(e,i),r=q(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in Ce(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var A=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&A!==l&&(null!=A||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||A&&A.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in A)A.hasOwnProperty(s)&&l[s]!==A[s]&&(n||(n={}),n[s]=A[s])}else n||(a||(a=[]),a.push(c,n)),n=A;else"dangerouslySetInnerHTML"===c?(A=A?A.__html:void 0,l=l?l.__html:void 0,null!=A&&l!==A&&(a=a||[]).push(c,A)):"children"===c?"string"!==typeof A&&"number"!==typeof A||(a=a||[]).push(c,""+A):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=A&&"onScroll"===c&&Gr("scroll",e),a||l===A||(a=[])):(a=a||[]).push(c,A))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var jo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,$o=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){bA(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){bA(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[pi],delete t[fi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)gl(e,t,n),n=n.sibling}function gl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||el(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ot(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Xo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){bA(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,dl(e,t,n),Xo=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=MA.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));gl(a,o,i),ul=null,hl=!1;var A=i.alternate;null!==A&&(A.return=null),i.return=null}catch(c){bA(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),Cl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(f){bA(e,e.return,f)}try{rl(5,e,e.return)}catch(f){bA(e,e.return,f)}}break;case 1:fl(t,e),Cl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(fl(t,e),Cl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(f){bA(e,e.return,f)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,A=e.updateQueue;if(e.updateQueue=null,null!==A)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),Ie(l,o);var c=Ie(l,a);for(o=0;o<A.length;o+=2){var u=A[o],h=A[o+1];"style"===u?fe(i,h):"dangerouslySetInnerHTML"===u?ue(i,h):"children"===u?he(i,h):I(i,u,h,c)}switch(l){case"input":Z(i,a);break;case"textarea":se(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;null!=g?ne(i,!!a.multiple,g,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(f){bA(e,e.return,f)}}break;case 6:if(fl(t,e),Cl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(f){bA(e,e.return,f)}}break;case 3:if(fl(t,e),Cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ot(t.containerInfo)}catch(f){bA(e,e.return,f)}break;case 4:default:fl(t,e),Cl(e);break;case 13:fl(t,e),Cl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ol=Xe())),4&r&&pl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(c=Xo)||u,fl(t,e),Xo=c):fl(t,e),Cl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for($o=e,u=e.child;null!==u;){for(h=$o=u;null!==$o;){switch(g=(d=$o).child,d.tag){case 0:case 11:case 14:case 15:rl(4,d,d.return);break;case 1:el(d,d.return);var p=d.stateNode;if("function"===typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(f){bA(r,n,f)}}break;case 5:el(d,d.return);break;case 22:if(null!==d.memoizedState){Bl(h);continue}}null!==g?(g.return=d,$o=g):Bl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(A=h.memoizedProps.style)&&null!==A&&A.hasOwnProperty("display")?A.display:null,l.style.display=pe("display",o))}catch(f){bA(e,e.return,f)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(f){bA(e,e.return,f)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),Cl(e),4&r&&pl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;Al(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){bA(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Il(e,t,n){$o=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||jo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=jo;var A=Xo;if(jo=a,(Xo=l)&&!A)for($o=i;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?yl(i):null!==l?(l.return=a,$o=l):yl(i);for(;null!==s;)$o=s,vl(s,t,n),s=s.sibling;$o=i,jo=o,Xo=A}El(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$o=s):El(e)}}function El(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:fs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Us(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&n.focus();break;case"img":A.src&&(n.src=A.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ot(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&sl(t)}catch(d){bA(t,t.return,d)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function Bl(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function yl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){bA(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){bA(t,i,l)}}var s=t.return;try{sl(t)}catch(l){bA(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){bA(t,a,l)}}}catch(l){bA(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var wl,bl=Math.ceil,xl=v.ReactCurrentDispatcher,Sl=v.ReactCurrentOwner,Ql=v.ReactCurrentBatchConfig,Ml=0,_l=null,Dl=null,Rl=0,Tl=0,Nl=wi(0),Ll=0,Pl=null,Fl=0,Ul=0,Gl=0,kl=null,Hl=null,Ol=0,zl=1/0,Yl=null,Wl=!1,Vl=null,Jl=null,Kl=!1,ql=null,jl=0,Xl=0,Zl=null,$l=-1,eA=0;function tA(){return 0!==(6&Ml)?Xe():-1!==$l?$l:$l=Xe()}function nA(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==Rl?Rl&-Rl:null!==ps.transition?(0===eA&&(eA=pt()),eA):0!==(e=It)?e:e=void 0===(e=window.event)?16:jt(e.type)}function rA(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(s(185));mt(e,n,r),0!==(2&Ml)&&e===_l||(e===_l&&(0===(2&Ml)&&(Ul|=n),4===Ll&&lA(e,Rl)),iA(e,r),1===n&&0===Ml&&0===(1&t.mode)&&(zl=Xe()+500,Gi&&Oi()))}function iA(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=dt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===_l?Rl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Gi=!0,Hi(e)}(AA.bind(null,e)):Hi(AA.bind(null,e)),ai((function(){0===(6&Ml)&&Oi()})),n=null;else{switch(vt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_A(n,sA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sA(e,t){if($l=-1,eA=0,0!==(6&Ml))throw Error(s(327));var n=e.callbackNode;if(yA()&&e.callbackNode!==n)return null;var r=ht(e,e===_l?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mA(e,r);else{t=r;var i=Ml;Ml|=2;var a=pA();for(_l===e&&Rl===t||(Yl=null,zl=Xe()+500,dA(e,t));;)try{IA();break}catch(l){gA(e,l)}Es(),xl.current=a,Ml=i,null!==Dl?t=0:(_l=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=gt(e))&&(r=i,t=aA(e,i))),1===t)throw n=Pl,dA(e,0),lA(e,r),iA(e,Xe()),n;if(6===t)lA(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mA(e,r))&&(0!==(a=gt(e))&&(r=a,t=aA(e,a))),1===t))throw n=Pl,dA(e,0),lA(e,r),iA(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:BA(e,Hl,Yl);break;case 3:if(lA(e,r),(130023424&r)===r&&10<(t=Ol+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tA(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(BA.bind(null,e,Hl,Yl),t);break}BA(e,Hl,Yl);break;case 4:if(lA(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bl(r/1960))-r)){e.timeoutHandle=ri(BA.bind(null,e,Hl,Yl),r);break}BA(e,Hl,Yl);break;default:throw Error(s(329))}}}return iA(e,Xe()),e.callbackNode===n?sA.bind(null,e):null}function aA(e,t){var n=kl;return e.current.memoizedState.isDehydrated&&(dA(e,t).flags|=256),2!==(e=mA(e,t))&&(t=Hl,Hl=n,null!==t&&oA(t)),e}function oA(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function lA(e,t){for(t&=~Gl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function AA(e){if(0!==(6&Ml))throw Error(s(327));yA();var t=ht(e,0);if(0===(1&t))return iA(e,Xe()),null;var n=mA(e,t);if(0!==e.tag&&2===n){var r=gt(e);0!==r&&(t=r,n=aA(e,r))}if(1===n)throw n=Pl,dA(e,0),lA(e,t),iA(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,BA(e,Hl,Yl),iA(e,Xe()),null}function cA(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(zl=Xe()+500,Gi&&Oi())}}function uA(e){null!==ql&&0===ql.tag&&0===(6&Ml)&&yA();var t=Ml;Ml|=1;var n=Ql.transition,r=It;try{if(Ql.transition=null,It=1,e)return e()}finally{It=r,Ql.transition=n,0===(6&(Ml=t))&&Oi()}}function hA(){Tl=Nl.current,bi(Nl)}function dA(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ti();break;case 3:ia(),bi(Mi),bi(Qi),ca();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:bi(oa);break;case 10:Bs(r.type._context);break;case 22:case 23:hA()}n=n.return}if(_l=e,Dl=e=NA(e.current,null),Rl=Tl=t,Ll=0,Pl=null,Gl=Ul=Fl=0,Hl=kl=null,null!==xs){for(t=0;t<xs.length;t++)if(null!==(r=(n=xs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}xs=null}return e}function gA(e,t){for(;;){var n=Dl;try{if(Es(),ua.current=so,ma){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ma=!1}if(da=0,fa=pa=ga=null,Ca=!1,Ia=0,Sl.current=null,null===n||null===n.return){Ll=1,Pl=t,Dl=null;break}e:{var a=e,o=n.return,l=n,A=t;if(t=Rl,l.flags|=32768,null!==A&&"object"===typeof A&&"function"===typeof A.then){var c=A,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=mo(o);if(null!==g){g.flags&=-257,Co(g,o,l,0,t),1&g.mode&&fo(a,c,t),A=c;var p=(t=g).updateQueue;if(null===p){var f=new Set;f.add(A),t.updateQueue=f}else p.add(A);break e}if(0===(1&t)){fo(a,c,t),fA();break e}A=Error(s(426))}else if(is&&1&l.mode){var m=mo(o);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),Co(m,o,l,0,t),gs(Ao(A,l));break e}}a=A=Ao(A,l),4!==Ll&&(Ll=2),null===kl?kl=[a]:kl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ps(a,go(0,A,t));break e;case 1:l=A;var C=a.type,I=a.stateNode;if(0===(128&a.flags)&&("function"===typeof C.getDerivedStateFromError||null!==I&&"function"===typeof I.componentDidCatch&&(null===Jl||!Jl.has(I)))){a.flags|=65536,t&=-t,a.lanes|=t,Ps(a,po(a,l,t));break e}}a=a.return}while(null!==a)}EA(n)}catch(v){t=v,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function pA(){var e=xl.current;return xl.current=so,null===e?so:e}function fA(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===_l||0===(268435455&Fl)&&0===(268435455&Ul)||lA(_l,Rl)}function mA(e,t){var n=Ml;Ml|=2;var r=pA();for(_l===e&&Rl===t||(Yl=null,dA(e,t));;)try{CA();break}catch(i){gA(e,i)}if(Es(),Ml=n,xl.current=r,null!==Dl)throw Error(s(261));return _l=null,Rl=0,Ll}function CA(){for(;null!==Dl;)vA(Dl)}function IA(){for(;null!==Dl&&!qe();)vA(Dl)}function vA(e){var t=wl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?EA(e):Dl=t,Sl.current=null}function EA(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Tl)))return void(Dl=n)}else{if(null!==(n=qo(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Ll=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ll&&(Ll=5)}function BA(e,t,n){var r=It,i=Ql.transition;try{Ql.transition=null,It=1,function(e,t,n,r){do{yA()}while(null!==ql);if(0!==(6&Ml))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===_l&&(Dl=_l=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,_A(tt,(function(){return yA(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ql.transition,Ql.transition=null;var o=It;It=1;var l=Ml;Ml|=4,Sl.current=null,function(e,t){if(ei=Yt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(E){n=null;break e}var o=0,l=-1,A=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var g;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(A=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(g=h.firstChild);)d=h,h=g;for(;;){if(h===e)break t;if(d===n&&++c===i&&(l=o),d===a&&++u===r&&(A=o),null!==(g=h.nextSibling))break;d=(h=d).parentNode}h=g}n=-1===l||-1===A?null:{start:l,end:A}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Yt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var f=p.memoizedProps,m=p.memoizedState,C=t.stateNode,I=C.getSnapshotBeforeUpdate(t.elementType===t.type?f:fs(t.type,f),m);C.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(E){bA(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}p=nl,nl=!1}(e,n),ml(n,e),gr(ti),Yt=!!ei,ti=ei=null,e.current=n,Il(n,e,i),je(),Ml=l,It=o,Ql.transition=a}else e.current=n;if(Kl&&(Kl=!1,ql=e,jl=i),a=e.pendingLanes,0===a&&(Jl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iA(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Vl,Vl=null,e;0!==(1&jl)&&0!==e.tag&&yA(),a=e.pendingLanes,0!==(1&a)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Oi()}(e,t,n,r)}finally{Ql.transition=i,It=r}return null}function yA(){if(null!==ql){var e=vt(jl),t=Ql.transition,n=It;try{if(Ql.transition=null,It=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,jl=0,0!==(6&Ml))throw Error(s(331));var i=Ml;for(Ml|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var A=0;A<l.length;A++){var c=l[A];for($o=c;null!==$o;){var u=$o;switch(u.tag){case 0:case 11:case 15:rl(8,u,a)}var h=u.child;if(null!==h)h.return=u,$o=h;else for(;null!==$o;){var d=(u=$o).sibling,g=u.return;if(al(u),u===c){$o=null;break}if(null!==d){d.return=g,$o=d;break}$o=g}}}var p=a.alternate;if(null!==p){var f=p.child;if(null!==f){p.child=null;do{var m=f.sibling;f.sibling=null,f=m}while(null!==f)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var C=a.sibling;if(null!==C){C.return=a.return,$o=C;break e}$o=a.return}}var I=e.current;for($o=I;null!==$o;){var v=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,$o=v;else e:for(o=I;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(B){bA(l,l.return,B)}if(l===o){$o=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,$o=E;break e}$o=l.return}}if(Ml=i,Oi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(B){}r=!0}return r}finally{It=n,Ql.transition=t}}return!1}function wA(e,t,n){e=Ns(e,t=go(0,t=Ao(n,t),1),1),t=tA(),null!==e&&(mt(e,1,t),iA(e,t))}function bA(e,t,n){if(3===e.tag)wA(e,e,n);else for(;null!==t;){if(3===t.tag){wA(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Jl||!Jl.has(r))){t=Ns(t,e=po(t,e=Ao(n,e),1),1),e=tA(),null!==t&&(mt(t,1,e),iA(t,e));break}}t=t.return}}function xA(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tA(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>Xe()-Ol?dA(e,0):Gl|=n),iA(e,t)}function SA(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tA();null!==(e=Ms(e,t))&&(mt(e,t,n),iA(e,n))}function QA(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),SA(e,n)}function MA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),SA(e,n)}function _A(e,t){return Je(e,t)}function DA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function RA(e,t,n,r){return new DA(e,t,n,r)}function TA(e){return!(!(e=e.prototype)||!e.isReactComponent)}function NA(e,t){var n=e.alternate;return null===n?((n=RA(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function LA(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)TA(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case y:return PA(n.children,i,a,t);case w:o=8,i|=8;break;case b:return(e=RA(12,n,t,2|i)).elementType=b,e.lanes=a,e;case M:return(e=RA(13,n,t,i)).elementType=M,e.lanes=a,e;case _:return(e=RA(19,n,t,i)).elementType=_,e.lanes=a,e;case T:return FA(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case S:o=9;break e;case Q:o=11;break e;case D:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=RA(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function PA(e,t,n,r){return(e=RA(7,e,r,t)).lanes=n,e}function FA(e,t,n,r){return(e=RA(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function UA(e,t,n){return(e=RA(6,e,null,t)).lanes=n,e}function GA(e,t,n){return(t=RA(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kA(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HA(e,t,n,r,i,s,a,o,l){return e=new kA(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=RA(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function OA(e){if(!e)return Si;e:{if(Oe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function zA(e,t,n,r,i,s,a,o,l){return(e=HA(n,r,!0,e,0,s,0,o,l)).context=OA(null),n=e.current,(s=Ts(r=tA(),i=nA(n))).callback=void 0!==t&&null!==t?t:null,Ns(n,s,i),e.current.lanes=i,mt(e,i,r),iA(e,r),e}function YA(e,t,n,r){var i=t.current,s=tA(),a=nA(i);return n=OA(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ts(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ns(i,t,a))&&(rA(e,i,a,s),Ls(e,i,a)),a}function WA(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function VA(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function JA(e,t){VA(e,t),(e=e.alternate)&&VA(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)vo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:_o(t),ds();break;case 5:sa(t);break;case 1:Ri(t.type)&&Pi(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(ms,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(xi(oa,1&oa.current),null!==(e=Wo(e,t,n))?e.sibling:null);xi(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,bo(e,t,n)}return Wo(e,t,n)}(e,t,n);vo=0!==(131072&e.flags)}else vo=!1,is&&0!==(1048576&t.flags)&&$i(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yo(e,t),e=t.pendingProps;var i=Di(t,Qi.current);ws(t,n),i=ya(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Pi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ds(t),i.updater=Hs,t.stateNode=i,i._reactInternals=t,Ws(t,r,e,n),t=Mo(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),Eo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return TA(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===Q)return 11;if(e===D)return 14}return 2}(r),e=fs(r,e),i){case 0:t=So(null,t,r,e,n);break e;case 1:t=Qo(null,t,r,e,n);break e;case 11:t=Bo(null,t,r,e,n);break e;case 14:t=yo(null,t,r,fs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:fs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Qo(e,t,r,i=t.elementType===r?i:fs(r,i),n);case 3:e:{if(_o(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Rs(e,t),Fs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Do(e,t,r,n,i=Ao(Error(s(423)),t));break e}if(r!==i){t=Do(e,t,r,n,i=Ao(Error(s(424)),t));break e}for(rs=Ai(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ds(),r===i){t=Wo(e,t,n);break e}Eo(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&As(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),xo(e,t),Eo(e,t,o,n),t.child;case 6:return null===e&&As(t),null;case 13:return Uo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=js(t,null,r,n):Eo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:fs(r,i),n);case 7:return Eo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Eo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,xi(ms,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Mi.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var A=l.firstContext;null!==A;){if(A.context===r){if(1===a.tag){(A=Ts(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?A.next=A:(A.next=u.next,u.next=A),c.pending=A}}a.lanes|=n,null!==(A=a.alternate)&&(A.lanes|=n),ys(a.return,n,t),l.lanes|=n;break}A=A.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ys(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Eo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ws(t,n),r=r(i=bs(i)),t.flags|=1,Eo(e,t,r,n),t.child;case 14:return i=fs(r=t.type,t.pendingProps),yo(e,t,r,i=fs(r.type,i),n);case 15:return wo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fs(r,i),Yo(e,t),t.tag=1,Ri(r)?(e=!0,Pi(t)):e=!1,ws(t,n),zs(t,r,i),Ws(t,r,i,n),Mo(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return bo(e,t,n)}throw Error(s(156,t.tag))};var KA="function"===typeof reportError?reportError:function(e){console.error(e)};function qA(e){this._internalRoot=e}function jA(e){this._internalRoot=e}function XA(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ZA(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $A(){}function ec(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=WA(a);o.call(e)}}YA(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=WA(a);s.call(e)}}var a=zA(t,r,e,0,null,!1,0,"",$A);return e._reactRootContainer=a,e[gi]=a.current,Or(8===e.nodeType?e.parentNode:e),uA(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=WA(l);o.call(e)}}var l=HA(e,0,!1,null,0,!1,0,"",$A);return e._reactRootContainer=l,e[gi]=l.current,Or(8===e.nodeType?e.parentNode:e),uA((function(){YA(t,l,n,r)})),l}(n,t,e,i,r);return WA(a)}jA.prototype.render=qA.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));YA(e,t,null,null)},jA.prototype.unmount=qA.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uA((function(){YA(null,e,null,null)})),t[gi]=null}},jA.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(Ct(t,1|n),iA(t,Xe()),0===(6&Ml)&&(zl=Xe()+500,Oi()))}break;case 13:uA((function(){var t=Ms(e,1);if(null!==t){var n=tA();rA(t,e,1,n)}})),JA(e,1)}},Bt=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)rA(t,e,134217728,tA());JA(e,134217728)}},yt=function(e){if(13===e.tag){var t=nA(e),n=Ms(e,t);if(null!==n)rA(n,e,t,tA());JA(e,t)}},wt=function(){return It},bt=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},Be=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));J(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Qe=cA,Me=uA;var tc={usingClientEntryPoint:!1,Events:[Ii,vi,Ei,xe,Se,cA]},nc={findFiberByHostInstance:Ci,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),st=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!XA(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:B,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!XA(e))throw Error(s(299));var n=!1,r="",i=KA;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=HA(e,1,!1,null,0,n,0,r,i),e[gi]=t.current,Or(8===e.nodeType?e.parentNode:e),new qA(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uA(e)},t.hydrate=function(e,t,n){if(!ZA(t))throw Error(s(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!XA(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=KA;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zA(t,null,e,1,null!=n?n:null,i,0,a,o),e[gi]=t.current,Or(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jA(t)},t.render=function(e,t,n){if(!ZA(t))throw Error(s(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ZA(e))throw Error(s(40));return!!e._reactRootContainer&&(uA((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[gi]=null}))})),!0)},t.unstable_batchedUpdates=cA,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ZA(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},976:(e,t)=>{"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},721:(e,t,n)=>{e.exports=function(e){var t={},r=n(791),i=n(100),s=Object.assign;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),A=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),g=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var v=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var E=Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}function y(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case A:return"Portal";case h:return"Profiler";case u:return"StrictMode";case f:return"Suspense";case m:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:y(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return y(e(t))}catch(n){}}return null}function w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y(t);case 8:return t===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function b(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function x(e){if(b(e)!==e)throw Error(a(188))}function S(e){var t=e.alternate;if(!t){if(null===(t=b(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return x(i),e;if(s===r)return x(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function Q(e){return null!==(e=S(e))?M(e):null}function M(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=M(e);if(null!==t)return t;e=e.sibling}return null}function _(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=_(e);if(null!==t)return t}e=e.sibling}return null}var D,R=Array.isArray,T=e.getPublicInstance,N=e.getRootHostContext,L=e.getChildHostContext,P=e.prepareForCommit,F=e.resetAfterCommit,U=e.createInstance,G=e.appendInitialChild,k=e.finalizeInitialChildren,H=e.prepareUpdate,O=e.shouldSetTextContent,z=e.createTextInstance,Y=e.scheduleTimeout,W=e.cancelTimeout,V=e.noTimeout,J=e.isPrimaryRenderer,K=e.supportsMutation,q=e.supportsPersistence,j=e.supportsHydration,X=e.getInstanceFromNode,Z=e.preparePortalMount,$=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,se=e.getBoundingRect,ae=e.getTextContent,oe=e.isHiddenSubtree,le=e.matchAccessibilityRole,Ae=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,ue=e.appendChild,he=e.appendChildToContainer,de=e.commitTextUpdate,ge=e.commitMount,pe=e.commitUpdate,fe=e.insertBefore,me=e.insertInContainerBefore,Ce=e.removeChild,Ie=e.removeChildFromContainer,ve=e.resetTextContent,Ee=e.hideInstance,Be=e.hideTextInstance,ye=e.unhideInstance,we=e.unhideTextInstance,be=e.clearContainer,xe=e.cloneInstance,Se=e.createContainerChildSet,Qe=e.appendChildToContainerChildSet,Me=e.finalizeContainerChildren,_e=e.replaceContainerChildren,De=e.cloneHiddenInstance,Re=e.cloneHiddenTextInstance,Te=e.canHydrateInstance,Ne=e.canHydrateTextInstance,Le=e.canHydrateSuspenseInstance,Pe=e.isSuspenseInstancePending,Fe=e.isSuspenseInstanceFallback,Ue=e.registerSuspenseInstanceRetry,Ge=e.getNextHydratableSibling,ke=e.getFirstHydratableChild,He=e.getFirstHydratableChildWithinContainer,Oe=e.getFirstHydratableChildWithinSuspenseInstance,ze=e.hydrateInstance,Ye=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,Ve=e.getNextHydratableInstanceAfterSuspenseInstance,Je=e.commitHydratedContainer,Ke=e.commitHydratedSuspenseInstance,qe=e.clearSuspenseBoundary,je=e.clearSuspenseBoundaryFromContainer,Xe=e.shouldDeleteUnhydratedTailInstances,Ze=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var r=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){r=A}e.call(t.prototype)}else{try{throw Error()}catch(A){r=A}e()}}catch(A){if(A&&r&&"string"===typeof A.stack){for(var i=A.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],st=-1;function at(e){return{current:e}}function ot(e){0>st||(e.current=it[st],it[st]=null,st--)}function lt(e,t){st++,it[st]=e.current,e.current=t}var At={},ct=at(At),ut=at(!1),ht=At;function dt(e,t){var n=e.type.contextTypes;if(!n)return At;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function gt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function pt(){ot(ut),ot(ct)}function ft(e,t,n){if(ct.current!==At)throw Error(a(168));lt(ct,t),lt(ut,n)}function mt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,w(e)||"Unknown",i));return s({},n,r)}function Ct(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||At,ht=ct.current,lt(ct,e),lt(ut,ut.current),!0}function It(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=mt(e,t,ht),r.__reactInternalMemoizedMergedChildContext=e,ot(ut),ot(ct),lt(ct,e)):ot(ut),lt(ut,n)}var vt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Et(e)/Bt|0)|0},Et=Math.log,Bt=Math.LN2;var yt=64,wt=4194304;function bt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=bt(o):0!==(s&=a)&&(r=bt(s))}else 0!==(a=n&~i)?r=bt(a):0!==s&&(r=bt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-vt(t)),r|=e[n],t&=~i;return r}function St(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Qt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _t(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-vt(t)]=n}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rt=0;function Tt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt=i.unstable_scheduleCallback,Lt=i.unstable_cancelCallback,Pt=i.unstable_shouldYield,Ft=i.unstable_requestPaint,Ut=i.unstable_now,Gt=i.unstable_ImmediatePriority,kt=i.unstable_UserBlockingPriority,Ht=i.unstable_NormalPriority,Ot=i.unstable_IdlePriority,zt=null,Yt=null;var Wt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Vt=null,Jt=!1,Kt=!1;function qt(e){null===Vt?Vt=[e]:Vt.push(e)}function jt(){if(!Kt&&null!==Vt){Kt=!0;var e=0,t=Rt;try{var n=Vt;for(Rt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vt=null,Jt=!1}catch(i){throw null!==Vt&&(Vt=Vt.slice(e+1)),Nt(Gt,jt),i}finally{Rt=t,Kt=!1}}return null}var Xt=o.ReactCurrentBatchConfig;function Zt(e,t){if(Wt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function $t(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=s({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=at(null),nn=null,rn=null,sn=null;function an(){sn=rn=nn=null}function on(e,t,n){J?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;ot(tn),J?e._currentValue=t:e._currentValue2=t}function An(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,sn=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Pi=!0),e.firstContext=null)}function un(e){var t=J?e._currentValue:e._currentValue2;if(sn!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(a(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var hn=null,dn=!1;function gn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Ks&&0!==(1&e.mode)&&0===(2&Js)?(null===(e=n.interleaved)?(t.next=t,null===hn?hn=[n]:hn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function Cn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Dt(e,n)}}function In(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vn(e,t,n,r){var i=e.updateQueue;dn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var A=l,c=A.next;A.next=null,null===o?a=c:o.next=c,o=A;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=A))}if(null!==a){var h=i.baseState;for(o=0,u=c=A=null,l=a;;){var d=l.lane,g=l.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,f=l;switch(d=t,g=n,f.tag){case 1:if("function"===typeof(p=f.payload)){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=f.payload)?p.call(g,h,d):p)||void 0===d)break e;h=s({},h,d);break e;case 2:dn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=g,A=h):u=u.next=g,o|=d;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(d=l).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(A=h),i.baseState=A,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ta|=o,e.lanes=o,e.memoizedState=h}}function En(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Bn=(new r.Component).refs;function yn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:s({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var wn={isMounted:function(e){return!!(e=e._reactInternals)&&b(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=va(),i=Ea(e),s=fn(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),mn(e,s),null!==(t=Ba(e,i,r))&&Cn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=va(),i=Ea(e),s=fn(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),mn(e,s),null!==(t=Ba(e,i,r))&&Cn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=va(),r=Ea(e),i=fn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),mn(e,i),null!==(t=Ba(e,r,n))&&Cn(t,e,r)}};function bn(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Zt(n,r)||!Zt(i,s))}function xn(e,t,n){var r=!1,i=At,s=t.contextType;return"object"===typeof s&&null!==s?s=un(s):(i=gt(t)?ht:ct.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?dt(e,i):At),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=wn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Sn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wn.enqueueReplaceState(t,t.state,null)}function Qn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bn,gn(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=un(s):(s=gt(t)?ht:ct.current,i.context=dt(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(yn(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&wn.enqueueReplaceState(i,i.state,null),vn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Mn=[],_n=0,Dn=null,Rn=0,Tn=[],Nn=0,Ln=null,Pn=1,Fn="";function Un(e,t){Mn[_n++]=Rn,Mn[_n++]=Dn,Dn=e,Rn=t}function Gn(e,t,n){Tn[Nn++]=Pn,Tn[Nn++]=Fn,Tn[Nn++]=Ln,Ln=e;var r=Pn;e=Fn;var i=32-vt(r)-1;r&=~(1<<i),n+=1;var s=32-vt(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Pn=1<<32-vt(t)+i|n<<i|r,Fn=s+e}else Pn=1<<s|n<<i|r,Fn=e}function kn(e){null!==e.return&&(Un(e,1),Gn(e,1,0))}function Hn(e){for(;e===Dn;)Dn=Mn[--_n],Mn[_n]=null,Rn=Mn[--_n],Mn[_n]=null;for(;e===Ln;)Ln=Tn[--Nn],Tn[Nn]=null,Fn=Tn[--Nn],Tn[Nn]=null,Pn=Tn[--Nn],Tn[Nn]=null}var On=null,zn=null,Yn=!1,Wn=!1,Vn=null;function Jn(e,t){var n=Xa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Kn(e,t){switch(e.tag){case 5:return null!==(t=Te(t,e.type,e.pendingProps))&&(e.stateNode=t,On=e,zn=ke(t),!0);case 6:return null!==(t=Ne(t,e.pendingProps))&&(e.stateNode=t,On=e,zn=null,!0);case 13:if(null!==(t=Le(t))){var n=null!==Ln?{id:Pn,overflow:Fn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Xa(18,null,null,0)).stateNode=t,n.return=e,e.child=n,On=e,zn=null,!0}return!1;default:return!1}}function qn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function jn(e){if(Yn){var t=zn;if(t){var n=t;if(!Kn(e,t)){if(qn(e))throw Error(a(418));t=Ge(n);var r=On;t&&Kn(e,t)?Jn(r,n):(e.flags=-4097&e.flags|2,Yn=!1,On=e)}}else{if(qn(e))throw Error(a(418));e.flags=-4097&e.flags|2,Yn=!1,On=e}}}function Xn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;On=e}function Zn(e){if(!j||e!==On)return!1;if(!Yn)return Xn(e),Yn=!0,!1;if(3!==e.tag&&(5!==e.tag||Xe(e.type)&&!O(e.type,e.memoizedProps))){var t=zn;if(t){if(qn(e)){for(e=zn;e;)e=Ge(e);throw Error(a(418))}for(;t;)Jn(e,t),t=Ge(t)}}if(Xn(e),13===e.tag){if(!j)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));zn=Ve(e)}else zn=On?Ge(e.stateNode):null;return!0}function $n(){j&&(zn=On=null,Wn=Yn=!1)}function er(e){null===Vn?Vn=[e]:Vn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Bn&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=$a(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=ro(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var s=n.type;return s===c?g(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===I&&rr(s)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=eo(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=io(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function g(e,t,n,r,s){return null===t||7!==t.tag?((t=to(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ro(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=eo(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case A:return(t=io(t,e.mode,n)).return=e,t;case I:return p(e,(0,t._init)(t._payload),n)}if(R(t)||B(t))return(t=to(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?h(e,t,n,r):null;case A:return n.key===i?d(e,t,n,r):null;case I:return f(e,t,(i=n._init)(n._payload),r)}if(R(n)||B(n))return null!==i?null:g(e,t,n,r,null);nr(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return m(e,t,n,(0,r._init)(r._payload),i)}if(R(r)||B(r))return g(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function C(i,a,o,l){for(var A=null,c=null,u=a,h=a=0,d=null;null!==u&&h<o.length;h++){u.index>h?(d=u,u=null):d=u.sibling;var g=f(i,u,o[h],l);if(null===g){null===u&&(u=d);break}e&&u&&null===g.alternate&&t(i,u),a=s(g,a,h),null===c?A=g:c.sibling=g,c=g,u=d}if(h===o.length)return n(i,u),Yn&&Un(i,h),A;if(null===u){for(;h<o.length;h++)null!==(u=p(i,o[h],l))&&(a=s(u,a,h),null===c?A=u:c.sibling=u,c=u);return Yn&&Un(i,h),A}for(u=r(i,u);h<o.length;h++)null!==(d=m(u,i,h,o[h],l))&&(e&&null!==d.alternate&&u.delete(null===d.key?h:d.key),a=s(d,a,h),null===c?A=d:c.sibling=d,c=d);return e&&u.forEach((function(e){return t(i,e)})),Yn&&Un(i,h),A}function v(i,o,l,A){var c=B(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var u=c=null,h=o,d=o=0,g=null,C=l.next();null!==h&&!C.done;d++,C=l.next()){h.index>d?(g=h,h=null):g=h.sibling;var I=f(i,h,C.value,A);if(null===I){null===h&&(h=g);break}e&&h&&null===I.alternate&&t(i,h),o=s(I,o,d),null===u?c=I:u.sibling=I,u=I,h=g}if(C.done)return n(i,h),Yn&&Un(i,d),c;if(null===h){for(;!C.done;d++,C=l.next())null!==(C=p(i,C.value,A))&&(o=s(C,o,d),null===u?c=C:u.sibling=C,u=C);return Yn&&Un(i,d),c}for(h=r(i,h);!C.done;d++,C=l.next())null!==(C=m(h,i,d,C.value,A))&&(e&&null!==C.alternate&&h.delete(null===C.key?d:C.key),o=s(C,o,d),null===u?c=C:u.sibling=C,u=C);return e&&h.forEach((function(e){return t(i,e)})),Yn&&Un(i,d),c}return function e(r,s,a,u){if("object"===typeof a&&null!==a&&a.type===c&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case l:e:{for(var h=a.key,d=s;null!==d;){if(d.key===h){if((h=a.type)===c){if(7===d.tag){n(r,d.sibling),(s=i(d,a.props.children)).return=r,r=s;break e}}else if(d.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===I&&rr(h)===d.type){n(r,d.sibling),(s=i(d,a.props)).ref=tr(r,d,a),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}a.type===c?((s=to(a.props.children,r.mode,u,a.key)).return=r,r=s):((u=eo(a.type,a.key,a.props,null,r.mode,u)).ref=tr(r,s,a),u.return=r,r=u)}return o(r);case A:e:{for(d=a.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=io(a,r.mode,u)).return=r,r=s}return o(r);case I:return e(r,s,(d=a._init)(a._payload),u)}if(R(a))return C(r,s,a,u);if(B(a))return v(r,s,a,u);nr(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=ro(a,r.mode,u)).return=r,r=s),o(r)):n(r,s)}}var sr=ir(!0),ar=ir(!1),or={},lr=at(or),Ar=at(or),cr=at(or);function ur(e){if(e===or)throw Error(a(174));return e}function hr(e,t){lt(cr,t),lt(Ar,e),lt(lr,or),e=N(t),ot(lr),lt(lr,e)}function dr(){ot(lr),ot(Ar),ot(cr)}function gr(e){var t=ur(cr.current),n=ur(lr.current);n!==(t=L(n,e.type,t))&&(lt(Ar,e),lt(lr,t))}function pr(e){Ar.current===e&&(ot(lr),ot(Ar))}var fr=at(0);function mr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pe(n)||Fe(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cr=[];function Ir(){for(var e=0;e<Cr.length;e++){var t=Cr[e];J?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Cr.length=0}var vr=o.ReactCurrentDispatcher,Er=o.ReactCurrentBatchConfig,Br=0,yr=null,wr=null,br=null,xr=!1,Sr=!1,Qr=0,Mr=0;function _r(){throw Error(a(321))}function Dr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Rr(e,t,n,r,i,s){if(Br=s,yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vr.current=null===e||null===e.memoizedState?gi:pi,e=n(r,i),Sr){s=0;do{if(Sr=!1,Qr=0,25<=s)throw Error(a(301));s+=1,br=wr=null,t.updateQueue=null,vr.current=fi,e=n(r,i)}while(Sr)}if(vr.current=di,t=null!==wr&&null!==wr.next,Br=0,br=wr=yr=null,xr=!1,t)throw Error(a(300));return e}function Tr(){var e=0!==Qr;return Qr=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===br?yr.memoizedState=br=e:br=br.next=e,br}function Lr(){if(null===wr){var e=yr.alternate;e=null!==e?e.memoizedState:null}else e=wr.next;var t=null===br?yr.memoizedState:br.next;if(null!==t)br=t,wr=e;else{if(null===e)throw Error(a(310));e={memoizedState:(wr=e).memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},null===br?yr.memoizedState=br=e:br=br.next=e}return br}function Pr(e,t){return"function"===typeof t?t(e):t}function Fr(e){var t=Lr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=wr,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,A=null,c=s;do{var u=c.lane;if((Br&u)===u)null!==A&&(A=A.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===A?(l=A=h,o=r):A=A.next=h,yr.lanes|=u,ta|=u}c=c.next}while(null!==c&&c!==s);null===A?o=r:A.next=l,Wt(r,t.memoizedState)||(Pi=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=A,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,yr.lanes|=s,ta|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ur(e){var t=Lr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Wt(s,t.memoizedState)||(Pi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Gr(){}function kr(e,t){var n=yr,r=Lr(),i=t(),s=!Wt(r.memoizedState,i);if(s&&(r.memoizedState=i,Pi=!0),r=r.queue,Xr(zr.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==br&&1&br.memoizedState.tag){if(n.flags|=2048,Vr(9,Or.bind(null,n,r,i,t),void 0,null),null===Ks)throw Error(a(349));0!==(30&Br)||Hr(n,t,i)}return i}function Hr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=yr.updateQueue)?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Or(e,t,n,r){t.value=n,t.getSnapshot=r,Yr(t)&&Ba(e,1,-1)}function zr(e,t,n){return n((function(){Yr(t)&&Ba(e,1,-1)}))}function Yr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(r){return!0}}function Wr(e){var t=Nr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,yr,e),[t.memoizedState,e]}function Vr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=yr.updateQueue)?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Jr(){return Lr().memoizedState}function Kr(e,t,n,r){var i=Nr();yr.flags|=e,i.memoizedState=Vr(1|t,n,void 0,void 0===r?null:r)}function qr(e,t,n,r){var i=Lr();r=void 0===r?null:r;var s=void 0;if(null!==wr){var a=wr.memoizedState;if(s=a.destroy,null!==r&&Dr(r,a.deps))return void(i.memoizedState=Vr(t,n,s,r))}yr.flags|=e,i.memoizedState=Vr(1|t,n,s,r)}function jr(e,t){return Kr(8390656,8,e,t)}function Xr(e,t){return qr(2048,8,e,t)}function Zr(e,t){return qr(4,2,e,t)}function $r(e,t){return qr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Dr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Dr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function si(e,t){var n=Rt;Rt=0!==n&&4>n?n:4,e(!0);var r=Er.transition;Er.transition={};try{e(!1),t()}finally{Rt=n,Er.transition=r}}function ai(){return Lr().memoizedState}function oi(e,t,n){var r=Ea(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ai(e)?ci(t,n):(ui(e,t,n),null!==(e=Ba(e,r,n=va()))&&hi(e,t,r))}function li(e,t,n){var r=Ea(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ai(e))ci(t,i);else{ui(e,t,i);var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Wt(o,a))return}catch(l){}null!==(e=Ba(e,r,n=va()))&&hi(e,t,r)}}function Ai(e){var t=e.alternate;return e===yr||null!==t&&t===yr}function ci(e,t){Sr=xr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ui(e,t,n){null!==Ks&&0!==(1&e.mode)&&0===(2&Js)?(null===(e=t.interleaved)?(n.next=n,null===hn?hn=[t]:hn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function hi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Dt(e,n)}}var di={readContext:un,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},gi={readContext:un,useCallback:function(e,t){return Nr().memoizedState=[e,void 0===t?null:t],e},useContext:un,useEffect:jr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Kr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kr(4,2,e,t)},useMemo:function(e,t){var n=Nr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oi.bind(null,yr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Nr().memoizedState=e},useState:Wr,useDebugValue:ni,useDeferredValue:function(e){var t=Wr(e),n=t[0],r=t[1];return jr((function(){var t=Er.transition;Er.transition={};try{r(e)}finally{Er.transition=t}}),[e]),n},useTransition:function(){var e=Wr(!1),t=e[0];return e=si.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=yr,i=Nr();if(Yn){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ks)throw Error(a(349));0!==(30&Br)||Hr(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,jr(zr.bind(null,r,s,e),[e]),r.flags|=2048,Vr(9,Or.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Nr(),t=Ks.identifierPrefix;if(Yn){var n=Fn;t=":"+t+"R"+(n=(Pn&~(1<<32-vt(Pn)-1)).toString(32)+n),0<(n=Qr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Mr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pi={readContext:un,useCallback:ri,useContext:un,useEffect:Xr,useImperativeHandle:ti,useInsertionEffect:Zr,useLayoutEffect:$r,useMemo:ii,useReducer:Fr,useRef:Jr,useState:function(){return Fr(Pr)},useDebugValue:ni,useDeferredValue:function(e){var t=Fr(Pr),n=t[0],r=t[1];return Xr((function(){var t=Er.transition;Er.transition={};try{r(e)}finally{Er.transition=t}}),[e]),n},useTransition:function(){return[Fr(Pr)[0],Lr().memoizedState]},useMutableSource:Gr,useSyncExternalStore:kr,useId:ai,unstable_isNewReconciler:!1},fi={readContext:un,useCallback:ri,useContext:un,useEffect:Xr,useImperativeHandle:ti,useInsertionEffect:Zr,useLayoutEffect:$r,useMemo:ii,useReducer:Ur,useRef:Jr,useState:function(){return Ur(Pr)},useDebugValue:ni,useDeferredValue:function(e){var t=Ur(Pr),n=t[0],r=t[1];return Xr((function(){var t=Er.transition;Er.transition={};try{r(e)}finally{Er.transition=t}}),[e]),n},useTransition:function(){return[Ur(Pr)[0],Lr().memoizedState]},useMutableSource:Gr,useSyncExternalStore:kr,useId:ai,unstable_isNewReconciler:!1};function mi(e,t){try{var n="",r=t;do{n+=$t(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i}}function Ci(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var Ii,vi,Ei,Bi,yi="function"===typeof WeakMap?WeakMap:Map;function wi(e,t,n){(n=fn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ca||(ca=!0,ua=r),Ci(0,t)},n}function bi(e,t,n){(n=fn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ci(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){Ci(0,t),"function"!==typeof r&&(null===ha?ha=new Set([this]):ha.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new yi;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wa.bind(null,e,t,n),t.then(e,e))}function Si(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Qi(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=fn(-1,1)).tag=2,mn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Mi(e){e.flags|=4}function _i(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(K)Ii=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)G(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},vi=function(){},Ei=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var s=t.stateNode,a=ur(lr.current);n=H(s,n,e,r,i,a),(t.updateQueue=n)&&Mi(t)}},Bi=function(e,t,n,r){n!==r&&Mi(t)};else if(q){Ii=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var s=i.stateNode;n&&r&&(s=De(s,i.type,i.memoizedProps,i)),G(e,s)}else if(6===i.tag)s=i.stateNode,n&&r&&(s=Re(s,i.memoizedProps,i)),G(e,s);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(s=i.child)&&(s.return=i),Ii(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Di=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var s=i.stateNode;n&&r&&(s=De(s,i.type,i.memoizedProps,i)),Qe(e,s)}else if(6===i.tag)s=i.stateNode,n&&r&&(s=Re(s,i.memoizedProps,i)),Qe(e,s);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(s=i.child)&&(s.return=i),Di(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};vi=function(e,t){var n=t.stateNode;if(!_i(e,t)){e=n.containerInfo;var r=Se(e);Di(r,t,!1,!1),n.pendingChildren=r,Mi(t),Me(e,r)}},Ei=function(e,t,n,r,i){var s=e.stateNode,a=e.memoizedProps;if((e=_i(e,t))&&a===r)t.stateNode=s;else{var o=t.stateNode,l=ur(lr.current),A=null;a!==r&&(A=H(o,n,a,r,i,l)),e&&null===A?t.stateNode=s:(s=xe(s,A,n,a,r,t,e,o),k(s,n,r,i,l)&&Mi(t),t.stateNode=s,e?Mi(t):Ii(s,t,!1,!1))}},Bi=function(e,t,n,r){n!==r?(e=ur(cr.current),n=ur(lr.current),t.stateNode=z(r,e,n,t),Mi(t)):t.stateNode=e.stateNode}}else vi=function(){},Ei=function(){},Bi=function(){};function Ri(e,t){if(!Yn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ti(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ni(e,t,n){var r=t.pendingProps;switch(Hn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(t),null;case 1:case 17:return gt(t.type)&&pt(),Ti(t),null;case 3:return r=t.stateNode,dr(),ot(ut),ot(ct),Ir(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Zn(t)?Mi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Vn&&(Sa(Vn),Vn=null))),vi(e,t),Ti(t),null;case 5:pr(t),n=ur(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)Ei(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ti(t),null}if(e=ur(lr.current),Zn(t)){if(!j)throw Error(a(175));e=ze(t.stateNode,t.type,t.memoizedProps,n,e,t,!Wn),t.updateQueue=e,null!==e&&Mi(t)}else{var s=U(i,r,n,e,t);Ii(s,t,!1,!1),t.stateNode=s,k(s,i,r,n,e)&&Mi(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ti(t),null;case 6:if(e&&null!=t.stateNode)Bi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=ur(cr.current),n=ur(lr.current),Zn(t)){if(!j)throw Error(a(176));if(e=t.stateNode,r=t.memoizedProps,(n=Ye(e,r,t,!Wn))&&null!==(i=On))switch(s=0!==(1&i.mode),i.tag){case 3:Ze(i.stateNode.containerInfo,e,r,s);break;case 5:$e(i.type,i.memoizedProps,i.stateNode,e,r,s)}n&&Mi(t)}else t.stateNode=z(r,e,n,t)}return Ti(t),null;case 13:if(ot(fr),r=t.memoizedState,Yn&&null!==zn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=zn;e;)e=Ge(e);return $n(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Zn(t),null===e){if(!r)throw Error(a(318));if(!j)throw Error(a(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(317));We(e,t)}else $n(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ti(t),null}return null!==Vn&&(Sa(Vn),Vn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Zn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&fr.current)?0===$s&&($s=3):La())),null!==t.updateQueue&&(t.flags|=4),Ti(t),null);case 4:return dr(),vi(e,t),null===e&&Z(t.stateNode.containerInfo),Ti(t),null;case 10:return ln(t.type._context),Ti(t),null;case 19:if(ot(fr),null===(i=t.memoizedState))return Ti(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Ri(i,!1);else{if(0!==$s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=mr(e))){for(t.flags|=128,Ri(i,!1),null!==(e=s.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(s=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(fr,1&fr.current|2),t.child}e=e.sibling}null!==i.tail&&Ut()>oa&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=mr(s))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ri(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Yn)return Ti(t),null}else 2*Ut()-i.renderingStartTime>oa&&1073741824!==n&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ut(),t.sibling=null,e=fr.current,lt(fr,r?1&e|2:1&e),t):(Ti(t),null);case 22:case 23:return Da(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Xs)&&(Ti(t),K&&6&t.subtreeFlags&&(t.flags|=8192)):Ti(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}var Li=o.ReactCurrentOwner,Pi=!1;function Fi(e,t,n,r){t.child=null===e?ar(t,null,n,r):sr(t,e.child,n,r)}function Ui(e,t,n,r,i){n=n.render;var s=t.ref;return cn(t,i),r=Rr(e,t,n,r,s,i),n=Tr(),null===e||Pi?(Yn&&n&&kn(t),t.flags|=1,Fi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,is(e,t,i))}function Gi(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Za(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=eo(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ki(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zt)(a,r)&&e.ref===t.ref)return is(e,t,i)}return t.flags|=1,(e=$a(s,r)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,n,r,i){if(null!==e&&Zt(e.memoizedProps,r)&&e.ref===t.ref){if(Pi=!1,0===(e.lanes&i))return t.lanes=e.lanes,is(e,t,i);0!==(131072&e.flags)&&(Pi=!0)}return zi(e,t,n,r,i)}function Hi(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt(Zs,Xs),Xs|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(Zs,Xs),Xs|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==s?s.baseLanes:n,lt(Zs,Xs),Xs|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,lt(Zs,Xs),Xs|=r;return Fi(e,t,i,n),t.child}function Oi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zi(e,t,n,r,i){var s=gt(n)?ht:ct.current;return s=dt(t,s),cn(t,i),n=Rr(e,t,n,r,s,i),r=Tr(),null===e||Pi?(Yn&&r&&kn(t),t.flags|=1,Fi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,is(e,t,i))}function Yi(e,t,n,r,i){if(gt(n)){var s=!0;Ct(t)}else s=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xn(t,n,r),Qn(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,A=n.contextType;"object"===typeof A&&null!==A?A=un(A):A=dt(t,A=gt(n)?ht:ct.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==A)&&Sn(t,a,r,A),dn=!1;var h=t.memoizedState;a.state=h,vn(t,r,a,i),l=t.memoizedState,o!==r||h!==l||ut.current||dn?("function"===typeof c&&(yn(t,n,c,r),l=t.memoizedState),(o=dn||bn(t,n,o,r,h,l,A))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=A,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,pn(e,t),o=t.memoizedProps,A=t.type===t.elementType?o:en(t.type,o),a.props=A,u=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=un(l):l=dt(t,l=gt(n)?ht:ct.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==u||h!==l)&&Sn(t,a,r,l),dn=!1,h=t.memoizedState,a.state=h,vn(t,r,a,i);var g=t.memoizedState;o!==u||h!==g||ut.current||dn?("function"===typeof d&&(yn(t,n,d,r),g=t.memoizedState),(A=dn||bn(t,n,A,r,h,g,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,g,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,g,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=A):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,s,i)}function Wi(e,t,n,r,i,s){Oi(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&It(t,n,!1),is(e,t,s);r=t.stateNode,Li.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=sr(t,e.child,null,s),t.child=sr(t,null,o,s)):Fi(e,t,o,s),t.memoizedState=r.state,i&&It(t,n,!0),t.child}function Vi(e){var t=e.stateNode;t.pendingContext?ft(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ft(0,t.context,!1),hr(e,t.containerInfo)}function Ji(e,t,n,r,i){return $n(),er(i),t.flags|=256,Fi(e,t,n,r),t.child}var Ki={dehydrated:null,treeContext:null,retryLane:0};function qi(e){return{baseLanes:e,cachePool:null}}function ji(e,t,n){var r,i=t.pendingProps,s=fr.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),lt(fr,1&s),null===e)return jn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Fe(e)?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=no(s,i,0,null),e=to(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=qi(n),t.memoizedState=Ki,e):Xi(t,s));if(null!==(s=e.memoizedState)){if(null!==(r=s.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,es(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,s=t.mode,i=no({mode:"visible",children:i.children},s,0,null),(o=to(o,s,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&sr(t,e.child,null,n),t.child.memoizedState=qi(n),t.memoizedState=Ki,o);if(0===(1&t.mode))t=es(e,t,n,null);else if(Fe(r))t=es(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),Pi||i){if(null!==(i=Ks)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!==(o&(i.suspendedLanes|n))?0:o)&&i!==s.retryLane&&(s.retryLane=i,Ba(e,i,-1))}La(),t=es(e,t,n,Error(a(421)))}else Pe(r)?(t.flags|=128,t.child=e.child,t=Ja.bind(null,e),Ue(r,t),t=null):(n=s.treeContext,j&&(zn=Oe(r),On=t,Yn=!0,Vn=null,Wn=!1,null!==n&&(Tn[Nn++]=Pn,Tn[Nn++]=Fn,Tn[Nn++]=Ln,Pn=n.id,Fn=n.overflow,Ln=t)),(t=Xi(t,t.pendingProps.children)).flags|=4096);return t}return o?(i=$i(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?qi(n):{baseLanes:s.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Ki,i):(n=Zi(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=$i(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?qi(n):{baseLanes:s.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Ki,i):(n=Zi(e,t,i.children,n),t.memoizedState=null,n)}function Xi(e,t){return(t=no({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Zi(e,t,n,r){var i=e.child;return e=i.sibling,n=$a(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function $i(e,t,n,r,i){var s=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:n};return 0===(1&s)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=$a(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=$a(a,r):(r=to(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function es(e,t,n,r){return null!==r&&er(r),sr(t,e.child,null,n),(e=Xi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ts(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),An(e.return,t,n)}function ns(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rs(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Fi(e,t,r.children,n),0!==(2&(r=fr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ts(e,n,t);else if(19===e.tag)ts(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(fr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===mr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ns(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===mr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ns(t,!0,n,null,s);break;case"together":ns(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function is(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ta|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=$a(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$a(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ss(e,t){switch(Hn(t),t.tag){case 1:return gt(t.type)&&pt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return dr(),ot(ut),ot(ct),Ir(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return pr(t),null;case 13:if(ot(fr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));$n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ot(fr),null;case 4:return dr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Da(),null;default:return null}}var as=!1,os=!1,ls="function"===typeof WeakSet?WeakSet:Set,As=null;function cs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ya(e,t,r)}else n.current=null}function us(e,t,n){try{n()}catch(r){Ya(e,t,r)}}var hs=!1;function ds(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&us(t,n,s)}i=i.next}while(i!==r)}}function gs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ps(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=T(n);else e=n;"function"===typeof t?t(e):t.current=e}}function fs(e,t,n){if(Yt&&"function"===typeof Yt.onCommitFiberUnmount)try{Yt.onCommitFiberUnmount(zt,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&us(t,n,s),r=r.next}while(r!==e)}break;case 1:if(cs(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Ya(t,n,a)}break;case 5:cs(t,n);break;case 4:K?ws(e,t,n):q&&q&&(t=t.stateNode.containerInfo,n=Se(t),_e(t,n))}}function ms(e,t,n){for(var r=t;;)if(fs(e,r,n),null===r.child||K&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Cs(e){var t=e.alternate;null!==t&&(e.alternate=null,Cs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Is(e){return 5===e.tag||3===e.tag||4===e.tag}function vs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Is(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Es(e){if(K){e:{for(var t=e.return;null!==t;){if(Is(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(ve(t),n.flags&=-33),ys(e,n=vs(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,Bs(e,n=vs(e),t);break;default:throw Error(a(161))}}}function Bs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(Bs(e,t,n),e=e.sibling;null!==e;)Bs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?fe(n,e,t):ue(n,e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function ws(e,t,n){for(var r,i,s=t,o=!1;;){if(!o){o=s.return;e:for(;;){if(null===o)throw Error(a(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===s.tag||6===s.tag)ms(e,s,n),i?Ie(r,s.stateNode):Ce(r,s.stateNode);else if(18===s.tag)i?je(r,s.stateNode):qe(r,s.stateNode);else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(fs(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(o=!1)}s.sibling.return=s.return,s=s.sibling}}function bs(e,t){if(K){switch(t.tag){case 0:case 11:case 14:case 15:return ds(3,t,t.return),gs(3,t),void ds(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,s=t.updateQueue;t.updateQueue=null,null!==s&&pe(n,s,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(a(162));return n=t.memoizedProps,void de(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(j&&null!==e&&e.memoizedState.isDehydrated&&Je(t.stateNode.containerInfo));case 13:case 19:return void xs(t)}throw Error(a(163))}switch(t.tag){case 0:case 11:case 14:case 15:return ds(3,t,t.return),gs(3,t),void ds(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void xs(t);case 3:j&&null!==e&&e.memoizedState.isDehydrated&&Je(t.stateNode.containerInfo)}e:if(q){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,_e(t.containerInfo,t.pendingChildren);break e}throw Error(a(163))}}function xs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ls),t.forEach((function(t){var r=Ka.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t,n){As=e,Qs(e,t,n)}function Qs(e,t,n){for(var r=0!==(1&e.mode);null!==As;){var i=As,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||as;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||os;o=as;var A=os;if(as=a,(os=l)&&!A)for(As=i;null!==As;)l=(a=As).child,22===a.tag&&null!==a.memoizedState?Ds(i):null!==l?(l.return=a,As=l):Ds(i);for(;null!==s;)As=s,Qs(s,t,n),s=s.sibling;As=i,as=o,os=A}Ms(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,As=s):Ms(e)}}function Ms(e){for(;null!==As;){var t=As;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:os||gs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!os)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&En(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=T(t.child.stateNode);break;case 1:n=t.child.stateNode}En(t,o,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&ge(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(j&&null===t.memoizedState){var A=t.alternate;if(null!==A){var c=A.memoizedState;if(null!==c){var u=c.dehydrated;null!==u&&Ke(u)}}}break;default:throw Error(a(163))}os||512&t.flags&&ps(t)}catch(h){Ya(t,t.return,h)}}if(t===e){As=null;break}if(null!==(n=t.sibling)){n.return=t.return,As=n;break}As=t.return}}function _s(e){for(;null!==As;){var t=As;if(t===e){As=null;break}var n=t.sibling;if(null!==n){n.return=t.return,As=n;break}As=t.return}}function Ds(e){for(;null!==As;){var t=As;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gs(4,t)}catch(l){Ya(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ya(t,i,l)}}var s=t.return;try{ps(t)}catch(l){Ya(t,s,l)}break;case 5:var a=t.return;try{ps(t)}catch(l){Ya(t,a,l)}}}catch(l){Ya(t,t.return,l)}if(t===e){As=null;break}var o=t.sibling;if(null!==o){o.return=t.return,As=o;break}As=t.return}}var Rs=0,Ts=1,Ns=2,Ls=3,Ps=4;if("function"===typeof Symbol&&Symbol.for){var Fs=Symbol.for;Rs=Fs("selector.component"),Ts=Fs("selector.has_pseudo_class"),Ns=Fs("selector.role"),Ls=Fs("selector.test_id"),Ps=Fs("selector.text")}function Us(e){var t=X(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=ie(e)))throw Error(a(362));return e.stateNode.current}function Gs(e,t){switch(t.$$typeof){case Rs:if(e.type===t.value)return!0;break;case Ts:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],s=t[i];if(5!==r.tag||!oe(r)){for(;null!=s&&Gs(r,s);)s=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Ns:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Ps:if((5===e.tag||6===e.tag)&&(null!==(e=ae(e))&&0<=e.indexOf(t.value)))return!0;break;case Ls:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function ks(e){switch(e.$$typeof){case Rs:return"<"+(y(e.value)||"Unknown")+">";case Ts:return":has("+(ks(e)||"")+")";case Ns:return'[role="'+e.value+'"]';case Ps:return'"'+e.value+'"';case Ls:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function Hs(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],s=e[r++],a=t[s];if(5!==i.tag||!oe(i)){for(;null!=a&&Gs(i,a);)a=t[++s];if(s===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,s),i=i.sibling}}return n}function Os(e,t){if(!re)throw Error(a(363));e=Hs(e=Us(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)oe(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var zs=Math.ceil,Ys=o.ReactCurrentDispatcher,Ws=o.ReactCurrentOwner,Vs=o.ReactCurrentBatchConfig,Js=0,Ks=null,qs=null,js=0,Xs=0,Zs=at(0),$s=0,ea=null,ta=0,na=0,ra=0,ia=null,sa=null,aa=0,oa=1/0;function la(){oa=Ut()+500}var Aa,ca=!1,ua=null,ha=null,da=!1,ga=null,pa=0,fa=0,ma=null,Ca=-1,Ia=0;function va(){return 0!==(6&Js)?Ut():-1!==Ca?Ca:Ca=Ut()}function Ea(e){return 0===(1&e.mode)?1:0!==(2&Js)&&0!==js?js&-js:null!==Xt.transition?(0===Ia&&(e=yt,0===(4194240&(yt<<=1))&&(yt=64),Ia=e),Ia):0!==(e=Rt)?e:$()}function Ba(e,t,n){if(50<fa)throw fa=0,ma=null,Error(a(185));var r=ya(e,t);return null===r?null:(_t(r,t,n),0!==(2&Js)&&r===Ks||(r===Ks&&(0===(2&Js)&&(na|=t),4===$s&&Qa(r,js)),wa(r,n),1===t&&0===Js&&0===(1&e.mode)&&(la(),Jt&&jt())),r)}function ya(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function wa(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-vt(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=St(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=xt(e,e===Ks?js:0);if(0===r)null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Lt(n),1===t)0===e.tag?function(e){Jt=!0,qt(e)}(Ma.bind(null,e)):qt(Ma.bind(null,e)),te?ne((function(){0===Js&&jt()})):Nt(Gt,jt),n=null;else{switch(Tt(r)){case 1:n=Gt;break;case 4:n=kt;break;case 16:default:n=Ht;break;case 536870912:n=Ot}n=qa(n,ba.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ba(e,t){if(Ca=-1,Ia=0,0!==(6&Js))throw Error(a(327));var n=e.callbackNode;if(Oa()&&e.callbackNode!==n)return null;var r=xt(e,e===Ks?js:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Pa(e,r);else{t=r;var i=Js;Js|=2;var s=Na();for(Ks===e&&js===t||(la(),Ra(e,t));;)try{Ua();break}catch(l){Ta(e,l)}an(),Ys.current=s,Js=i,null!==qs?t=0:(Ks=null,js=0,t=$s)}if(0!==t){if(2===t&&(0!==(i=Qt(e))&&(r=i,t=xa(e,i))),1===t)throw n=ea,Ra(e,0),Qa(e,r),wa(e,Ut()),n;if(6===t)Qa(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wt(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Pa(e,r))&&(0!==(s=Qt(e))&&(r=s,t=xa(e,s))),1===t))throw n=ea,Ra(e,0),Qa(e,r),wa(e,Ut()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ha(e,sa);break;case 3:if(Qa(e,r),(130023424&r)===r&&10<(t=aa+500-Ut())){if(0!==xt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){va(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Y(Ha.bind(null,e,sa),t);break}Ha(e,sa);break;case 4:if(Qa(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-vt(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Ut()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zs(r/1960))-r)){e.timeoutHandle=Y(Ha.bind(null,e,sa),r);break}Ha(e,sa);break;default:throw Error(a(329))}}}return wa(e,Ut()),e.callbackNode===n?ba.bind(null,e):null}function xa(e,t){var n=ia;return e.current.memoizedState.isDehydrated&&(Ra(e,t).flags|=256),2!==(e=Pa(e,t))&&(t=sa,sa=n,null!==t&&Sa(t)),e}function Sa(e){null===sa?sa=e:sa.push.apply(sa,e)}function Qa(e,t){for(t&=~ra,t&=~na,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),r=1<<n;e[n]=-1,t&=~r}}function Ma(e){if(0!==(6&Js))throw Error(a(327));Oa();var t=xt(e,0);if(0===(1&t))return wa(e,Ut()),null;var n=Pa(e,t);if(0!==e.tag&&2===n){var r=Qt(e);0!==r&&(t=r,n=xa(e,r))}if(1===n)throw n=ea,Ra(e,0),Qa(e,t),wa(e,Ut()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ha(e,sa),wa(e,Ut()),null}function _a(e){null!==ga&&0===ga.tag&&0===(6&Js)&&Oa();var t=Js;Js|=1;var n=Vs.transition,r=Rt;try{if(Vs.transition=null,Rt=1,e)return e()}finally{Rt=r,Vs.transition=n,0===(6&(Js=t))&&jt()}}function Da(){Xs=Zs.current,ot(Zs)}function Ra(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==V&&(e.timeoutHandle=V,W(n)),null!==qs)for(n=qs.return;null!==n;){var r=n;switch(Hn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&pt();break;case 3:dr(),ot(ut),ot(ct),Ir();break;case 5:pr(r);break;case 4:dr();break;case 13:case 19:ot(fr);break;case 10:ln(r.type._context);break;case 22:case 23:Da()}n=n.return}if(Ks=e,qs=e=$a(e.current,null),js=Xs=t,$s=0,ea=null,ra=na=ta=0,sa=ia=null,null!==hn){for(t=0;t<hn.length;t++)if(null!==(r=(n=hn[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}hn=null}return e}function Ta(e,t){for(;;){var n=qs;try{if(an(),vr.current=di,xr){for(var r=yr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}xr=!1}if(Br=0,br=wr=yr=null,Sr=!1,Qr=0,Ws.current=null,null===n||null===n.return){$s=1,ea=t,qs=null;break}e:{var s=e,o=n.return,l=n,A=t;if(t=js,l.flags|=32768,null!==A&&"object"===typeof A&&"function"===typeof A.then){var c=A,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Si(o);if(null!==g){g.flags&=-257,Qi(g,o,l,0,t),1&g.mode&&xi(s,c,t),A=c;var p=(t=g).updateQueue;if(null===p){var f=new Set;f.add(A),t.updateQueue=f}else p.add(A);break e}if(0===(1&t)){xi(s,c,t),La();break e}A=Error(a(426))}else if(Yn&&1&l.mode){var m=Si(o);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),Qi(m,o,l,0,t),er(A);break e}}s=A,4!==$s&&($s=2),null===ia?ia=[s]:ia.push(s),A=mi(A,l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,In(l,wi(0,A,t));break e;case 1:s=A;var C=l.type,I=l.stateNode;if(0===(128&l.flags)&&("function"===typeof C.getDerivedStateFromError||null!==I&&"function"===typeof I.componentDidCatch&&(null===ha||!ha.has(I)))){l.flags|=65536,t&=-t,l.lanes|=t,In(l,bi(l,s,t));break e}}l=l.return}while(null!==l)}ka(n)}catch(v){t=v,qs===n&&null!==n&&(qs=n=n.return);continue}break}}function Na(){var e=Ys.current;return Ys.current=di,null===e?di:e}function La(){0!==$s&&3!==$s&&2!==$s||($s=4),null===Ks||0===(268435455&ta)&&0===(268435455&na)||Qa(Ks,js)}function Pa(e,t){var n=Js;Js|=2;var r=Na();for(Ks===e&&js===t||Ra(e,t);;)try{Fa();break}catch(i){Ta(e,i)}if(an(),Js=n,Ys.current=r,null!==qs)throw Error(a(261));return Ks=null,js=0,$s}function Fa(){for(;null!==qs;)Ga(qs)}function Ua(){for(;null!==qs&&!Pt();)Ga(qs)}function Ga(e){var t=Aa(e.alternate,e,Xs);e.memoizedProps=e.pendingProps,null===t?ka(e):qs=t,Ws.current=null}function ka(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ni(n,t,Xs)))return void(qs=n)}else{if(null!==(n=ss(n,t)))return n.flags&=32767,void(qs=n);if(null===e)return $s=6,void(qs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(qs=t);qs=t=e}while(null!==t);0===$s&&($s=5)}function Ha(e,t){var n=Rt,r=Vs.transition;try{Vs.transition=null,Rt=1,function(e,t,n){do{Oa()}while(null!==ga);if(0!==(6&Js))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-vt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,s),e===Ks&&(qs=Ks=null,js=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||da||(da=!0,qa(Ht,(function(){return Oa(),null}))),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=Vs.transition,Vs.transition=null;var o=Rt;Rt=1;var l=Js;Js|=4,Ws.current=null,function(e,t){for(P(e.containerInfo),As=t;null!==As;)if(t=(e=As).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,As=t;else for(;null!==As;){e=As;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,s=e.stateNode,o=s.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);s.__reactInternalSnapshotBeforeUpdate=o}break;case 3:K&&be(e.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(l){Ya(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,As=t;break}As=e.return}n=hs,hs=!1}(e,r),function(e,t){for(As=t;null!==As;){var n=(t=As).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e;K?ws(s,i,t):ms(s,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(E){Ya(i,t,E)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,As=n;else for(;null!==As;){t=As;try{var o=t.flags;if(32&o&&K&&ve(t.stateNode),512&o){var l=t.alternate;if(null!==l){var A=l.ref;null!==A&&("function"===typeof A?A(null):A.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(aa=Ut())}break;case 22:var u=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;if(n=t,K)e:if(r=n,i=u,s=null,K)for(var g=r;;){if(5===g.tag){if(null===s){s=g;var p=g.stateNode;i?Ee(p):ye(g.stateNode,g.memoizedProps)}}else if(6===g.tag){if(null===s){var f=g.stateNode;i?Be(f):we(f,g.memoizedProps)}}else if((22!==g.tag&&23!==g.tag||null===g.memoizedState||g===r)&&null!==g.child){g.child.return=g,g=g.child;continue}if(g===r)break;for(;null===g.sibling;){if(null===g.return||g.return===r)break e;s===g&&(s=null),g=g.return}s===g&&(s=null),g.sibling.return=g.return,g=g.sibling}if(u&&!d&&0!==(1&n.mode)){As=n;for(var m=n.child;null!==m;){for(n=As=m;null!==As;){var C=(r=As).child;switch(r.tag){case 0:case 11:case 14:case 15:ds(4,r,r.return);break;case 1:cs(r,r.return);var I=r.stateNode;if("function"===typeof I.componentWillUnmount){var v=r.return;try{I.props=r.memoizedProps,I.state=r.memoizedState,I.componentWillUnmount()}catch(E){Ya(r,v,E)}}break;case 5:cs(r,r.return);break;case 22:if(null!==r.memoizedState){_s(n);continue}}null!==C?(C.return=r,As=C):_s(n)}m=m.sibling}}}switch(4102&o){case 2:Es(t),t.flags&=-3;break;case 6:Es(t),t.flags&=-3,bs(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,bs(t.alternate,t);break;case 4:bs(t.alternate,t)}}catch(E){Ya(t,t.return,E)}if(null!==(n=t.sibling)){n.return=t.return,As=n;break}As=t.return}}}(e,r),F(e.containerInfo),e.current=r,Ss(r,e,i),Ft(),Js=l,Rt=o,Vs.transition=s}else e.current=r;if(da&&(da=!1,ga=e,pa=i),s=e.pendingLanes,0===s&&(ha=null),function(e){if(Yt&&"function"===typeof Yt.onCommitFiberRoot)try{Yt.onCommitFiberRoot(zt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),wa(e,Ut()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(ca)throw ca=!1,e=ua,ua=null,e;0!==(1&pa)&&0!==e.tag&&Oa(),s=e.pendingLanes,0!==(1&s)?e===ma?fa++:(fa=0,ma=e):fa=0,jt()}(e,t,n)}finally{Vs.transition=r,Rt=n}return null}function Oa(){if(null!==ga){var e=Tt(pa),t=Vs.transition,n=Rt;try{if(Vs.transition=null,Rt=16>e?16:e,null===ga)var r=!1;else{if(e=ga,ga=null,pa=0,0!==(6&Js))throw Error(a(331));var i=Js;for(Js|=4,As=e.current;null!==As;){var s=As,o=s.child;if(0!==(16&As.flags)){var l=s.deletions;if(null!==l){for(var A=0;A<l.length;A++){var c=l[A];for(As=c;null!==As;){var u=As;switch(u.tag){case 0:case 11:case 15:ds(8,u,s)}var h=u.child;if(null!==h)h.return=u,As=h;else for(;null!==As;){var d=(u=As).sibling,g=u.return;if(Cs(u),u===c){As=null;break}if(null!==d){d.return=g,As=d;break}As=g}}}var p=s.alternate;if(null!==p){var f=p.child;if(null!==f){p.child=null;do{var m=f.sibling;f.sibling=null,f=m}while(null!==f)}}As=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,As=o;else e:for(;null!==As;){if(0!==(2048&(s=As).flags))switch(s.tag){case 0:case 11:case 15:ds(9,s,s.return)}var C=s.sibling;if(null!==C){C.return=s.return,As=C;break e}As=s.return}}var I=e.current;for(As=I;null!==As;){var v=(o=As).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,As=v;else e:for(o=I;null!==As;){if(0!==(2048&(l=As).flags))try{switch(l.tag){case 0:case 11:case 15:gs(9,l)}}catch(B){Ya(l,l.return,B)}if(l===o){As=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,As=E;break e}As=l.return}}if(Js=i,jt(),Yt&&"function"===typeof Yt.onPostCommitFiberRoot)try{Yt.onPostCommitFiberRoot(zt,e)}catch(B){}r=!0}return r}finally{Rt=n,Vs.transition=t}}return!1}function za(e,t,n){mn(e,t=wi(0,t=mi(n,t),1)),t=va(),null!==(e=ya(e,1))&&(_t(e,1,t),wa(e,t))}function Ya(e,t,n){if(3===e.tag)za(e,e,n);else for(;null!==t;){if(3===t.tag){za(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ha||!ha.has(r))){mn(t,e=bi(t,e=mi(n,e),1)),e=va(),null!==(t=ya(t,1))&&(_t(t,1,e),wa(t,e));break}}t=t.return}}function Wa(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=va(),e.pingedLanes|=e.suspendedLanes&n,Ks===e&&(js&n)===n&&(4===$s||3===$s&&(130023424&js)===js&&500>Ut()-aa?Ra(e,0):ra|=n),wa(e,t)}function Va(e,t){0===t&&(0===(1&e.mode)?t=1:(t=wt,0===(130023424&(wt<<=1))&&(wt=4194304)));var n=va();null!==(e=ya(e,t))&&(_t(e,t,n),wa(e,n))}function Ja(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Va(e,n)}function Ka(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Va(e,n)}function qa(e,t){return Nt(e,t)}function ja(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xa(e,t,n,r){return new ja(e,t,n,r)}function Za(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $a(e,t){var n=e.alternate;return null===n?((n=Xa(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eo(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Za(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case c:return to(n.children,i,s,t);case u:o=8,i|=8;break;case h:return(e=Xa(12,n,t,2|i)).elementType=h,e.lanes=s,e;case f:return(e=Xa(13,n,t,i)).elementType=f,e.lanes=s,e;case m:return(e=Xa(19,n,t,i)).elementType=m,e.lanes=s,e;case v:return no(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case d:o=10;break e;case g:o=9;break e;case p:o=11;break e;case C:o=14;break e;case I:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Xa(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function to(e,t,n,r){return(e=Xa(7,e,r,t)).lanes=n,e}function no(e,t,n,r){return(e=Xa(22,e,r,t)).elementType=v,e.lanes=n,e.stateNode={},e}function ro(e,t,n){return(e=Xa(6,e,null,t)).lanes=n,e}function io(e,t,n){return(t=Xa(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function so(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=V,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mt(0),this.expirationTimes=Mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.identifierPrefix=r,this.onRecoverableError=i,j&&(this.mutableSourceEagerHydrationData=null)}function ao(e,t,n,r,i,s,a,o,l){return e=new so(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Xa(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},gn(s),e}function oo(e){if(!e)return At;e:{if(b(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(gt(n))return mt(e,n,t)}return t}function lo(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=Q(t))?null:e.stateNode}function Ao(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function co(e,t){Ao(e,t),(e=e.alternate)&&Ao(e,t)}function uo(e){return null===(e=Q(e))?null:e.stateNode}function ho(){return null}return Aa=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ut.current)Pi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Pi=!1,function(e,t,n){switch(t.tag){case 3:Vi(t),$n();break;case 5:gr(t);break;case 1:gt(t.type)&&Ct(t);break;case 4:hr(t,t.stateNode.containerInfo);break;case 10:on(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(fr,1&fr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ji(e,t,n):(lt(fr,1&fr.current),null!==(e=is(e,t,n))?e.sibling:null);lt(fr,1&fr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return rs(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(fr,fr.current),r)break;return null;case 22:case 23:return t.lanes=0,Hi(e,t,n)}return is(e,t,n)}(e,t,n);Pi=0!==(131072&e.flags)}else Pi=!1,Yn&&0!==(1048576&t.flags)&&Gn(t,Rn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=dt(t,ct.current);cn(t,n),i=Rr(null,t,r,e,i,n);var s=Tr();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(r)?(s=!0,Ct(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,gn(t),i.updater=wn,t.stateNode=i,i._reactInternals=t,Qn(t,r,e,n),t=Wi(null,t,r,!0,s,n)):(t.tag=0,Yn&&s&&kn(t),Fi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Za(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===p)return 11;if(e===C)return 14}return 2}(r),e=en(r,e),i){case 0:t=zi(null,t,r,e,n);break e;case 1:t=Yi(null,t,r,e,n);break e;case 11:t=Ui(null,t,r,e,n);break e;case 14:t=Gi(null,t,r,en(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,zi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Yi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Vi(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,pn(e,t),vn(t,r,null,n);var o=t.memoizedState;if(r=o.element,j&&s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ji(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Ji(e,t,r,n,i=Error(a(424)));break e}for(j&&(zn=He(t.stateNode.containerInfo),On=t,Yn=!0,Vn=null,Wn=!1),n=ar(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if($n(),r===i){t=is(e,t,n);break e}Fi(e,t,r,n)}t=t.child}return t;case 5:return gr(t),null===e&&jn(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,O(r,i)?o=null:null!==s&&O(r,s)&&(t.flags|=32),Oi(e,t),Fi(e,t,o,n),t.child;case 6:return null===e&&jn(t),null;case 13:return ji(e,t,n);case 4:return hr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=sr(t,null,r,n):Fi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ui(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Fi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,on(0,r,o=i.value),null!==s)if(Wt(s.value,o)){if(s.children===i.children&&!ut.current){t=is(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var A=l.firstContext;null!==A;){if(A.context===r){if(1===s.tag){(A=fn(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?A.next=A:(A.next=u.next,u.next=A),c.pending=A}}s.lanes|=n,null!==(A=s.alternate)&&(A.lanes|=n),An(s.return,n,t),l.lanes|=n;break}A=A.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),An(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}Fi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=un(i)),t.flags|=1,Fi(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Gi(e,t,r,i=en(r.type,i),n);case 15:return ki(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gt(r)?(e=!0,Ct(t)):e=!1,cn(t,n),xn(t,r,i),Qn(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return rs(e,t,n);case 22:return Hi(e,t,n)}throw Error(a(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(Ba(e,134217728,va()),co(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=va(),n=Ea(e);Ba(e,n,t),co(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bt(t.pendingLanes);0!==n&&(Dt(t,1|n),wa(t,Ut()),0===(6&Js)&&(la(),jt()))}break;case 13:var r=va();_a((function(){return Ba(e,1,r)})),co(e,1)}},t.batchedUpdates=function(e,t){var n=Js;Js|=1;try{return e(t)}finally{0===(Js=n)&&(la(),Jt&&jt())}},t.createComponentSelector=function(e){return{$$typeof:Rs,value:e}},t.createContainer=function(e,t,n,r,i,s,a){return ao(e,t,!1,null,0,r,0,s,a)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ts,value:e}},t.createHydrationContainer=function(e,t,n,r,i,s,a,o,l){return(e=ao(n,r,!0,e,0,s,0,o,l)).context=oo(null),n=e.current,(s=fn(r=va(),i=Ea(n))).callback=void 0!==t&&null!==t?t:null,mn(n,s),e.current.lanes=i,_t(e,i,r),wa(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Ns,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Ls,value:e}},t.createTextSelector=function(e){return{$$typeof:Ps,value:e}},t.deferredUpdates=function(e){var t=Rt,n=Vs.transition;try{return Vs.transition=null,Rt=16,e()}finally{Rt=t,Vs.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var s=Rt,a=Vs.transition;try{return Vs.transition=null,Rt=1,e(t,n,r,i)}finally{Rt=s,Vs.transition=a,0===Js&&la()}},t.findAllNodes=Os,t.findBoundingRects=function(e,t){if(!re)throw Error(a(363));t=Os(e,t),e=[];for(var n=0;n<t.length;n++)e.push(se(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,s=n.y,o=s+n.height,l=t-1;0<=l;l--)if(t!==l){var A=e[l],c=A.x,u=c+A.width,h=A.y,d=h+A.height;if(r>=c&&s>=h&&i<=u&&o<=d){e.splice(t,1);break}if(!(r!==c||n.width!==A.width||d<s||h>o)){h>s&&(A.height+=h-s,A.y=s),d<o&&(A.height=o-h),e.splice(t,1);break}if(!(s!==h||n.height!==A.height||u<r||c>i)){c>r&&(A.width+=c-r,A.x=r),u<i&&(A.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=lo,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=S(e))?_(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return lo(e)},t.flushControlled=function(e){var t=Js;Js|=1;var n=Vs.transition,r=Rt;try{Vs.transition=null,Rt=1,e()}finally{Rt=r,Vs.transition=n,0===(Js=t)&&(la(),jt())}},t.flushPassiveEffects=Oa,t.flushSync=_a,t.focusWithin=function(e,t){if(!re)throw Error(a(363));for(t=Hs(e=Us(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!oe(n)){if(5===n.tag&&Ae(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Rt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(a(363));var n=0,r=[];e=[Us(e),0];for(var i=0;i<e.length;){var s=e[i++],o=e[i++],l=t[o];if((5!==s.tag||!oe(s))&&(Gs(s,l)&&(r.push(ks(l)),++o>n&&(n=o)),o<t.length))for(s=s.child;null!==s;)e.push(s,o),s=s.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(ks(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?T(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:uo,findFiberByHostInstance:e.findFiberByHostInstance||ho,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{zt=t.inject(e),Yt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(a(363));e=Os(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,s=va(),a=Ea(i);return n=oo(n),null===t.context?t.context=n:t.pendingContext=n,(t=fn(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mn(i,t),null!==(e=Ba(i,a,s))&&Cn(e,i,a),a},t}},585:(e,t,n)=>{"use strict";e.exports=n(976)},258:(e,t,n)=>{"use strict";e.exports=n(721)},783:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],A=o+1,c=e[A];if(0>s(l,n))A<i&&0>s(c,l)?(e[r]=c,e[A]=n,r=A):(e[r]=l,e[o]=n,r=o);else{if(!(A<i&&0>s(c,n)))break e;e[r]=c,e[A]=n,r=A}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var A=[],c=[],u=1,h=null,d=3,g=!1,p=!1,f=!1,m="function"===typeof setTimeout?setTimeout:null,C="function"===typeof clearTimeout?clearTimeout:null,I="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(A,t)}t=r(c)}}function E(e){if(f=!1,v(e),!p)if(null!==r(A))p=!0,T(B);else{var t=r(c);null!==t&&N(E,t.startTime-e)}}function B(e,n){p=!1,f&&(f=!1,C(x),x=-1),g=!0;var s=d;try{for(v(n),h=r(A);null!==h&&(!(h.expirationTime>n)||e&&!M());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(A)&&i(A),v(n)}else i(A);h=r(A)}if(null!==h)var l=!0;else{var u=r(c);null!==u&&N(E,u.startTime-n),l=!1}return l}finally{h=null,d=s,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var y,w=!1,b=null,x=-1,S=5,Q=-1;function M(){return!(t.unstable_now()-Q<S)}function _(){if(null!==b){var e=t.unstable_now();Q=e;var n=!0;try{n=b(!0,e)}finally{n?y():(w=!1,b=null)}}else w=!1}if("function"===typeof I)y=function(){I(_)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=_,y=function(){R.postMessage(null)}}else y=function(){m(_,0)};function T(e){b=e,w||(w=!0,y())}function N(e,n){x=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,T(B))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(A)&&e===r(c)&&(f?(C(x),x=-1):f=!0,N(E,s-a))):(e.sortIndex=o,n(A,e),p||g||(p=!0,T(B))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},100:(e,t,n)=>{"use strict";e.exports=n(783)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,s={},A=null,c=null;for(r in void 0!==n&&(A=""+n),void 0!==t.key&&(A=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:A,ref:c,props:s,_owner:o.current}}t.jsx=A,t.jsxs=A},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,f={};function m(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||g}function C(){}function I(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||g}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=m.prototype;var v=I.prototype=new C;v.constructor=I,p(v,m.prototype),v.isPureReactComponent=!0;var E=Array.isArray,B=Object.prototype.hasOwnProperty,y={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function b(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)B.call(t,i)&&!w.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var A=Array(l),c=0;c<l;c++)A[c]=arguments[c+2];s.children=A}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:y.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function Q(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+Q(l,0):s,E(a)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),M(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",E(e))for(var A=0;A<e.length;A++){var c=s+Q(o=e[A],A);l+=M(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),A=0;!(o=e.next()).done;)l+=M(o=o.value,t,i,c=s+Q(o,A++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},T={transition:null},N={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:T,ReactCurrentOwner:y};t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=I,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=y.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(A in t)B.call(t,A)&&!w.hasOwnProperty(A)&&(i[A]=void 0===t[A]&&void 0!==l?l[A]:t[A])}var A=arguments.length-2;if(1===A)i.children=r;else if(1<A){l=Array(A);for(var c=0;c<A;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=b,t.createFactory=function(e){var t=b.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:A,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],A=o+1,c=e[A];if(0>s(l,n))A<i&&0>s(c,l)?(e[r]=c,e[A]=n,r=A):(e[r]=l,e[o]=n,r=o);else{if(!(A<i&&0>s(c,n)))break e;e[r]=c,e[A]=n,r=A}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var A=[],c=[],u=1,h=null,d=3,g=!1,p=!1,f=!1,m="function"===typeof setTimeout?setTimeout:null,C="function"===typeof clearTimeout?clearTimeout:null,I="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(A,t)}t=r(c)}}function E(e){if(f=!1,v(e),!p)if(null!==r(A))p=!0,T(B);else{var t=r(c);null!==t&&N(E,t.startTime-e)}}function B(e,n){p=!1,f&&(f=!1,C(x),x=-1),g=!0;var s=d;try{for(v(n),h=r(A);null!==h&&(!(h.expirationTime>n)||e&&!M());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(A)&&i(A),v(n)}else i(A);h=r(A)}if(null!==h)var l=!0;else{var u=r(c);null!==u&&N(E,u.startTime-n),l=!1}return l}finally{h=null,d=s,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var y,w=!1,b=null,x=-1,S=5,Q=-1;function M(){return!(t.unstable_now()-Q<S)}function _(){if(null!==b){var e=t.unstable_now();Q=e;var n=!0;try{n=b(!0,e)}finally{n?y():(w=!1,b=null)}}else w=!1}if("function"===typeof I)y=function(){I(_)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=_,y=function(){R.postMessage(null)}}else y=function(){m(_,0)};function T(e){b=e,w||(w=!0,y())}function N(e,n){x=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,T(B))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(A)&&e===r(c)&&(f?(C(x),x=-1):f=!0,N(E,s-a))):(e.sortIndex=o,n(A,e),p||g||(p=!0,T(B))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},561:(e,t,n)=>{"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,a=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function A(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return o((function(){i.value=n,i.getSnapshot=t,A(i)&&c({inst:i})}),[e,n,t]),a((function(){return A(i)&&c({inst:i}),e((function(){A(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},595:(e,t,n)=>{"use strict";var r=n(791),i=n(248);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,o=r.useRef,l=r.useEffect,A=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var u=o(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=A((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return o=t}return o=e}if(t=o,s(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,o=n)}var a,o,l=!1,A=void 0===n?null:n;return[function(){return e(t())},null===A?void 0:function(){return e(A())}]}),[t,n,r,i]);var d=a(e,u[0],u[1]);return l((function(){h.hasValue=!0,h.value=d}),[d]),c(d),d}},248:(e,t,n)=>{"use strict";e.exports=n(561)},327:(e,t,n)=>{"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".dfbecc7b.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="coconut-xr-app:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var A=document.getElementsByTagName("script"),c=0;c<A.length;c++){var u=A[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],A=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);A<a.length;A++)s=a[A],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkcoconut_xr_app=self.webpackChunkcoconut_xr_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:()=>oe,AddEquation:()=>x,AddOperation:()=>ne,AdditiveAnimationBlendMode:()=>kt,AdditiveBlending:()=>B,AlphaFormat:()=>He,AlwaysCompare:()=>Mn,AlwaysDepth:()=>J,AlwaysStencilFunc:()=>En,AmbientLight:()=>Jh,AnimationAction:()=>Pd,AnimationClip:()=>mh,AnimationLoader:()=>xh,AnimationMixer:()=>Ud,AnimationObjectGroup:()=>Ld,AnimationUtils:()=>ih,ArcCurve:()=>Bc,ArrayCamera:()=>Wl,ArrowHelper:()=>Mg,AttachedBindMode:()=>Ae,Audio:()=>vd,AudioAnalyser:()=>xd,AudioContext:()=>od,AudioListener:()=>Id,AudioLoader:()=>ld,AxesHelper:()=>_g,BackSide:()=>m,BasicDepthPacking:()=>Vt,BasicShadowMap:()=>h,Bone:()=>PA,BooleanKeyframeTrack:()=>ch,Box2:()=>jd,Box3:()=>Hr,Box3Helper:()=>wg,BoxGeometry:()=>Zs,BoxHelper:()=>yg,BufferAttribute:()=>gs,BufferGeometry:()=>Rs,BufferGeometryLoader:()=>ed,ByteType:()=>De,Cache:()=>Ih,Camera:()=>ia,CameraHelper:()=>vg,CanvasTexture:()=>Ic,CapsuleGeometry:()=>zc,CatmullRomCurve3:()=>Qc,CineonToneMapping:()=>ae,CircleGeometry:()=>Yc,ClampToEdgeWrapping:()=>Ce,Clock:()=>dd,Color:()=>ns,ColorKeyframeTrack:()=>uh,ColorManagement:()=>Ir,CompressedArrayTexture:()=>mc,CompressedCubeTexture:()=>Cc,CompressedTexture:()=>fc,CompressedTextureLoader:()=>Sh,ConeGeometry:()=>Vc,ConstantAlphaFactor:()=>Y,ConstantColorFactor:()=>O,CubeCamera:()=>oa,CubeReflectionMapping:()=>he,CubeRefractionMapping:()=>de,CubeTexture:()=>la,CubeTextureLoader:()=>Mh,CubeUVReflectionMapping:()=>fe,CubicBezierCurve:()=>Rc,CubicBezierCurve3:()=>Tc,CubicInterpolant:()=>ah,CullFaceBack:()=>A,CullFaceFront:()=>c,CullFaceFrontBack:()=>u,CullFaceNone:()=>l,Curve:()=>vc,CurvePath:()=>kc,CustomBlending:()=>b,CustomToneMapping:()=>le,CylinderGeometry:()=>Wc,Cylindrical:()=>Kd,Data3DTexture:()=>Nr,DataArrayTexture:()=>Rr,DataTexture:()=>FA,DataTextureLoader:()=>_h,DataUtils:()=>us,DecrementStencilOp:()=>cn,DecrementWrapStencilOp:()=>hn,DefaultLoadingManager:()=>Eh,DepthFormat:()=>We,DepthStencilFormat:()=>Ve,DepthTexture:()=>ql,DetachedBindMode:()=>ce,DirectionalLight:()=>Vh,DirectionalLightHelper:()=>mg,DiscreteInterpolant:()=>lh,DisplayP3ColorSpace:()=>$t,DodecahedronGeometry:()=>Kc,DoubleSide:()=>C,DstAlphaFactor:()=>F,DstColorFactor:()=>G,DynamicCopyUsage:()=>Fn,DynamicDrawUsage:()=>Dn,DynamicReadUsage:()=>Nn,EdgesGeometry:()=>$c,EllipseCurve:()=>Ec,EqualCompare:()=>wn,EqualDepth:()=>j,EqualStencilFunc:()=>fn,EquirectangularReflectionMapping:()=>ge,EquirectangularRefractionMapping:()=>pe,Euler:()=>wi,EventDispatcher:()=>Yn,ExtrudeGeometry:()=>Mu,FileLoader:()=>bh,Float16BufferAttribute:()=>Bs,Float32BufferAttribute:()=>ys,Float64BufferAttribute:()=>ws,FloatType:()=>Pe,Fog:()=>nA,FogExp2:()=>tA,FramebufferTexture:()=>pc,FrontSide:()=>f,Frustum:()=>fa,GLBufferAttribute:()=>zd,GLSL1:()=>Gn,GLSL3:()=>kn,GreaterCompare:()=>xn,GreaterDepth:()=>Z,GreaterEqualCompare:()=>Qn,GreaterEqualDepth:()=>X,GreaterEqualStencilFunc:()=>vn,GreaterStencilFunc:()=>Cn,GridHelper:()=>hg,Group:()=>Vl,HalfFloatType:()=>Fe,HemisphereLight:()=>Th,HemisphereLightHelper:()=>ug,IcosahedronGeometry:()=>Du,ImageBitmapLoader:()=>sd,ImageLoader:()=>Qh,ImageUtils:()=>yr,IncrementStencilOp:()=>An,IncrementWrapStencilOp:()=>un,InstancedBufferAttribute:()=>HA,InstancedBufferGeometry:()=>$h,InstancedInterleavedBuffer:()=>Od,InstancedMesh:()=>qA,Int16BufferAttribute:()=>Cs,Int32BufferAttribute:()=>vs,Int8BufferAttribute:()=>ps,IntType:()=>Ne,InterleavedBuffer:()=>iA,InterleavedBufferAttribute:()=>aA,Interpolant:()=>sh,InterpolateDiscrete:()=>Tt,InterpolateLinear:()=>Nt,InterpolateSmooth:()=>Lt,InvertStencilOp:()=>dn,KeepStencilOp:()=>on,KeyframeTrack:()=>Ah,LOD:()=>bA,LatheGeometry:()=>Oc,Layers:()=>bi,LessCompare:()=>yn,LessDepth:()=>K,LessEqualCompare:()=>bn,LessEqualDepth:()=>q,LessEqualStencilFunc:()=>mn,LessStencilFunc:()=>pn,Light:()=>Rh,LightProbe:()=>jh,Line:()=>nc,Line3:()=>$d,LineBasicMaterial:()=>jA,LineCurve:()=>Nc,LineCurve3:()=>Lc,LineDashedMaterial:()=>Zu,LineLoop:()=>ac,LineSegments:()=>sc,LinearDisplayP3ColorSpace:()=>en,LinearEncoding:()=>Yt,LinearFilter:()=>be,LinearInterpolant:()=>oh,LinearMipMapLinearFilter:()=>Me,LinearMipMapNearestFilter:()=>Se,LinearMipmapLinearFilter:()=>Qe,LinearMipmapNearestFilter:()=>xe,LinearSRGBColorSpace:()=>Zt,LinearToneMapping:()=>ie,LinearTransfer:()=>tn,Loader:()=>Bh,LoaderUtils:()=>Zh,LoadingManager:()=>vh,LoopOnce:()=>_t,LoopPingPong:()=>Rt,LoopRepeat:()=>Dt,LuminanceAlphaFormat:()=>Ye,LuminanceFormat:()=>ze,MOUSE:()=>a,Material:()=>ss,MaterialLoader:()=>Xh,MathUtils:()=>ir,Matrix3:()=>ar,Matrix4:()=>gi,MaxEquation:()=>_,Mesh:()=>js,MeshBasicMaterial:()=>as,MeshDepthMaterial:()=>Gl,MeshDistanceMaterial:()=>kl,MeshLambertMaterial:()=>ju,MeshMatcapMaterial:()=>Xu,MeshNormalMaterial:()=>qu,MeshPhongMaterial:()=>Ju,MeshPhysicalMaterial:()=>Vu,MeshStandardMaterial:()=>Wu,MeshToonMaterial:()=>Ku,MinEquation:()=>M,MirroredRepeatWrapping:()=>Ie,MixOperation:()=>te,MultiplyBlending:()=>w,MultiplyOperation:()=>ee,NearestFilter:()=>ve,NearestMipMapLinearFilter:()=>we,NearestMipMapNearestFilter:()=>Be,NearestMipmapLinearFilter:()=>ye,NearestMipmapNearestFilter:()=>Ee,NeverCompare:()=>Bn,NeverDepth:()=>V,NeverStencilFunc:()=>gn,NoBlending:()=>v,NoColorSpace:()=>jt,NoToneMapping:()=>re,NormalAnimationBlendMode:()=>Gt,NormalBlending:()=>E,NotEqualCompare:()=>Sn,NotEqualDepth:()=>$,NotEqualStencilFunc:()=>In,NumberKeyframeTrack:()=>hh,Object3D:()=>Gi,ObjectLoader:()=>td,ObjectSpaceNormalMap:()=>qt,OctahedronGeometry:()=>Ru,OneFactor:()=>R,OneMinusConstantAlphaFactor:()=>W,OneMinusConstantColorFactor:()=>z,OneMinusDstAlphaFactor:()=>U,OneMinusDstColorFactor:()=>k,OneMinusSrcAlphaFactor:()=>P,OneMinusSrcColorFactor:()=>N,OrthographicCamera:()=>_a,P3Primaries:()=>sn,PCFShadowMap:()=>d,PCFSoftShadowMap:()=>g,PMREMGenerator:()=>Ha,Path:()=>Hc,PerspectiveCamera:()=>sa,Plane:()=>da,PlaneGeometry:()=>Ia,PlaneHelper:()=>bg,PointLight:()=>Yh,PointLightHelper:()=>og,Points:()=>hc,PointsMaterial:()=>oc,PolarGridHelper:()=>dg,PolyhedronGeometry:()=>Jc,PositionalAudio:()=>bd,PropertyBinding:()=>Nd,PropertyMixer:()=>Sd,QuadraticBezierCurve:()=>Pc,QuadraticBezierCurve3:()=>Fc,Quaternion:()=>Fr,QuaternionKeyframeTrack:()=>gh,QuaternionLinearInterpolant:()=>dh,RED_GREEN_RGTC2_Format:()=>Qt,RED_RGTC1_Format:()=>xt,REVISION:()=>s,RGBADepthPacking:()=>Jt,RGBAFormat:()=>Oe,RGBAIntegerFormat:()=>Xe,RGBA_ASTC_10x10_Format:()=>vt,RGBA_ASTC_10x5_Format:()=>mt,RGBA_ASTC_10x6_Format:()=>Ct,RGBA_ASTC_10x8_Format:()=>It,RGBA_ASTC_12x10_Format:()=>Et,RGBA_ASTC_12x12_Format:()=>Bt,RGBA_ASTC_4x4_Format:()=>At,RGBA_ASTC_5x4_Format:()=>ct,RGBA_ASTC_5x5_Format:()=>ut,RGBA_ASTC_6x5_Format:()=>ht,RGBA_ASTC_6x6_Format:()=>dt,RGBA_ASTC_8x5_Format:()=>gt,RGBA_ASTC_8x6_Format:()=>pt,RGBA_ASTC_8x8_Format:()=>ft,RGBA_BPTC_Format:()=>yt,RGBA_ETC2_EAC_Format:()=>lt,RGBA_PVRTC_2BPPV1_Format:()=>st,RGBA_PVRTC_4BPPV1_Format:()=>it,RGBA_S3TC_DXT1_Format:()=>$e,RGBA_S3TC_DXT3_Format:()=>et,RGBA_S3TC_DXT5_Format:()=>tt,RGB_BPTC_SIGNED_Format:()=>wt,RGB_BPTC_UNSIGNED_Format:()=>bt,RGB_ETC1_Format:()=>at,RGB_ETC2_Format:()=>ot,RGB_PVRTC_2BPPV1_Format:()=>rt,RGB_PVRTC_4BPPV1_Format:()=>nt,RGB_S3TC_DXT1_Format:()=>Ze,RGFormat:()=>qe,RGIntegerFormat:()=>je,RawShaderMaterial:()=>Yu,Ray:()=>di,Raycaster:()=>Yd,Rec709Primaries:()=>rn,RectAreaLight:()=>Kh,RedFormat:()=>Je,RedIntegerFormat:()=>Ke,ReinhardToneMapping:()=>se,RenderTarget:()=>_r,RepeatWrapping:()=>me,ReplaceStencilOp:()=>ln,ReverseSubtractEquation:()=>Q,RingGeometry:()=>Tu,SIGNED_RED_GREEN_RGTC2_Format:()=>Mt,SIGNED_RED_RGTC1_Format:()=>St,SRGBColorSpace:()=>Xt,SRGBTransfer:()=>nn,Scene:()=>rA,ShaderChunk:()=>va,ShaderLib:()=>Ba,ShaderMaterial:()=>ra,ShadowMaterial:()=>zu,Shape:()=>eu,ShapeGeometry:()=>Nu,ShapePath:()=>Dg,ShapeUtils:()=>xu,ShortType:()=>Re,Skeleton:()=>kA,SkeletonHelper:()=>sg,SkinnedMesh:()=>LA,Source:()=>br,Sphere:()=>si,SphereGeometry:()=>Lu,Spherical:()=>Jd,SphericalHarmonics3:()=>qh,SplineCurve:()=>Uc,SpotLight:()=>Gh,SpotLightHelper:()=>tg,Sprite:()=>EA,SpriteMaterial:()=>oA,SrcAlphaFactor:()=>L,SrcAlphaSaturateFactor:()=>H,SrcColorFactor:()=>T,StaticCopyUsage:()=>Pn,StaticDrawUsage:()=>_n,StaticReadUsage:()=>Tn,StereoCamera:()=>hd,StreamCopyUsage:()=>Un,StreamDrawUsage:()=>Rn,StreamReadUsage:()=>Ln,StringKeyframeTrack:()=>ph,SubtractEquation:()=>S,SubtractiveBlending:()=>y,TOUCH:()=>o,TangentSpaceNormalMap:()=>Kt,TetrahedronGeometry:()=>Pu,Texture:()=>Qr,TextureLoader:()=>Dh,TorusGeometry:()=>Fu,TorusKnotGeometry:()=>Uu,Triangle:()=>Xi,TriangleFanDrawMode:()=>zt,TriangleStripDrawMode:()=>Ot,TrianglesDrawMode:()=>Ht,TubeGeometry:()=>Gu,TwoPassDoubleSide:()=>I,UVMapping:()=>ue,Uint16BufferAttribute:()=>Is,Uint32BufferAttribute:()=>Es,Uint8BufferAttribute:()=>fs,Uint8ClampedBufferAttribute:()=>ms,Uniform:()=>Gd,UniformsGroup:()=>Hd,UniformsLib:()=>Ea,UniformsUtils:()=>na,UnsignedByteType:()=>_e,UnsignedInt248Type:()=>ke,UnsignedIntType:()=>Le,UnsignedShort4444Type:()=>Ue,UnsignedShort5551Type:()=>Ge,UnsignedShortType:()=>Te,VSMShadowMap:()=>p,Vector2:()=>sr,Vector3:()=>Ur,Vector4:()=>Mr,VectorKeyframeTrack:()=>fh,VideoTexture:()=>gc,WebGL1Renderer:()=>eA,WebGL3DRenderTarget:()=>Lr,WebGLArrayRenderTarget:()=>Tr,WebGLCoordinateSystem:()=>On,WebGLCubeRenderTarget:()=>Aa,WebGLMultipleRenderTargets:()=>Pr,WebGLRenderTarget:()=>Dr,WebGLRenderer:()=>$l,WebGLUtils:()=>Yl,WebGPUCoordinateSystem:()=>zn,WireframeGeometry:()=>ku,WrapAroundEnding:()=>Ut,ZeroCurvatureEnding:()=>Pt,ZeroFactor:()=>D,ZeroSlopeEnding:()=>Ft,ZeroStencilOp:()=>an,_SRGBAFormat:()=>Hn,createCanvasElement:()=>hr,sRGBEncoding:()=>Wt});var t={};n.r(t),n.d(t,{Constants:()=>lf,MotionController:()=>hf});var r=n(791),i=n(250);const s="158",a={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},l=0,A=1,c=2,u=3,h=0,d=1,g=2,p=3,f=0,m=1,C=2,I=2,v=0,E=1,B=2,y=3,w=4,b=5,x=100,S=101,Q=102,M=103,_=104,D=200,R=201,T=202,N=203,L=204,P=205,F=206,U=207,G=208,k=209,H=210,O=211,z=212,Y=213,W=214,V=0,J=1,K=2,q=3,j=4,X=5,Z=6,$=7,ee=0,te=1,ne=2,re=0,ie=1,se=2,ae=3,oe=4,le=5,Ae="attached",ce="detached",ue=300,he=301,de=302,ge=303,pe=304,fe=306,me=1e3,Ce=1001,Ie=1002,ve=1003,Ee=1004,Be=1004,ye=1005,we=1005,be=1006,xe=1007,Se=1007,Qe=1008,Me=1008,_e=1009,De=1010,Re=1011,Te=1012,Ne=1013,Le=1014,Pe=1015,Fe=1016,Ue=1017,Ge=1018,ke=1020,He=1021,Oe=1023,ze=1024,Ye=1025,We=1026,Ve=1027,Je=1028,Ke=1029,qe=1030,je=1031,Xe=1033,Ze=33776,$e=33777,et=33778,tt=33779,nt=35840,rt=35841,it=35842,st=35843,at=36196,ot=37492,lt=37496,At=37808,ct=37809,ut=37810,ht=37811,dt=37812,gt=37813,pt=37814,ft=37815,mt=37816,Ct=37817,It=37818,vt=37819,Et=37820,Bt=37821,yt=36492,wt=36494,bt=36495,xt=36283,St=36284,Qt=36285,Mt=36286,_t=2200,Dt=2201,Rt=2202,Tt=2300,Nt=2301,Lt=2302,Pt=2400,Ft=2401,Ut=2402,Gt=2500,kt=2501,Ht=0,Ot=1,zt=2,Yt=3e3,Wt=3001,Vt=3200,Jt=3201,Kt=0,qt=1,jt="",Xt="srgb",Zt="srgb-linear",$t="display-p3",en="display-p3-linear",tn="linear",nn="srgb",rn="rec709",sn="p3",an=0,on=7680,ln=7681,An=7682,cn=7683,un=34055,hn=34056,dn=5386,gn=512,pn=513,fn=514,mn=515,Cn=516,In=517,vn=518,En=519,Bn=512,yn=513,wn=514,bn=515,xn=516,Sn=517,Qn=518,Mn=519,_n=35044,Dn=35048,Rn=35040,Tn=35045,Nn=35049,Ln=35041,Pn=35046,Fn=35050,Un=35042,Gn="100",kn="300 es",Hn=1035,On=2e3,zn=2001;class Yn{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const Wn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Vn=1234567;const Jn=Math.PI/180,Kn=180/Math.PI;function qn(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Wn[255&e]+Wn[e>>8&255]+Wn[e>>16&255]+Wn[e>>24&255]+"-"+Wn[255&t]+Wn[t>>8&255]+"-"+Wn[t>>16&15|64]+Wn[t>>24&255]+"-"+Wn[63&n|128]+Wn[n>>8&255]+"-"+Wn[n>>16&255]+Wn[n>>24&255]+Wn[255&r]+Wn[r>>8&255]+Wn[r>>16&255]+Wn[r>>24&255]).toLowerCase()}function jn(e,t,n){return Math.max(t,Math.min(n,e))}function Xn(e,t){return(e%t+t)%t}function Zn(e,t,n){return(1-n)*e+n*t}function $n(e){return 0===(e&e-1)&&0!==e}function er(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function tr(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function nr(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function rr(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const ir={DEG2RAD:Jn,RAD2DEG:Kn,generateUUID:qn,clamp:jn,euclideanModulo:Xn,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Zn,damp:function(e,t,n,r){return Zn(e,t,1-Math.exp(-n*r))},pingpong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Xn(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Vn=e);let t=Vn+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Jn},radToDeg:function(e){return e*Kn},isPowerOfTwo:$n,ceilPowerOfTwo:er,floorPowerOfTwo:tr,setQuaternionFromProperEuler:function(e,t,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),A=s((t+r)/2),c=a((t+r)/2),u=s((t-r)/2),h=a((t-r)/2),d=s((r-t)/2),g=a((r-t)/2);switch(i){case"XYX":e.set(o*c,l*u,l*h,o*A);break;case"YZY":e.set(l*h,o*c,l*u,o*A);break;case"ZXZ":e.set(l*u,l*h,o*c,o*A);break;case"XZX":e.set(o*c,l*g,l*d,o*A);break;case"YXY":e.set(l*d,o*c,l*g,o*A);break;case"ZYZ":e.set(l*g,l*d,o*c,o*A);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:rr,denormalize:nr};class sr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;sr.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(jn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,s=this.y-e.y;return this.x=i*n-s*r+e.x,this.y=i*r+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ar{constructor(e,t,n,r,i,s,a,o,l){ar.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,s,a,o,l)}set(e,t,n,r,i,s,a,o,l){const A=this.elements;return A[0]=e,A[1]=r,A[2]=a,A[3]=t,A[4]=i,A[5]=o,A[6]=n,A[7]=s,A[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,s=n[0],a=n[3],o=n[6],l=n[1],A=n[4],c=n[7],u=n[2],h=n[5],d=n[8],g=r[0],p=r[3],f=r[6],m=r[1],C=r[4],I=r[7],v=r[2],E=r[5],B=r[8];return i[0]=s*g+a*m+o*v,i[3]=s*p+a*C+o*E,i[6]=s*f+a*I+o*B,i[1]=l*g+A*m+c*v,i[4]=l*p+A*C+c*E,i[7]=l*f+A*I+c*B,i[2]=u*g+h*m+d*v,i[5]=u*p+h*C+d*E,i[8]=u*f+h*I+d*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],A=e[8];return t*s*A-t*a*l-n*i*A+n*a*o+r*i*l-r*s*o}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],A=e[8],c=A*s-a*l,u=a*o-A*i,h=l*i-s*o,d=t*c+n*u+r*h;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const g=1/d;return e[0]=c*g,e[1]=(r*l-A*n)*g,e[2]=(a*n-r*s)*g,e[3]=u*g,e[4]=(A*t-r*o)*g,e[5]=(r*i-a*t)*g,e[6]=h*g,e[7]=(n*o-l*t)*g,e[8]=(s*t-n*i)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,s,a){const o=Math.cos(i),l=Math.sin(i);return this.set(n*o,n*l,-n*(o*s+l*a)+s+e,-r*l,r*o,-r*(-l*s+o*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(or.makeScale(e,t)),this}rotate(e){return this.premultiply(or.makeRotation(-e)),this}translate(e,t){return this.premultiply(or.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const or=new ar;function lr(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const Ar={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function cr(e,t){return new Ar[e](t)}function ur(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function hr(){const e=ur("canvas");return e.style.display="block",e}const dr={};function gr(e){e in dr||(dr[e]=!0,console.warn(e))}const pr=(new ar).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),fr=(new ar).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),mr={[Zt]:{transfer:tn,primaries:rn,toReference:e=>e,fromReference:e=>e},[Xt]:{transfer:nn,primaries:rn,toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[en]:{transfer:tn,primaries:sn,toReference:e=>e.applyMatrix3(fr),fromReference:e=>e.applyMatrix3(pr)},[$t]:{transfer:nn,primaries:sn,toReference:e=>e.convertSRGBToLinear().applyMatrix3(fr),fromReference:e=>e.applyMatrix3(pr).convertLinearToSRGB()}},Cr=new Set([Zt,en]),Ir={enabled:!0,_workingColorSpace:Zt,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!Cr.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const r=mr[t].toReference;return(0,mr[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return mr[e].primaries},getTransfer:function(e){return e===jt?tn:mr[e].transfer}};function vr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Er(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let Br;class yr{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Br&&(Br=ur("canvas")),Br.width=e.width,Br.height=e.height;const n=Br.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Br}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=ur("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*vr(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*vr(t[e]/255)):t[e]=vr(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let wr=0;class br{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:wr++}),this.uuid=qn(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(xr(r[t].image)):e.push(xr(r[t]))}else e=xr(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function xr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?yr.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Sr=0;class Qr extends Yn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qr.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ce,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:be,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qe,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Oe,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:_e,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Qr.DEFAULT_ANISOTROPY,A=arguments.length>9&&void 0!==arguments[9]?arguments[9]:jt;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Sr++}),this.uuid=qn(),this.name="",this.source=new br(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=s,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=o,this.offset=new sr(0,0),this.repeat=new sr(1,1),this.center=new sr(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ar,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"===typeof A?this.colorSpace=A:(gr("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=A===Wt?Xt:jt),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ue)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case me:e.x=e.x-Math.floor(e.x);break;case Ce:e.x=e.x<0?0:1;break;case Ie:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case me:e.y=e.y-Math.floor(e.y);break;case Ce:e.y=e.y<0?0:1;break;case Ie:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return gr("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Xt?Wt:Yt}set encoding(e){gr("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Wt?Xt:jt}}Qr.DEFAULT_IMAGE=null,Qr.DEFAULT_MAPPING=ue,Qr.DEFAULT_ANISOTROPY=1;class Mr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Mr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r+s[12]*i,this.y=s[1]*t+s[5]*n+s[9]*r+s[13]*i,this.z=s[2]*t+s[6]*n+s[10]*r+s[14]*i,this.w=s[3]*t+s[7]*n+s[11]*r+s[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const s=.01,a=.1,o=e.elements,l=o[0],A=o[4],c=o[8],u=o[1],h=o[5],d=o[9],g=o[2],p=o[6],f=o[10];if(Math.abs(A-u)<s&&Math.abs(c-g)<s&&Math.abs(d-p)<s){if(Math.abs(A+u)<a&&Math.abs(c+g)<a&&Math.abs(d+p)<a&&Math.abs(l+h+f-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,o=(h+1)/2,m=(f+1)/2,C=(A+u)/4,I=(c+g)/4,v=(d+p)/4;return e>o&&e>m?e<s?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=C/n,i=I/n):o>m?o<s?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(o),n=C/r,i=v/r):m<s?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(m),n=I/i,r=v/i),this.set(n,r,i,t),this}let m=Math.sqrt((p-d)*(p-d)+(c-g)*(c-g)+(u-A)*(u-A));return Math.abs(m)<.001&&(m=1),this.x=(p-d)/m,this.y=(c-g)/m,this.z=(u-A)/m,this.w=Math.acos((l+h+f-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class _r extends Yn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Mr(0,0,e,t),this.scissorTest=!1,this.viewport=new Mr(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==n.encoding&&(gr("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Wt?Xt:jt),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:be,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},n),this.texture=new Qr(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps,this.texture.internalFormat=n.internalFormat,this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new br(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Dr extends _r{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class Rr extends Qr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ve,this.minFilter=ve,this.wrapR=Ce,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Tr extends Dr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Rr(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Nr extends Qr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ve,this.minFilter=ve,this.wrapR=Ce,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Lr extends Dr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Nr(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Pr extends Dr{constructor(){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGLMultipleRenderTargets=!0;const t=this.texture;this.texture=[];for(let n=0;n<e;n++)this.texture[n]=t.clone(),this.texture[n].isRenderTargetTexture=!0}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Fr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,s,a){let o=n[r+0],l=n[r+1],A=n[r+2],c=n[r+3];const u=i[s+0],h=i[s+1],d=i[s+2],g=i[s+3];if(0===a)return e[t+0]=o,e[t+1]=l,e[t+2]=A,void(e[t+3]=c);if(1===a)return e[t+0]=u,e[t+1]=h,e[t+2]=d,void(e[t+3]=g);if(c!==g||o!==u||l!==h||A!==d){let e=1-a;const t=o*u+l*h+A*d+c*g,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),s=Math.atan2(i,t*n);e=Math.sin(e*s)/i,a=Math.sin(a*s)/i}const i=a*n;if(o=o*e+u*i,l=l*e+h*i,A=A*e+d*i,c=c*e+g*i,e===1-a){const e=1/Math.sqrt(o*o+l*l+A*A+c*c);o*=e,l*=e,A*=e,c*=e}}e[t]=o,e[t+1]=l,e[t+2]=A,e[t+3]=c}static multiplyQuaternionsFlat(e,t,n,r,i,s){const a=n[r],o=n[r+1],l=n[r+2],A=n[r+3],c=i[s],u=i[s+1],h=i[s+2],d=i[s+3];return e[t]=a*d+A*c+o*h-l*u,e[t+1]=o*d+A*u+l*c-a*h,e[t+2]=l*d+A*h+a*u-o*c,e[t+3]=A*d-a*c-o*u-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,i=e._z,s=e._order,a=Math.cos,o=Math.sin,l=a(n/2),A=a(r/2),c=a(i/2),u=o(n/2),h=o(r/2),d=o(i/2);switch(s){case"XYZ":this._x=u*A*c+l*h*d,this._y=l*h*c-u*A*d,this._z=l*A*d+u*h*c,this._w=l*A*c-u*h*d;break;case"YXZ":this._x=u*A*c+l*h*d,this._y=l*h*c-u*A*d,this._z=l*A*d-u*h*c,this._w=l*A*c+u*h*d;break;case"ZXY":this._x=u*A*c-l*h*d,this._y=l*h*c+u*A*d,this._z=l*A*d+u*h*c,this._w=l*A*c-u*h*d;break;case"ZYX":this._x=u*A*c-l*h*d,this._y=l*h*c+u*A*d,this._z=l*A*d-u*h*c,this._w=l*A*c+u*h*d;break;case"YZX":this._x=u*A*c+l*h*d,this._y=l*h*c+u*A*d,this._z=l*A*d-u*h*c,this._w=l*A*c-u*h*d;break;case"XZY":this._x=u*A*c-l*h*d,this._y=l*h*c-u*A*d,this._z=l*A*d+u*h*c,this._w=l*A*c+u*h*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],s=t[1],a=t[5],o=t[9],l=t[2],A=t[6],c=t[10],u=n+a+c;if(u>0){const e=.5/Math.sqrt(u+1);this._w=.25/e,this._x=(A-o)*e,this._y=(i-l)*e,this._z=(s-r)*e}else if(n>a&&n>c){const e=2*Math.sqrt(1+n-a-c);this._w=(A-o)/e,this._x=.25*e,this._y=(r+s)/e,this._z=(i+l)/e}else if(a>c){const e=2*Math.sqrt(1+a-n-c);this._w=(i-l)/e,this._x=(r+s)/e,this._y=.25*e,this._z=(o+A)/e}else{const e=2*Math.sqrt(1+c-n-a);this._w=(s-r)/e,this._x=(i+l)/e,this._y=(o+A)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(jn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,s=e._w,a=t._x,o=t._y,l=t._z,A=t._w;return this._x=n*A+s*a+r*l-i*o,this._y=r*A+s*o+i*a-n*l,this._z=i*A+s*l+n*o-r*a,this._w=s*A-n*a-r*o-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,s=this._w;let a=s*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=n,this._y=r,this._z=i,this;const o=1-a*a;if(o<=Number.EPSILON){const e=1-t;return this._w=e*s+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(o),A=Math.atan2(l,a),c=Math.sin((1-t)*A)/l,u=Math.sin(t*A)/l;return this._w=s*c+this._w*u,this._x=n*c+this._x*u,this._y=r*c+this._y*u,this._z=i*c+this._z*u,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ur{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Ur.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(kr.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(kr.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,s=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*s,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*s,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,s=e.y,a=e.z,o=e.w,l=2*(s*r-a*n),A=2*(a*t-i*r),c=2*(i*n-s*t);return this.x=t+o*l+s*c-a*A,this.y=n+o*A+a*l-i*c,this.z=r+o*c+i*A-s*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,s=t.x,a=t.y,o=t.z;return this.x=r*o-i*a,this.y=i*s-n*o,this.z=n*a-r*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Gr.copy(this).projectOnVector(e),this.sub(Gr)}reflect(e){return this.sub(Gr.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(jn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Gr=new Ur,kr=new Fr;class Hr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ur(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(zr.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(zr.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=zr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,zr):zr.fromBufferAttribute(r,t),zr.applyMatrix4(e.matrixWorld),this.expandByPoint(zr);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Yr.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Yr.copy(n.boundingBox)),Yr.applyMatrix4(e.matrixWorld),this.union(Yr)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,zr),zr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Xr),Zr.subVectors(this.max,Xr),Wr.subVectors(e.a,Xr),Vr.subVectors(e.b,Xr),Jr.subVectors(e.c,Xr),Kr.subVectors(Vr,Wr),qr.subVectors(Jr,Vr),jr.subVectors(Wr,Jr);let t=[0,-Kr.z,Kr.y,0,-qr.z,qr.y,0,-jr.z,jr.y,Kr.z,0,-Kr.x,qr.z,0,-qr.x,jr.z,0,-jr.x,-Kr.y,Kr.x,0,-qr.y,qr.x,0,-jr.y,jr.x,0];return!!ti(t,Wr,Vr,Jr,Zr)&&(t=[1,0,0,0,1,0,0,0,1],!!ti(t,Wr,Vr,Jr,Zr)&&($r.crossVectors(Kr,qr),t=[$r.x,$r.y,$r.z],ti(t,Wr,Vr,Jr,Zr)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,zr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(zr).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Or[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Or[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Or[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Or[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Or[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Or[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Or[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Or[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Or)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Or=[new Ur,new Ur,new Ur,new Ur,new Ur,new Ur,new Ur,new Ur],zr=new Ur,Yr=new Hr,Wr=new Ur,Vr=new Ur,Jr=new Ur,Kr=new Ur,qr=new Ur,jr=new Ur,Xr=new Ur,Zr=new Ur,$r=new Ur,ei=new Ur;function ti(e,t,n,r,i){for(let s=0,a=e.length-3;s<=a;s+=3){ei.fromArray(e,s);const a=i.x*Math.abs(ei.x)+i.y*Math.abs(ei.y)+i.z*Math.abs(ei.z),o=t.dot(ei),l=n.dot(ei),A=r.dot(ei);if(Math.max(-Math.max(o,l,A),Math.min(o,l,A))>a)return!1}return!0}const ni=new Hr,ri=new Ur,ii=new Ur;class si{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):ni.setFromPoints(e).getCenter(n);let r=0;for(let i=0,s=e.length;i<s;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ri.subVectors(e,this.center);const t=ri.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(ri,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(ii.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ri.copy(e.center).add(ii)),this.expandByPoint(ri.copy(e.center).sub(ii))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const ai=new Ur,oi=new Ur,li=new Ur,Ai=new Ur,ci=new Ur,ui=new Ur,hi=new Ur;class di{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ai)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ai.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ai.copy(this.origin).addScaledVector(this.direction,t),ai.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){oi.copy(e).add(t).multiplyScalar(.5),li.copy(t).sub(e).normalize(),Ai.copy(this.origin).sub(oi);const i=.5*e.distanceTo(t),s=-this.direction.dot(li),a=Ai.dot(this.direction),o=-Ai.dot(li),l=Ai.lengthSq(),A=Math.abs(1-s*s);let c,u,h,d;if(A>0)if(c=s*o-a,u=s*a-o,d=i*A,c>=0)if(u>=-d)if(u<=d){const e=1/A;c*=e,u*=e,h=c*(c+s*u+2*a)+u*(s*c+u+2*o)+l}else u=i,c=Math.max(0,-(s*u+a)),h=-c*c+u*(u+2*o)+l;else u=-i,c=Math.max(0,-(s*u+a)),h=-c*c+u*(u+2*o)+l;else u<=-d?(c=Math.max(0,-(-s*i+a)),u=c>0?-i:Math.min(Math.max(-i,-o),i),h=-c*c+u*(u+2*o)+l):u<=d?(c=0,u=Math.min(Math.max(-i,-o),i),h=u*(u+2*o)+l):(c=Math.max(0,-(s*i+a)),u=c>0?i:Math.min(Math.max(-i,-o),i),h=-c*c+u*(u+2*o)+l);else u=s>0?-i:i,c=Math.max(0,-(s*u+a)),h=-c*c+u*(u+2*o)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,c),r&&r.copy(oi).addScaledVector(li,u),h}intersectSphere(e,t){ai.subVectors(e.center,this.origin);const n=ai.dot(this.direction),r=ai.dot(ai)-n*n,i=e.radius*e.radius;if(r>i)return null;const s=Math.sqrt(i-r),a=n-s,o=n+s;return o<0?null:a<0?this.at(o,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,s,a,o;const l=1/this.direction.x,A=1/this.direction.y,c=1/this.direction.z,u=this.origin;return l>=0?(n=(e.min.x-u.x)*l,r=(e.max.x-u.x)*l):(n=(e.max.x-u.x)*l,r=(e.min.x-u.x)*l),A>=0?(i=(e.min.y-u.y)*A,s=(e.max.y-u.y)*A):(i=(e.max.y-u.y)*A,s=(e.min.y-u.y)*A),n>s||i>r?null:((i>n||isNaN(n))&&(n=i),(s<r||isNaN(r))&&(r=s),c>=0?(a=(e.min.z-u.z)*c,o=(e.max.z-u.z)*c):(a=(e.max.z-u.z)*c,o=(e.min.z-u.z)*c),n>o||a>r?null:((a>n||n!==n)&&(n=a),(o<r||r!==r)&&(r=o),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,ai)}intersectTriangle(e,t,n,r,i){ci.subVectors(t,e),ui.subVectors(n,e),hi.crossVectors(ci,ui);let s,a=this.direction.dot(hi);if(a>0){if(r)return null;s=1}else{if(!(a<0))return null;s=-1,a=-a}Ai.subVectors(this.origin,e);const o=s*this.direction.dot(ui.crossVectors(Ai,ui));if(o<0)return null;const l=s*this.direction.dot(ci.cross(Ai));if(l<0)return null;if(o+l>a)return null;const A=-s*Ai.dot(hi);return A<0?null:this.at(A/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class gi{constructor(e,t,n,r,i,s,a,o,l,A,c,u,h,d,g,p){gi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,s,a,o,l,A,c,u,h,d,g,p)}set(e,t,n,r,i,s,a,o,l,A,c,u,h,d,g,p){const f=this.elements;return f[0]=e,f[4]=t,f[8]=n,f[12]=r,f[1]=i,f[5]=s,f[9]=a,f[13]=o,f[2]=l,f[6]=A,f[10]=c,f[14]=u,f[3]=h,f[7]=d,f[11]=g,f[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new gi).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/pi.setFromMatrixColumn(e,0).length(),i=1/pi.setFromMatrixColumn(e,1).length(),s=1/pi.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,s=Math.cos(n),a=Math.sin(n),o=Math.cos(r),l=Math.sin(r),A=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){const e=s*A,n=s*c,r=a*A,i=a*c;t[0]=o*A,t[4]=-o*c,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-a*o,t[2]=i-e*l,t[6]=r+n*l,t[10]=s*o}else if("YXZ"===e.order){const e=o*A,n=o*c,r=l*A,i=l*c;t[0]=e+i*a,t[4]=r*a-n,t[8]=s*l,t[1]=s*c,t[5]=s*A,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=s*o}else if("ZXY"===e.order){const e=o*A,n=o*c,r=l*A,i=l*c;t[0]=e-i*a,t[4]=-s*c,t[8]=r+n*a,t[1]=n+r*a,t[5]=s*A,t[9]=i-e*a,t[2]=-s*l,t[6]=a,t[10]=s*o}else if("ZYX"===e.order){const e=s*A,n=s*c,r=a*A,i=a*c;t[0]=o*A,t[4]=r*l-n,t[8]=e*l+i,t[1]=o*c,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=a*o,t[10]=s*o}else if("YZX"===e.order){const e=s*o,n=s*l,r=a*o,i=a*l;t[0]=o*A,t[4]=i-e*c,t[8]=r*c+n,t[1]=c,t[5]=s*A,t[9]=-a*A,t[2]=-l*A,t[6]=n*c+r,t[10]=e-i*c}else if("XZY"===e.order){const e=s*o,n=s*l,r=a*o,i=a*l;t[0]=o*A,t[4]=-c,t[8]=l*A,t[1]=e*c+i,t[5]=s*A,t[9]=n*c-r,t[2]=r*c-n,t[6]=a*A,t[10]=i*c+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(mi,e,Ci)}lookAt(e,t,n){const r=this.elements;return Ei.subVectors(e,t),0===Ei.lengthSq()&&(Ei.z=1),Ei.normalize(),Ii.crossVectors(n,Ei),0===Ii.lengthSq()&&(1===Math.abs(n.z)?Ei.x+=1e-4:Ei.z+=1e-4,Ei.normalize(),Ii.crossVectors(n,Ei)),Ii.normalize(),vi.crossVectors(Ei,Ii),r[0]=Ii.x,r[4]=vi.x,r[8]=Ei.x,r[1]=Ii.y,r[5]=vi.y,r[9]=Ei.y,r[2]=Ii.z,r[6]=vi.z,r[10]=Ei.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,s=n[0],a=n[4],o=n[8],l=n[12],A=n[1],c=n[5],u=n[9],h=n[13],d=n[2],g=n[6],p=n[10],f=n[14],m=n[3],C=n[7],I=n[11],v=n[15],E=r[0],B=r[4],y=r[8],w=r[12],b=r[1],x=r[5],S=r[9],Q=r[13],M=r[2],_=r[6],D=r[10],R=r[14],T=r[3],N=r[7],L=r[11],P=r[15];return i[0]=s*E+a*b+o*M+l*T,i[4]=s*B+a*x+o*_+l*N,i[8]=s*y+a*S+o*D+l*L,i[12]=s*w+a*Q+o*R+l*P,i[1]=A*E+c*b+u*M+h*T,i[5]=A*B+c*x+u*_+h*N,i[9]=A*y+c*S+u*D+h*L,i[13]=A*w+c*Q+u*R+h*P,i[2]=d*E+g*b+p*M+f*T,i[6]=d*B+g*x+p*_+f*N,i[10]=d*y+g*S+p*D+f*L,i[14]=d*w+g*Q+p*R+f*P,i[3]=m*E+C*b+I*M+v*T,i[7]=m*B+C*x+I*_+v*N,i[11]=m*y+C*S+I*D+v*L,i[15]=m*w+C*Q+I*R+v*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],s=e[1],a=e[5],o=e[9],l=e[13],A=e[2],c=e[6],u=e[10],h=e[14];return e[3]*(+i*o*c-r*l*c-i*a*u+n*l*u+r*a*h-n*o*h)+e[7]*(+t*o*h-t*l*u+i*s*u-r*s*h+r*l*A-i*o*A)+e[11]*(+t*l*c-t*a*h-i*s*c+n*s*h+i*a*A-n*l*A)+e[15]*(-r*a*A-t*o*c+t*a*u+r*s*c-n*s*u+n*o*A)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],A=e[8],c=e[9],u=e[10],h=e[11],d=e[12],g=e[13],p=e[14],f=e[15],m=c*p*l-g*u*l+g*o*h-a*p*h-c*o*f+a*u*f,C=d*u*l-A*p*l-d*o*h+s*p*h+A*o*f-s*u*f,I=A*g*l-d*c*l+d*a*h-s*g*h-A*a*f+s*c*f,v=d*c*o-A*g*o-d*a*u+s*g*u+A*a*p-s*c*p,E=t*m+n*C+r*I+i*v;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/E;return e[0]=m*B,e[1]=(g*u*i-c*p*i-g*r*h+n*p*h+c*r*f-n*u*f)*B,e[2]=(a*p*i-g*o*i+g*r*l-n*p*l-a*r*f+n*o*f)*B,e[3]=(c*o*i-a*u*i-c*r*l+n*u*l+a*r*h-n*o*h)*B,e[4]=C*B,e[5]=(A*p*i-d*u*i+d*r*h-t*p*h-A*r*f+t*u*f)*B,e[6]=(d*o*i-s*p*i-d*r*l+t*p*l+s*r*f-t*o*f)*B,e[7]=(s*u*i-A*o*i+A*r*l-t*u*l-s*r*h+t*o*h)*B,e[8]=I*B,e[9]=(d*c*i-A*g*i-d*n*h+t*g*h+A*n*f-t*c*f)*B,e[10]=(s*g*i-d*a*i+d*n*l-t*g*l-s*n*f+t*a*f)*B,e[11]=(A*a*i-s*c*i-A*n*l+t*c*l+s*n*h-t*a*h)*B,e[12]=v*B,e[13]=(A*g*r-d*c*r+d*n*u-t*g*u-A*n*p+t*c*p)*B,e[14]=(d*a*r-s*g*r-d*n*o+t*g*o+s*n*p-t*a*p)*B,e[15]=(s*c*r-A*a*r+A*n*o-t*c*o-s*n*u+t*a*u)*B,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,s=e.x,a=e.y,o=e.z,l=i*s,A=i*a;return this.set(l*s+n,l*a-r*o,l*o+r*a,0,l*a+r*o,A*a+n,A*o-r*s,0,l*o-r*a,A*o+r*s,i*o*o+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,s){return this.set(1,n,i,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,s=t._y,a=t._z,o=t._w,l=i+i,A=s+s,c=a+a,u=i*l,h=i*A,d=i*c,g=s*A,p=s*c,f=a*c,m=o*l,C=o*A,I=o*c,v=n.x,E=n.y,B=n.z;return r[0]=(1-(g+f))*v,r[1]=(h+I)*v,r[2]=(d-C)*v,r[3]=0,r[4]=(h-I)*E,r[5]=(1-(u+f))*E,r[6]=(p+m)*E,r[7]=0,r[8]=(d+C)*B,r[9]=(p-m)*B,r[10]=(1-(u+g))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=pi.set(r[0],r[1],r[2]).length();const s=pi.set(r[4],r[5],r[6]).length(),a=pi.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],fi.copy(this);const o=1/i,l=1/s,A=1/a;return fi.elements[0]*=o,fi.elements[1]*=o,fi.elements[2]*=o,fi.elements[4]*=l,fi.elements[5]*=l,fi.elements[6]*=l,fi.elements[8]*=A,fi.elements[9]*=A,fi.elements[10]*=A,t.setFromRotationMatrix(fi),n.x=i,n.y=s,n.z=a,this}makePerspective(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:On;const o=this.elements,l=2*i/(t-e),A=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r);let h,d;if(a===On)h=-(s+i)/(s-i),d=-2*s*i/(s-i);else{if(a!==zn)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-s/(s-i),d=-s*i/(s-i)}return o[0]=l,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=A,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:On;const o=this.elements,l=1/(t-e),A=1/(n-r),c=1/(s-i),u=(t+e)*l,h=(n+r)*A;let d,g;if(a===On)d=(s+i)*c,g=-2*c;else{if(a!==zn)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);d=i*c,g=-1*c}return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*A,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=g,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const pi=new Ur,fi=new gi,mi=new Ur(0,0,0),Ci=new Ur(1,1,1),Ii=new Ur,vi=new Ur,Ei=new Ur,Bi=new gi,yi=new Fr;class wi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wi.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.elements,i=r[0],s=r[4],a=r[8],o=r[1],l=r[5],A=r[9],c=r[2],u=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(jn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-A,h),this._z=Math.atan2(-s,i)):(this._x=Math.atan2(u,l),this._z=0);break;case"YXZ":this._x=Math.asin(-jn(A,-1,1)),Math.abs(A)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(jn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-c,h),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(o,i));break;case"ZYX":this._y=Math.asin(-jn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(u,h),this._z=Math.atan2(o,i)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin(jn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-A,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-jn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(u,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-A,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Bi.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Bi,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return yi.setFromEuler(this),this.setFromQuaternion(yi,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}wi.DEFAULT_ORDER="XYZ";class bi{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&(1<<e|0))}}let xi=0;const Si=new Ur,Qi=new Fr,Mi=new gi,_i=new Ur,Di=new Ur,Ri=new Ur,Ti=new Fr,Ni=new Ur(1,0,0),Li=new Ur(0,1,0),Pi=new Ur(0,0,1),Fi={type:"added"},Ui={type:"removed"};class Gi extends Yn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:xi++}),this.uuid=qn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Gi.DEFAULT_UP.clone();const e=new Ur,t=new wi,n=new Fr,r=new Ur(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new gi},normalMatrix:{value:new ar}}),this.matrix=new gi,this.matrixWorld=new gi,this.matrixAutoUpdate=Gi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Gi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new bi,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Qi.setFromAxisAngle(e,t),this.quaternion.multiply(Qi),this}rotateOnWorldAxis(e,t){return Qi.setFromAxisAngle(e,t),this.quaternion.premultiply(Qi),this}rotateX(e){return this.rotateOnAxis(Ni,e)}rotateY(e){return this.rotateOnAxis(Li,e)}rotateZ(e){return this.rotateOnAxis(Pi,e)}translateOnAxis(e,t){return Si.copy(e).applyQuaternion(this.quaternion),this.position.add(Si.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Ni,e)}translateY(e){return this.translateOnAxis(Li,e)}translateZ(e){return this.translateOnAxis(Pi,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Mi.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?_i.copy(e):_i.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Di.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mi.lookAt(Di,_i,this.up):Mi.lookAt(_i,Di,this.up),this.quaternion.setFromRotationMatrix(Mi),r&&(Mi.extractRotation(r.matrixWorld),Qi.setFromRotationMatrix(Mi),this.quaternion.premultiply(Qi.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Fi)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Ui)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Mi.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Mi.multiply(e.parent.matrixWorld)),e.applyMatrix4(Mi),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,i=this.children.length;r<i;r++){const i=this.children[r].getObjectsByProperty(e,t);i.length>0&&(n=n.concat(i))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Di,e,Ri),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Di,Ti,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=s(e.geometries),r=s(e.materials),i=s(e.textures),a=s(e.images),o=s(e.shapes),l=s(e.skeletons),A=s(e.animations),c=s(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),o.length>0&&(n.shapes=o),l.length>0&&(n.skeletons=l),A.length>0&&(n.animations=A),c.length>0&&(n.nodes=c)}return n.object=r,n;function s(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}Gi.DEFAULT_UP=new Ur(0,1,0),Gi.DEFAULT_MATRIX_AUTO_UPDATE=!0,Gi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ki=new Ur,Hi=new Ur,Oi=new Ur,zi=new Ur,Yi=new Ur,Wi=new Ur,Vi=new Ur,Ji=new Ur,Ki=new Ur,qi=new Ur;let ji=!1;class Xi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ur;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),ki.subVectors(e,t),r.cross(ki);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){ki.subVectors(r,t),Hi.subVectors(n,t),Oi.subVectors(e,t);const s=ki.dot(ki),a=ki.dot(Hi),o=ki.dot(Oi),l=Hi.dot(Hi),A=Hi.dot(Oi),c=s*l-a*a;if(0===c)return i.set(-2,-1,-1);const u=1/c,h=(l*o-a*A)*u,d=(s*A-a*o)*u;return i.set(1-h-d,d,h)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,zi),zi.x>=0&&zi.y>=0&&zi.x+zi.y<=1}static getUV(e,t,n,r,i,s,a,o){return!1===ji&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),ji=!0),this.getInterpolation(e,t,n,r,i,s,a,o)}static getInterpolation(e,t,n,r,i,s,a,o){return this.getBarycoord(e,t,n,r,zi),o.setScalar(0),o.addScaledVector(i,zi.x),o.addScaledVector(s,zi.y),o.addScaledVector(a,zi.z),o}static isFrontFacing(e,t,n,r){return ki.subVectors(n,t),Hi.subVectors(e,t),ki.cross(Hi).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ki.subVectors(this.c,this.b),Hi.subVectors(this.a,this.b),.5*ki.cross(Hi).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Xi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Xi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return!1===ji&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),ji=!0),Xi.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}getInterpolation(e,t,n,r,i){return Xi.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return Xi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Xi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let s,a;Yi.subVectors(r,n),Wi.subVectors(i,n),Ji.subVectors(e,n);const o=Yi.dot(Ji),l=Wi.dot(Ji);if(o<=0&&l<=0)return t.copy(n);Ki.subVectors(e,r);const A=Yi.dot(Ki),c=Wi.dot(Ki);if(A>=0&&c<=A)return t.copy(r);const u=o*c-A*l;if(u<=0&&o>=0&&A<=0)return s=o/(o-A),t.copy(n).addScaledVector(Yi,s);qi.subVectors(e,i);const h=Yi.dot(qi),d=Wi.dot(qi);if(d>=0&&h<=d)return t.copy(i);const g=h*l-o*d;if(g<=0&&l>=0&&d<=0)return a=l/(l-d),t.copy(n).addScaledVector(Wi,a);const p=A*d-h*c;if(p<=0&&c-A>=0&&h-d>=0)return Vi.subVectors(i,r),a=(c-A)/(c-A+(h-d)),t.copy(r).addScaledVector(Vi,a);const f=1/(p+g+u);return s=g*f,a=u*f,t.copy(n).addScaledVector(Yi,s).addScaledVector(Wi,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Zi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$i={h:0,s:0,l:0},es={h:0,s:0,l:0};function ts(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class ns{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Ir.toWorkingColorSpace(this,t),this}setRGB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ir.workingColorSpace;return this.r=e,this.g=t,this.b=n,Ir.toWorkingColorSpace(this,r),this}setHSL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ir.workingColorSpace;if(e=Xn(e,1),t=jn(t,0,1),n=jn(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=ts(i,r,e+1/3),this.g=ts(i,r,e),this.b=ts(i,r,e-1/3)}return Ir.toWorkingColorSpace(this,r),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const s=t[1],a=t[2];switch(s){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=t[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===i)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt;const n=Zi[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=vr(e.r),this.g=vr(e.g),this.b=vr(e.b),this}copyLinearToSRGB(e){return this.r=Er(e.r),this.g=Er(e.g),this.b=Er(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;return Ir.fromWorkingColorSpace(rs.copy(this),e),65536*Math.round(jn(255*rs.r,0,255))+256*Math.round(jn(255*rs.g,0,255))+Math.round(jn(255*rs.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ir.workingColorSpace;Ir.fromWorkingColorSpace(rs.copy(this),t);const n=rs.r,r=rs.g,i=rs.b,s=Math.max(n,r,i),a=Math.min(n,r,i);let o,l;const A=(a+s)/2;if(a===s)o=0,l=0;else{const e=s-a;switch(l=A<=.5?e/(s+a):e/(2-s-a),s){case n:o=(r-i)/e+(r<i?6:0);break;case r:o=(i-n)/e+2;break;case i:o=(n-r)/e+4}o/=6}return e.h=o,e.s=l,e.l=A,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ir.workingColorSpace;return Ir.fromWorkingColorSpace(rs.copy(this),t),e.r=rs.r,e.g=rs.g,e.b=rs.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;Ir.fromWorkingColorSpace(rs.copy(this),e);const t=rs.r,n=rs.g,r=rs.b;return e!==Xt?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}offsetHSL(e,t,n){return this.getHSL($i),this.setHSL($i.h+e,$i.s+t,$i.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL($i),e.getHSL(es);const n=Zn($i.h,es.h,t),r=Zn($i.s,es.s,t),i=Zn($i.l,es.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const rs=new ns;ns.NAMES=Zi;let is=0;class ss extends Yn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:is++}),this.uuid=qn(),this.name="",this.type="Material",this.blending=E,this.side=f,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=L,this.blendDst=P,this.blendEquation=x,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ns(0,0,0),this.blendAlpha=0,this.depthFunc=q,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=En,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=on,this.stencilZFail=on,this.stencilZPass=on,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."));continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==E&&(n.blending=this.blending),this.side!==f&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==L&&(n.blendSrc=this.blendSrc),this.blendDst!==P&&(n.blendDst=this.blendDst),this.blendEquation!==x&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==q&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==En&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==on&&(n.stencilFail=this.stencilFail),this.stencilZFail!==on&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==on&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class as extends ss{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ns(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ee,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const os=ls();function ls(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;0===(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,s[l]=e|t}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(o[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function As(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=jn(e,-65504,65504),os.floatView[0]=e;const t=os.uint32View[0],n=t>>23&511;return os.baseTable[n]+((8388607&t)>>os.shiftTable[n])}function cs(e){const t=e>>10;return os.uint32View[0]=os.mantissaTable[os.offsetTable[t]+(1023&e)]+os.exponentTable[t],os.floatView[0]}const us={toHalfFloat:As,fromHalfFloat:cs},hs=new Ur,ds=new sr;class gs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=_n,this.updateRange={offset:0,count:-1},this.gpuType=Pe,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)ds.fromBufferAttribute(this,t),ds.applyMatrix3(e),this.setXY(t,ds.x,ds.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)hs.fromBufferAttribute(this,t),hs.applyMatrix3(e),this.setXYZ(t,hs.x,hs.y,hs.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)hs.fromBufferAttribute(this,t),hs.applyMatrix4(e),this.setXYZ(t,hs.x,hs.y,hs.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)hs.fromBufferAttribute(this,t),hs.applyNormalMatrix(e),this.setXYZ(t,hs.x,hs.y,hs.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)hs.fromBufferAttribute(this,t),hs.transformDirection(e),this.setXYZ(t,hs.x,hs.y,hs.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=nr(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=rr(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=nr(t,this.array)),t}setX(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=nr(t,this.array)),t}setY(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=nr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=nr(t,this.array)),t}setW(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),n=rr(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),n=rr(n,this.array),r=rr(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),n=rr(n,this.array),r=rr(r,this.array),i=rr(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==_n&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}class ps extends gs{constructor(e,t,n){super(new Int8Array(e),t,n)}}class fs extends gs{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class ms extends gs{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Cs extends gs{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Is extends gs{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class vs extends gs{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Es extends gs{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Bs extends gs{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=cs(this.array[e*this.itemSize]);return this.normalized&&(t=nr(t,this.array)),t}setX(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize]=As(t),this}getY(e){let t=cs(this.array[e*this.itemSize+1]);return this.normalized&&(t=nr(t,this.array)),t}setY(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+1]=As(t),this}getZ(e){let t=cs(this.array[e*this.itemSize+2]);return this.normalized&&(t=nr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+2]=As(t),this}getW(e){let t=cs(this.array[e*this.itemSize+3]);return this.normalized&&(t=nr(t,this.array)),t}setW(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+3]=As(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),n=rr(n,this.array)),this.array[e+0]=As(t),this.array[e+1]=As(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),n=rr(n,this.array),r=rr(r,this.array)),this.array[e+0]=As(t),this.array[e+1]=As(n),this.array[e+2]=As(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),n=rr(n,this.array),r=rr(r,this.array),i=rr(i,this.array)),this.array[e+0]=As(t),this.array[e+1]=As(n),this.array[e+2]=As(r),this.array[e+3]=As(i),this}}class ys extends gs{constructor(e,t,n){super(new Float32Array(e),t,n)}}class ws extends gs{constructor(e,t,n){super(new Float64Array(e),t,n)}}let bs=0;const xs=new gi,Ss=new Gi,Qs=new Ur,Ms=new Hr,_s=new Hr,Ds=new Ur;class Rs extends Yn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:bs++}),this.uuid=qn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(lr(e)?Es:Is)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new ar).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return xs.makeRotationFromQuaternion(e),this.applyMatrix4(xs),this}rotateX(e){return xs.makeRotationX(e),this.applyMatrix4(xs),this}rotateY(e){return xs.makeRotationY(e),this.applyMatrix4(xs),this}rotateZ(e){return xs.makeRotationZ(e),this.applyMatrix4(xs),this}translate(e,t,n){return xs.makeTranslation(e,t,n),this.applyMatrix4(xs),this}scale(e,t,n){return xs.makeScale(e,t,n),this.applyMatrix4(xs),this}lookAt(e){return Ss.lookAt(e),Ss.updateMatrix(),this.applyMatrix4(Ss.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qs).negate(),this.translate(Qs.x,Qs.y,Qs.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new ys(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Hr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Ur(-1/0,-1/0,-1/0),new Ur(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];Ms.setFromBufferAttribute(e),this.morphTargetsRelative?(Ds.addVectors(this.boundingBox.min,Ms.min),this.boundingBox.expandByPoint(Ds),Ds.addVectors(this.boundingBox.max,Ms.max),this.boundingBox.expandByPoint(Ds)):(this.boundingBox.expandByPoint(Ms.min),this.boundingBox.expandByPoint(Ms.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new si);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Ur,1/0);if(e){const n=this.boundingSphere.center;if(Ms.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];_s.setFromBufferAttribute(n),this.morphTargetsRelative?(Ds.addVectors(Ms.min,_s.min),Ms.expandByPoint(Ds),Ds.addVectors(Ms.max,_s.max),Ms.expandByPoint(Ds)):(Ms.expandByPoint(_s.min),Ms.expandByPoint(_s.max))}Ms.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)Ds.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(Ds));if(t)for(let i=0,s=t.length;i<s;i++){const s=t[i],a=this.morphTargetsRelative;for(let t=0,i=s.count;t<i;t++)Ds.fromBufferAttribute(s,t),a&&(Qs.fromBufferAttribute(e,t),Ds.add(Qs)),r=Math.max(r,n.distanceToSquared(Ds))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,i=t.normal.array,s=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new gs(new Float32Array(4*a),4));const o=this.getAttribute("tangent").array,l=[],A=[];for(let b=0;b<a;b++)l[b]=new Ur,A[b]=new Ur;const c=new Ur,u=new Ur,h=new Ur,d=new sr,g=new sr,p=new sr,f=new Ur,m=new Ur;function C(e,t,n){c.fromArray(r,3*e),u.fromArray(r,3*t),h.fromArray(r,3*n),d.fromArray(s,2*e),g.fromArray(s,2*t),p.fromArray(s,2*n),u.sub(c),h.sub(c),g.sub(d),p.sub(d);const i=1/(g.x*p.y-p.x*g.y);isFinite(i)&&(f.copy(u).multiplyScalar(p.y).addScaledVector(h,-g.y).multiplyScalar(i),m.copy(h).multiplyScalar(g.x).addScaledVector(u,-p.x).multiplyScalar(i),l[e].add(f),l[t].add(f),l[n].add(f),A[e].add(m),A[t].add(m),A[n].add(m))}let I=this.groups;0===I.length&&(I=[{start:0,count:n.length}]);for(let b=0,x=I.length;b<x;++b){const e=I[b],t=e.start;for(let r=t,i=t+e.count;r<i;r+=3)C(n[r+0],n[r+1],n[r+2])}const v=new Ur,E=new Ur,B=new Ur,y=new Ur;function w(e){B.fromArray(i,3*e),y.copy(B);const t=l[e];v.copy(t),v.sub(B.multiplyScalar(B.dot(t))).normalize(),E.crossVectors(y,t);const n=E.dot(A[e])<0?-1:1;o[4*e]=v.x,o[4*e+1]=v.y,o[4*e+2]=v.z,o[4*e+3]=n}for(let b=0,x=I.length;b<x;++b){const e=I[b],t=e.start;for(let r=t,i=t+e.count;r<i;r+=3)w(n[r+0]),w(n[r+1]),w(n[r+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new gs(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new Ur,i=new Ur,s=new Ur,a=new Ur,o=new Ur,l=new Ur,A=new Ur,c=new Ur;if(e)for(let u=0,h=e.count;u<h;u+=3){const h=e.getX(u+0),d=e.getX(u+1),g=e.getX(u+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,d),s.fromBufferAttribute(t,g),A.subVectors(s,i),c.subVectors(r,i),A.cross(c),a.fromBufferAttribute(n,h),o.fromBufferAttribute(n,d),l.fromBufferAttribute(n,g),a.add(A),o.add(A),l.add(A),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(d,o.x,o.y,o.z),n.setXYZ(g,l.x,l.y,l.z)}else for(let e=0,u=t.count;e<u;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),s.fromBufferAttribute(t,e+2),A.subVectors(s,i),c.subVectors(r,i),A.cross(c),n.setXYZ(e+0,A.x,A.y,A.z),n.setXYZ(e+1,A.x,A.y,A.z),n.setXYZ(e+2,A.x,A.y,A.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ds.fromBufferAttribute(e,t),Ds.normalize(),e.setXYZ(t,Ds.x,Ds.y,Ds.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,s=new n.constructor(t.length*r);let a=0,o=0;for(let l=0,A=t.length;l<A;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)s[o++]=n[a++]}return new gs(s,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Rs,n=this.index.array,r=this.attributes;for(const a in r){const i=e(r[a],n);t.setAttribute(a,i)}const i=this.morphAttributes;for(const a in i){const r=[],s=i[a];for(let t=0,i=s.length;t<i;t++){const i=e(s[t],n);r.push(i)}t.morphAttributes[a]=r}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,o=s.length;a<o;a++){const e=s[a];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const o in n){const t=n[o];e.data.attributes[o]=t.toJSON(e.data)}const r={};let i=!1;for(const o in this.morphAttributes){const t=this.morphAttributes[o],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[o]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let l=0,A=s.length;l<A;l++){const e=s[l];this.addGroup(e.start,e.count,e.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const o=e.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ts=new gi,Ns=new di,Ls=new si,Ps=new Ur,Fs=new Ur,Us=new Ur,Gs=new Ur,ks=new Ur,Hs=new Ur,Os=new sr,zs=new sr,Ys=new sr,Ws=new Ur,Vs=new Ur,Js=new Ur,Ks=new Ur,qs=new Ur;class js extends Gi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Rs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(i&&a){Hs.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=a[n],o=i[n];0!==r&&(ks.fromBufferAttribute(o,e),s?Hs.addScaledVector(ks,r):Hs.addScaledVector(ks.sub(t),r))}t.add(Hs)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),Ls.copy(n.boundingSphere),Ls.applyMatrix4(i),Ns.copy(e.ray).recast(e.near),!1===Ls.containsPoint(Ns.origin)){if(null===Ns.intersectSphere(Ls,Ps))return;if(Ns.origin.distanceToSquared(Ps)>(e.far-e.near)**2)return}Ts.copy(i).invert(),Ns.copy(e.ray).applyMatrix4(Ts),null!==n.boundingBox&&!1===Ns.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Ns)}}_computeIntersections(e,t,n){let r;const i=this.geometry,s=this.material,a=i.index,o=i.attributes.position,l=i.attributes.uv,A=i.attributes.uv1,c=i.attributes.normal,u=i.groups,h=i.drawRange;if(null!==a)if(Array.isArray(s))for(let d=0,g=u.length;d<g;d++){const i=u[d],o=s[i.materialIndex];for(let s=Math.max(i.start,h.start),u=Math.min(a.count,Math.min(i.start+i.count,h.start+h.count));s<u;s+=3){r=Xs(this,o,e,n,l,A,c,a.getX(s),a.getX(s+1),a.getX(s+2)),r&&(r.faceIndex=Math.floor(s/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),o=Math.min(a.count,h.start+h.count);i<o;i+=3){r=Xs(this,s,e,n,l,A,c,a.getX(i),a.getX(i+1),a.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==o)if(Array.isArray(s))for(let d=0,g=u.length;d<g;d++){const i=u[d],a=s[i.materialIndex];for(let s=Math.max(i.start,h.start),u=Math.min(o.count,Math.min(i.start+i.count,h.start+h.count));s<u;s+=3){r=Xs(this,a,e,n,l,A,c,s,s+1,s+2),r&&(r.faceIndex=Math.floor(s/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),a=Math.min(o.count,h.start+h.count);i<a;i+=3){r=Xs(this,s,e,n,l,A,c,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function Xs(e,t,n,r,i,s,a,o,l,A){e.getVertexPosition(o,Fs),e.getVertexPosition(l,Us),e.getVertexPosition(A,Gs);const c=function(e,t,n,r,i,s,a,o){let l;if(l=t.side===m?r.intersectTriangle(a,s,i,!0,o):r.intersectTriangle(i,s,a,t.side===f,o),null===l)return null;qs.copy(o),qs.applyMatrix4(e.matrixWorld);const A=n.ray.origin.distanceTo(qs);return A<n.near||A>n.far?null:{distance:A,point:qs.clone(),object:e}}(e,t,n,r,Fs,Us,Gs,Ks);if(c){i&&(Os.fromBufferAttribute(i,o),zs.fromBufferAttribute(i,l),Ys.fromBufferAttribute(i,A),c.uv=Xi.getInterpolation(Ks,Fs,Us,Gs,Os,zs,Ys,new sr)),s&&(Os.fromBufferAttribute(s,o),zs.fromBufferAttribute(s,l),Ys.fromBufferAttribute(s,A),c.uv1=Xi.getInterpolation(Ks,Fs,Us,Gs,Os,zs,Ys,new sr),c.uv2=c.uv1),a&&(Ws.fromBufferAttribute(a,o),Vs.fromBufferAttribute(a,l),Js.fromBufferAttribute(a,A),c.normal=Xi.getInterpolation(Ks,Fs,Us,Gs,Ws,Vs,Js,new Ur),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const e={a:o,b:l,c:A,normal:new Ur,materialIndex:0};Xi.getNormal(Fs,Us,Gs,e.normal),c.face=e}return c}class Zs extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:s};const a=this;r=Math.floor(r),i=Math.floor(i),s=Math.floor(s);const o=[],l=[],A=[],c=[];let u=0,h=0;function d(e,t,n,r,i,s,d,g,p,f,m){const C=s/p,I=d/f,v=s/2,E=d/2,B=g/2,y=p+1,w=f+1;let b=0,x=0;const S=new Ur;for(let a=0;a<w;a++){const s=a*I-E;for(let o=0;o<y;o++){const u=o*C-v;S[e]=u*r,S[t]=s*i,S[n]=B,l.push(S.x,S.y,S.z),S[e]=0,S[t]=0,S[n]=g>0?1:-1,A.push(S.x,S.y,S.z),c.push(o/p),c.push(1-a/f),b+=1}}for(let a=0;a<f;a++)for(let e=0;e<p;e++){const t=u+e+y*a,n=u+e+y*(a+1),r=u+(e+1)+y*(a+1),i=u+(e+1)+y*a;o.push(t,n,i),o.push(n,r,i),x+=6}a.addGroup(h,x,m),h+=x,u+=b}d("z","y","x",-1,-1,n,t,e,s,i,0),d("z","y","x",1,-1,n,t,-e,s,i,1),d("x","z","y",1,1,e,n,t,r,s,2),d("x","z","y",1,-1,e,n,-t,r,s,3),d("x","y","z",1,-1,e,t,n,r,i,4),d("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(o),this.setAttribute("position",new ys(l,3)),this.setAttribute("normal",new ys(A,3)),this.setAttribute("uv",new ys(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zs(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function $s(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function ea(e){const t={};for(let n=0;n<e.length;n++){const r=$s(e[n]);for(const e in r)t[e]=r[e]}return t}function ta(e){return null===e.getRenderTarget()?e.outputColorSpace:Ir.workingColorSpace}const na={clone:$s,merge:ea};class ra extends ss{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$s(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class ia extends Gi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new gi,this.projectionMatrix=new gi,this.projectionMatrixInverse=new gi,this.coordinateSystem=On}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class sa extends ia{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Kn*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Jn*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Kn*Math.atan(Math.tan(.5*Jn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Jn*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const s=this.view;if(null!==this.view&&this.view.enabled){const e=s.fullWidth,a=s.fullHeight;i+=s.offsetX*r/e,t-=s.offsetY*n/a,r*=s.width/e,n*=s.height/a}const a=this.filmOffset;0!==a&&(i+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const aa=-90;class oa extends Gi{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new sa(aa,1,e,t);r.layers=this.layers,this.add(r);const i=new sa(aa,1,e,t);i.layers=this.layers,this.add(i);const s=new sa(aa,1,e,t);s.layers=this.layers,this.add(s);const a=new sa(aa,1,e,t);a.layers=this.layers,this.add(a);const o=new sa(aa,1,e,t);o.layers=this.layers,this.add(o);const l=new sa(aa,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,s,a,o]=t;for(const l of t)this.remove(l);if(e===On)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else{if(e!==zn)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,a,o,l,A]=this.children,c=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.xr.enabled;e.xr.enabled=!1;const g=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,s),e.setRenderTarget(n,2,r),e.render(t,a),e.setRenderTarget(n,3,r),e.render(t,o),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=g,e.setRenderTarget(n,5,r),e.render(t,A),e.setRenderTarget(c,u,h),e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class la extends Qr{constructor(e,t,n,r,i,s,a,o,l,A){super(e=void 0!==e?e:[],t=void 0!==t?t:he,n,r,i,s,a,o,l,A),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Aa extends Dr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];void 0!==t.encoding&&(gr("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Wt?Xt:jt),this.texture=new la(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:be}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",s=new Zs(5,5,5),a=new ra({name:"CubemapFromEquirect",uniforms:$s(n),vertexShader:r,fragmentShader:i,side:m,blending:v});a.uniforms.tEquirect.value=t;const o=new js(s,a),l=t.minFilter;t.minFilter===Qe&&(t.minFilter=be);return new oa(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,r);e.setRenderTarget(i)}}const ca=new Ur,ua=new Ur,ha=new ar;class da{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ur(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=ca.subVectors(n,t).cross(ua.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(ca),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||ha.getNormalMatrix(e),r=this.coplanarPoint(ca).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ga=new si,pa=new Ur;class fa{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new da,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new da,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new da,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new da,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new da,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new da;this.planes=[e,t,n,r,i,s]}set(e,t,n,r,i,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On;const n=this.planes,r=e.elements,i=r[0],s=r[1],a=r[2],o=r[3],l=r[4],A=r[5],c=r[6],u=r[7],h=r[8],d=r[9],g=r[10],p=r[11],f=r[12],m=r[13],C=r[14],I=r[15];if(n[0].setComponents(o-i,u-l,p-h,I-f).normalize(),n[1].setComponents(o+i,u+l,p+h,I+f).normalize(),n[2].setComponents(o+s,u+A,p+d,I+m).normalize(),n[3].setComponents(o-s,u-A,p-d,I-m).normalize(),n[4].setComponents(o-a,u-c,p-g,I-C).normalize(),t===On)n[5].setComponents(o+a,u+c,p+g,I+C).normalize();else{if(t!==zn)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,c,g,C).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),ga.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),ga.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ga)}intersectsSprite(e){return ga.center.set(0,0,0),ga.radius=.7071067811865476,ga.applyMatrix4(e.matrixWorld),this.intersectsSphere(ga)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(pa.x=r.normal.x>0?e.max.x:e.min.x,pa.y=r.normal.y>0?e.max.y:e.min.y,pa.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(pa)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function ma(){let e=null,t=!1,n=null,r=null;function i(t,s){n(t,s),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Ca(e,t){const n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const s=r.get(t);void 0===s?r.set(t,function(t,r){const i=t.array,s=t.usage,a=e.createBuffer();let o;if(e.bindBuffer(r,a),e.bufferData(r,i,s),t.onUploadCallback(),i instanceof Float32Array)o=e.FLOAT;else if(i instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");o=e.HALF_FLOAT}else o=e.UNSIGNED_SHORT;else if(i instanceof Int16Array)o=e.SHORT;else if(i instanceof Uint32Array)o=e.UNSIGNED_INT;else if(i instanceof Int32Array)o=e.INT;else if(i instanceof Int8Array)o=e.BYTE;else if(i instanceof Uint8Array)o=e.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);o=e.UNSIGNED_BYTE}return{buffer:a,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):s.version<t.version&&(!function(t,r,i){const s=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,s):(n?e.bufferSubData(i,a.offset*s.BYTES_PER_ELEMENT,s,a.offset,a.count):e.bufferSubData(i,a.offset*s.BYTES_PER_ELEMENT,s.subarray(a.offset,a.offset+a.count)),a.count=-1),r.onUploadCallback()}(s.buffer,t,i),s.version=t.version)}}}class Ia extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,s=t/2,a=Math.floor(n),o=Math.floor(r),l=a+1,A=o+1,c=e/a,u=t/o,h=[],d=[],g=[],p=[];for(let f=0;f<A;f++){const e=f*u-s;for(let t=0;t<l;t++){const n=t*c-i;d.push(n,-e,0),g.push(0,0,1),p.push(t/a),p.push(1-f/o)}}for(let f=0;f<o;f++)for(let e=0;e<a;e++){const t=e+l*f,n=e+l*(f+1),r=e+1+l*(f+1),i=e+1+l*f;h.push(t,n,i),h.push(n,r,i)}this.setIndex(h),this.setAttribute("position",new ys(d,3)),this.setAttribute("normal",new ys(g,3)),this.setAttribute("uv",new ys(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ia(e.width,e.height,e.widthSegments,e.heightSegments)}}const va={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Ea={common:{diffuse:{value:new ns(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ar},alphaMap:{value:null},alphaMapTransform:{value:new ar},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ar}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ar}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ar}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ar},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ar},normalScale:{value:new sr(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ar},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ar}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ar}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ar}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ns(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ns(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ar},alphaTest:{value:0},uvTransform:{value:new ar}},sprite:{diffuse:{value:new ns(16777215)},opacity:{value:1},center:{value:new sr(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ar},alphaMap:{value:null},alphaMapTransform:{value:new ar},alphaTest:{value:0}}},Ba={basic:{uniforms:ea([Ea.common,Ea.specularmap,Ea.envmap,Ea.aomap,Ea.lightmap,Ea.fog]),vertexShader:va.meshbasic_vert,fragmentShader:va.meshbasic_frag},lambert:{uniforms:ea([Ea.common,Ea.specularmap,Ea.envmap,Ea.aomap,Ea.lightmap,Ea.emissivemap,Ea.bumpmap,Ea.normalmap,Ea.displacementmap,Ea.fog,Ea.lights,{emissive:{value:new ns(0)}}]),vertexShader:va.meshlambert_vert,fragmentShader:va.meshlambert_frag},phong:{uniforms:ea([Ea.common,Ea.specularmap,Ea.envmap,Ea.aomap,Ea.lightmap,Ea.emissivemap,Ea.bumpmap,Ea.normalmap,Ea.displacementmap,Ea.fog,Ea.lights,{emissive:{value:new ns(0)},specular:{value:new ns(1118481)},shininess:{value:30}}]),vertexShader:va.meshphong_vert,fragmentShader:va.meshphong_frag},standard:{uniforms:ea([Ea.common,Ea.envmap,Ea.aomap,Ea.lightmap,Ea.emissivemap,Ea.bumpmap,Ea.normalmap,Ea.displacementmap,Ea.roughnessmap,Ea.metalnessmap,Ea.fog,Ea.lights,{emissive:{value:new ns(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:va.meshphysical_vert,fragmentShader:va.meshphysical_frag},toon:{uniforms:ea([Ea.common,Ea.aomap,Ea.lightmap,Ea.emissivemap,Ea.bumpmap,Ea.normalmap,Ea.displacementmap,Ea.gradientmap,Ea.fog,Ea.lights,{emissive:{value:new ns(0)}}]),vertexShader:va.meshtoon_vert,fragmentShader:va.meshtoon_frag},matcap:{uniforms:ea([Ea.common,Ea.bumpmap,Ea.normalmap,Ea.displacementmap,Ea.fog,{matcap:{value:null}}]),vertexShader:va.meshmatcap_vert,fragmentShader:va.meshmatcap_frag},points:{uniforms:ea([Ea.points,Ea.fog]),vertexShader:va.points_vert,fragmentShader:va.points_frag},dashed:{uniforms:ea([Ea.common,Ea.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:va.linedashed_vert,fragmentShader:va.linedashed_frag},depth:{uniforms:ea([Ea.common,Ea.displacementmap]),vertexShader:va.depth_vert,fragmentShader:va.depth_frag},normal:{uniforms:ea([Ea.common,Ea.bumpmap,Ea.normalmap,Ea.displacementmap,{opacity:{value:1}}]),vertexShader:va.meshnormal_vert,fragmentShader:va.meshnormal_frag},sprite:{uniforms:ea([Ea.sprite,Ea.fog]),vertexShader:va.sprite_vert,fragmentShader:va.sprite_frag},background:{uniforms:{uvTransform:{value:new ar},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:va.background_vert,fragmentShader:va.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:va.backgroundCube_vert,fragmentShader:va.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:va.cube_vert,fragmentShader:va.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:va.equirect_vert,fragmentShader:va.equirect_frag},distanceRGBA:{uniforms:ea([Ea.common,Ea.displacementmap,{referencePosition:{value:new Ur},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:va.distanceRGBA_vert,fragmentShader:va.distanceRGBA_frag},shadow:{uniforms:ea([Ea.lights,Ea.fog,{color:{value:new ns(0)},opacity:{value:1}}]),vertexShader:va.shadow_vert,fragmentShader:va.shadow_frag}};Ba.physical={uniforms:ea([Ba.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ar},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ar},clearcoatNormalScale:{value:new sr(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ar},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ar},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ar},sheen:{value:0},sheenColor:{value:new ns(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ar},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ar},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ar},transmissionSamplerSize:{value:new sr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ar},attenuationDistance:{value:0},attenuationColor:{value:new ns(0)},specularColor:{value:new ns(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ar},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ar},anisotropyVector:{value:new sr},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ar}}]),vertexShader:va.meshphysical_vert,fragmentShader:va.meshphysical_frag};const ya={r:0,b:0,g:0};function wa(e,t,n,r,i,s,a){const o=new ns(0);let l,A,c=!0===s?0:1,u=null,h=0,d=null;function g(t,n){t.getRGB(ya,ta(e)),r.buffers.color.setClear(ya.r,ya.g,ya.b,n,a)}return{getClearColor:function(){return o},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o.set(e),c=t,g(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,g(o,c)},render:function(s,p){let C=!1,I=!0===p.isScene?p.background:null;if(I&&I.isTexture){I=(p.backgroundBlurriness>0?n:t).get(I)}null===I?g(o,c):I&&I.isColor&&(g(I,1),C=!0);const v=e.xr.getEnvironmentBlendMode();"additive"===v?r.buffers.color.setClear(0,0,0,1,a):"alpha-blend"===v&&r.buffers.color.setClear(0,0,0,0,a),(e.autoClear||C)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),I&&(I.isCubeTexture||I.mapping===fe)?(void 0===A&&(A=new js(new Zs(1,1,1),new ra({name:"BackgroundCubeMaterial",uniforms:$s(Ba.backgroundCube.uniforms),vertexShader:Ba.backgroundCube.vertexShader,fragmentShader:Ba.backgroundCube.fragmentShader,side:m,depthTest:!1,depthWrite:!1,fog:!1})),A.geometry.deleteAttribute("normal"),A.geometry.deleteAttribute("uv"),A.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(A.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(A)),A.material.uniforms.envMap.value=I,A.material.uniforms.flipEnvMap.value=I.isCubeTexture&&!1===I.isRenderTargetTexture?-1:1,A.material.uniforms.backgroundBlurriness.value=p.backgroundBlurriness,A.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,A.material.toneMapped=Ir.getTransfer(I.colorSpace)!==nn,u===I&&h===I.version&&d===e.toneMapping||(A.material.needsUpdate=!0,u=I,h=I.version,d=e.toneMapping),A.layers.enableAll(),s.unshift(A,A.geometry,A.material,0,0,null)):I&&I.isTexture&&(void 0===l&&(l=new js(new Ia(2,2),new ra({name:"BackgroundMaterial",uniforms:$s(Ba.background.uniforms),vertexShader:Ba.background.vertexShader,fragmentShader:Ba.background.fragmentShader,side:f,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=I,l.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,l.material.toneMapped=Ir.getTransfer(I.colorSpace)!==nn,!0===I.matrixAutoUpdate&&I.updateMatrix(),l.material.uniforms.uvTransform.value.copy(I.matrix),u===I&&h===I.version&&d===e.toneMapping||(l.material.needsUpdate=!0,u=I,h=I.version,d=e.toneMapping),l.layers.enableAll(),s.unshift(l,l.geometry,l.material,0,0,null))}}}function ba(e,t,n,r){const i=e.getParameter(e.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==s,o={},l=d(null);let A=l,c=!1;function u(t){return r.isWebGL2?e.bindVertexArray(t):s.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):s.deleteVertexArrayOES(t)}function d(e){const t=[],n=[],r=[];for(let s=0;s<i;s++)t[s]=0,n[s]=0,r[s]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function g(){const e=A.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function p(e){f(e,0)}function f(n,i){const s=A.newAttributes,a=A.enabledAttributes,o=A.attributeDivisors;if(s[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),o[n]!==i){(r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),o[n]=i}}function m(){const t=A.newAttributes,n=A.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function C(t,n,r,i,s,a,o){!0===o?e.vertexAttribIPointer(t,n,r,s,a):e.vertexAttribPointer(t,n,r,i,s,a)}function I(){v(),c=!0,A!==l&&(A=l,u(A.object))}function v(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,h,I,v){let E=!1;if(a){const t=function(t,n,i){const a=!0===i.wireframe;let l=o[t.id];void 0===l&&(l={},o[t.id]=l);let A=l[n.id];void 0===A&&(A={},l[n.id]=A);let c=A[a];void 0===c&&(c=d(r.isWebGL2?e.createVertexArray():s.createVertexArrayOES()),A[a]=c);return c}(I,h,l);A!==t&&(A=t,u(A.object)),E=function(e,t,n,r){const i=A.attributes,s=t.attributes;let a=0;const o=n.getAttributes();for(const l in o){if(o[l].location>=0){const t=i[l];let n=s[l];if(void 0===n&&("instanceMatrix"===l&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;a++}}return A.attributesNum!==a||A.index!==r}(i,I,h,v),E&&function(e,t,n,r){const i={},s=t.attributes;let a=0;const o=n.getAttributes();for(const l in o){if(o[l].location>=0){let t=s[l];void 0===t&&("instanceMatrix"===l&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[l]=n,a++}}A.attributes=i,A.attributesNum=a,A.index=r}(i,I,h,v)}else{const e=!0===l.wireframe;A.geometry===I.id&&A.program===h.id&&A.wireframe===e||(A.geometry=I.id,A.program=h.id,A.wireframe=e,E=!0)}null!==v&&n.update(v,e.ELEMENT_ARRAY_BUFFER),(E||c)&&(c=!1,function(i,s,a,o){if(!1===r.isWebGL2&&(i.isInstancedMesh||o.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;g();const l=o.attributes,A=a.getAttributes(),c=s.defaultAttributeValues;for(const t in A){const s=A[t];if(s.location>=0){let a=l[t];if(void 0===a&&("instanceMatrix"===t&&i.instanceMatrix&&(a=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(a=i.instanceColor)),void 0!==a){const t=a.normalized,l=a.itemSize,A=n.get(a);if(void 0===A)continue;const c=A.buffer,u=A.type,h=A.bytesPerElement,d=!0===r.isWebGL2&&(u===e.INT||u===e.UNSIGNED_INT||a.gpuType===Ne);if(a.isInterleavedBufferAttribute){const n=a.data,r=n.stride,A=a.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<s.locationSize;e++)f(s.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<s.locationSize;e++)p(s.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<s.locationSize;e++)C(s.location+e,l/s.locationSize,u,t,r*h,(A+l/s.locationSize*e)*h,d)}else{if(a.isInstancedBufferAttribute){for(let e=0;e<s.locationSize;e++)f(s.location+e,a.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let e=0;e<s.locationSize;e++)p(s.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<s.locationSize;e++)C(s.location+e,l/s.locationSize,u,t,l*h,l/s.locationSize*e*h,d)}}else if(void 0!==c){const n=c[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(s.location,n);break;case 3:e.vertexAttrib3fv(s.location,n);break;case 4:e.vertexAttrib4fv(s.location,n);break;default:e.vertexAttrib1fv(s.location,n)}}}}m()}(i,l,h,I),null!==v&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(v).buffer))},reset:I,resetDefaultState:v,dispose:function(){I();for(const e in o){const t=o[e];for(const e in t){const n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete o[e]}},releaseStatesOfGeometry:function(e){if(void 0===o[e.id])return;const t=o[e.id];for(const n in t){const e=t[n];for(const t in e)h(e[t].object),delete e[t];delete t[n]}delete o[e.id]},releaseStatesOfProgram:function(e){for(const t in o){const n=o[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)h(r[e].object),delete r[e];delete n[e.id]}},initAttributes:g,enableAttribute:p,disableUnusedAttributes:m}}function xa(e,t,n,r){const i=r.isWebGL2;let s;this.setMode=function(e){s=e},this.render=function(t,r){e.drawArrays(s,t,r),n.update(r,s,1)},this.renderInstances=function(r,a,o){if(0===o)return;let l,A;if(i)l=e,A="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),A="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[A](s,r,a,o),n.update(a,s,o)}}function Sa(e,t,n){let r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name;let a=void 0!==n.precision?n.precision:"highp";const o=i(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);const l=s||t.has("WEBGL_draw_buffers"),A=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),u=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_TEXTURE_SIZE),d=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),g=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),f=e.getParameter(e.MAX_VARYING_VECTORS),m=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),C=u>0,I=s||t.has("OES_texture_float");return{isWebGL2:s,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:A,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:g,maxVertexUniforms:p,maxVaryings:f,maxFragmentUniforms:m,vertexTextures:C,floatFragmentTextures:I,floatVertexTextures:C&&I,maxSamples:s?e.getParameter(e.MAX_SAMPLES):0}}function Qa(e){const t=this;let n=null,r=0,i=!1,s=!1;const a=new da,o=new ar,l={value:null,needsUpdate:!1};function A(e,n,r,i){const s=null!==e?e.length:0;let A=null;if(0!==s){if(A=l.value,!0!==i||null===A){const t=r+4*s,i=n.matrixWorldInverse;o.getNormalMatrix(i),(null===A||A.length<t)&&(A=new Float32Array(t));for(let n=0,l=r;n!==s;++n,l+=4)a.copy(e[n]).applyMatrix4(i,o),a.normal.toArray(A,l),A[l+3]=a.constant}l.value=A,l.needsUpdate=!0}return t.numPlanes=s,t.numIntersection=0,A}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){s=!0,A(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(e,t){n=A(e,t,0)},this.setState=function(a,o,c){const u=a.clippingPlanes,h=a.clipIntersection,d=a.clipShadows,g=e.get(a);if(!i||null===u||0===u.length||s&&!d)s?A(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=s?0:r,t=4*e;let i=g.clippingState||null;l.value=i,i=A(u,o,t,c);for(let r=0;r!==t;++r)i[r]=n[r];g.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function Ma(e){let t=new WeakMap;function n(e,t){return t===ge?e.mapping=he:t===pe&&(e.mapping=de),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const s=i.mapping;if(s===ge||s===pe){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const s=i.image;if(s&&s.height>0){const a=new Aa(s.height/2);return a.fromEquirectangularTexture(e,i),t.set(i,a),i.addEventListener("dispose",r),n(a.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class _a extends ia{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,s=n+e,a=r+t,o=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,s=i+e*this.view.width,a-=t*this.view.offsetY,o=a-t*this.view.height}this.projectionMatrix.makeOrthographic(i,s,a,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Da=[.125,.215,.35,.446,.526,.582],Ra=20,Ta=new _a,Na=new ns;let La=null,Pa=0,Fa=0;const Ua=(1+Math.sqrt(5))/2,Ga=1/Ua,ka=[new Ur(1,1,1),new Ur(-1,1,1),new Ur(1,1,-1),new Ur(-1,1,-1),new Ur(0,Ua,Ga),new Ur(0,Ua,-Ga),new Ur(Ga,0,Ua),new Ur(-Ga,0,Ua),new Ur(Ua,Ga,0),new Ur(-Ua,Ga,0)];class Ha{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;La=this._renderer.getRenderTarget(),Pa=this._renderer.getActiveCubeFace(),Fa=this._renderer.getActiveMipmapLevel(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Wa(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Ya(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(La,Pa,Fa),e.scissorTest=!1,za(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===he||e.mapping===de?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),La=this._renderer.getRenderTarget(),Pa=this._renderer.getActiveCubeFace(),Fa=this._renderer.getActiveMipmapLevel();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:be,minFilter:be,generateMipmaps:!1,type:Fe,format:Oe,colorSpace:Zt,depthBuffer:!1},r=Oa(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Oa(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const s=e-4+1+Da.length;for(let a=0;a<s;a++){const s=Math.pow(2,i);n.push(s);let o=1/s;a>e-4?o=Da[a-e+4-1]:0===a&&(o=0),r.push(o);const l=1/(s-2),A=-l,c=1+l,u=[A,A,c,A,c,c,A,A,c,c,A,c],h=6,d=6,g=3,p=2,f=1,m=new Float32Array(g*d*h),C=new Float32Array(p*d*h),I=new Float32Array(f*d*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];m.set(r,g*d*e),C.set(u,p*d*e);const i=[e,e,e,e,e,e];I.set(i,f*d*e)}const v=new Rs;v.setAttribute("position",new gs(m,g)),v.setAttribute("uv",new gs(C,p)),v.setAttribute("faceIndex",new gs(I,f)),t.push(v),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(Ra),i=new Ur(0,1,0),s=new ra({name:"SphericalGaussianBlur",defines:{n:Ra,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:v,depthTest:!1,depthWrite:!1});return s}(r,e,t)}return r}_compileMaterial(e){const t=new js(this._lodPlanes[0],e);this._renderer.compile(t,Ta)}_sceneToCubeUV(e,t,n,r){const i=new sa(90,1,t,n),s=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],o=this._renderer,l=o.autoClear,A=o.toneMapping;o.getClearColor(Na),o.toneMapping=re,o.autoClear=!1;const c=new as({name:"PMREM.Background",side:m,depthWrite:!1,depthTest:!1}),u=new js(new Zs,c);let h=!1;const d=e.background;d?d.isColor&&(c.color.copy(d),e.background=null,h=!0):(c.color.copy(Na),h=!0);for(let g=0;g<6;g++){const t=g%3;0===t?(i.up.set(0,s[g],0),i.lookAt(a[g],0,0)):1===t?(i.up.set(0,0,s[g]),i.lookAt(0,a[g],0)):(i.up.set(0,s[g],0),i.lookAt(0,0,a[g]));const n=this._cubeSize;za(r,t*n,g>2?n:0,n,n),o.setRenderTarget(r),h&&o.render(u,i),o.render(e,i)}u.geometry.dispose(),u.material.dispose(),o.toneMapping=A,o.autoClear=l,e.background=d}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===he||e.mapping===de;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Wa()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Ya());const i=r?this._cubemapMaterial:this._equirectMaterial,s=new js(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const a=this._cubeSize;za(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(s,Ta)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const t=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=ka[(r-1)%ka.length];this._blur(e,r-1,r,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,r,"latitudinal",i),this._halfBlur(s,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,s,a){const o=this._renderer,l=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const A=new js(this._lodPlanes[r],l),c=l.uniforms,u=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*u):2*Math.PI/39,d=i/h,g=isFinite(i)?1+Math.floor(3*d):Ra;g>Ra&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(g," samples when the maximum is set to ").concat(Ra));const p=[];let f=0;for(let I=0;I<Ra;++I){const e=I/d,t=Math.exp(-e*e/2);p.push(t),0===I?f+=t:I<g&&(f+=2*t)}for(let I=0;I<p.length;I++)p[I]=p[I]/f;c.envMap.value=e.texture,c.samples.value=g,c.weights.value=p,c.latitudinal.value="latitudinal"===s,a&&(c.poleAxis.value=a);const{_lodMax:m}=this;c.dTheta.value=h,c.mipInt.value=m-n;const C=this._sizeLods[r];za(t,3*C*(r>m-4?r-m+4:0),4*(this._cubeSize-C),3*C,2*C),o.setRenderTarget(t),o.render(A,Ta)}}function Oa(e,t,n){const r=new Dr(e,t,n);return r.texture.mapping=fe,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function za(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Ya(){return new ra({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:v,depthTest:!1,depthWrite:!1})}function Wa(){return new ra({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:v,depthTest:!1,depthWrite:!1})}function Va(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const s=i.mapping,a=s===ge||s===pe,o=s===he||s===de;if(a||o){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=t.get(i);return null===n&&(n=new Ha(e)),r=a?n.fromEquirectangular(i,r):n.fromCubemap(i,r),t.set(i,r),r.texture}if(t.has(i))return t.get(i).texture;{const s=i.image;if(a&&s&&s.height>0||o&&s&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(s)){null===n&&(n=new Ha(e));const s=a?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,s),i.addEventListener("dispose",r),s.texture}return null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Ja(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Ka(e,t,n,r){const i={},s=new WeakMap;function a(e){const o=e.target;null!==o.index&&t.remove(o.index);for(const n in o.attributes)t.remove(o.attributes[n]);for(const n in o.morphAttributes){const e=o.morphAttributes[n];for(let n=0,r=e.length;n<r;n++)t.remove(e[n])}o.removeEventListener("dispose",a),delete i[o.id];const l=s.get(o);l&&(t.remove(l),s.delete(o)),r.releaseStatesOfGeometry(o),!0===o.isInstancedBufferGeometry&&delete o._maxInstanceCount,n.memory.geometries--}function o(e){const n=[],r=e.index,i=e.attributes.position;let a=0;if(null!==r){const e=r.array;a=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],s=e[t+2];n.push(r,i,i,s,s,r)}}else{if(void 0===i)return;{const e=i.array;a=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const o=new(lr(n)?Es:Is)(n,1);o.version=a;const l=s.get(e);l&&t.remove(l),s.set(e,o)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const s in r)t.update(r[s],e.ARRAY_BUFFER);const i=n.morphAttributes;for(const s in i){const n=i[s];for(let r=0,i=n.length;r<i;r++)t.update(n[r],e.ARRAY_BUFFER)}},getWireframeAttribute:function(e){const t=s.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&o(e)}else o(e);return s.get(e)}}}function qa(e,t,n,r){const i=r.isWebGL2;let s,a,o;this.setMode=function(e){s=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(s,r,a,t*o),n.update(r,s,1)},this.renderInstances=function(r,l,A){if(0===A)return;let c,u;if(i)c=e,u="drawElementsInstanced";else if(c=t.get("ANGLE_instanced_arrays"),u="drawElementsInstancedANGLE",null===c)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[u](s,l,a,r*o,A),n.update(l,s,A)}}function ja(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Xa(e,t){return e[0]-t[0]}function Za(e,t){return Math.abs(t[1])-Math.abs(e[1])}function $a(e,t,n){const r={},i=new Float32Array(8),s=new WeakMap,a=new Mr,o=[];for(let l=0;l<8;l++)o[l]=[l,0];return{update:function(l,A,c){const u=l.morphTargetInfluences;if(!0===t.isWebGL2){const h=A.morphAttributes.position||A.morphAttributes.normal||A.morphAttributes.color,d=void 0!==h?h.length:0;let g=s.get(A);if(void 0===g||g.count!==d){void 0!==g&&g.texture.dispose();const m=void 0!==A.morphAttributes.position,C=void 0!==A.morphAttributes.normal,I=void 0!==A.morphAttributes.color,v=A.morphAttributes.position||[],E=A.morphAttributes.normal||[],B=A.morphAttributes.color||[];let y=0;!0===m&&(y=1),!0===C&&(y=2),!0===I&&(y=3);let w=A.attributes.position.count*y,b=1;w>t.maxTextureSize&&(b=Math.ceil(w/t.maxTextureSize),w=t.maxTextureSize);const x=new Float32Array(w*b*4*d),S=new Rr(x,w,b,d);S.type=Pe,S.needsUpdate=!0;const Q=4*y;for(let _=0;_<d;_++){const D=v[_],R=E[_],T=B[_],N=w*b*4*_;for(let L=0;L<D.count;L++){const P=L*Q;!0===m&&(a.fromBufferAttribute(D,L),x[N+P+0]=a.x,x[N+P+1]=a.y,x[N+P+2]=a.z,x[N+P+3]=0),!0===C&&(a.fromBufferAttribute(R,L),x[N+P+4]=a.x,x[N+P+5]=a.y,x[N+P+6]=a.z,x[N+P+7]=0),!0===I&&(a.fromBufferAttribute(T,L),x[N+P+8]=a.x,x[N+P+9]=a.y,x[N+P+10]=a.z,x[N+P+11]=4===T.itemSize?a.w:1)}}function M(){S.dispose(),s.delete(A),A.removeEventListener("dispose",M)}g={count:d,texture:S,size:new sr(w,b)},s.set(A,g),A.addEventListener("dispose",M)}let p=0;for(let F=0;F<u.length;F++)p+=u[F];const f=A.morphTargetsRelative?1:1-p;c.getUniforms().setValue(e,"morphTargetBaseInfluence",f),c.getUniforms().setValue(e,"morphTargetInfluences",u),c.getUniforms().setValue(e,"morphTargetsTexture",g.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",g.size)}else{const U=void 0===u?0:u.length;let G=r[A.id];if(void 0===G||G.length!==U){G=[];for(let Y=0;Y<U;Y++)G[Y]=[Y,0];r[A.id]=G}for(let W=0;W<U;W++){const V=G[W];V[0]=W,V[1]=u[W]}G.sort(Za);for(let J=0;J<8;J++)J<U&&G[J][1]?(o[J][0]=G[J][0],o[J][1]=G[J][1]):(o[J][0]=Number.MAX_SAFE_INTEGER,o[J][1]=0);o.sort(Xa);const k=A.morphAttributes.position,H=A.morphAttributes.normal;let O=0;for(let K=0;K<8;K++){const q=o[K],j=q[0],X=q[1];j!==Number.MAX_SAFE_INTEGER&&X?(k&&A.getAttribute("morphTarget"+K)!==k[j]&&A.setAttribute("morphTarget"+K,k[j]),H&&A.getAttribute("morphNormal"+K)!==H[j]&&A.setAttribute("morphNormal"+K,H[j]),i[K]=X,O+=X):(k&&!0===A.hasAttribute("morphTarget"+K)&&A.deleteAttribute("morphTarget"+K),H&&!0===A.hasAttribute("morphNormal"+K)&&A.deleteAttribute("morphNormal"+K),i[K]=0)}const z=A.morphTargetsRelative?1:1-O;c.getUniforms().setValue(e,"morphTargetBaseInfluence",z),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function eo(e,t,n,r){let i=new WeakMap;function s(e){const t=e.target;t.removeEventListener("dispose",s),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(a){const o=r.render.frame,l=a.geometry,A=t.get(a,l);if(i.get(A)!==o&&(t.update(A),i.set(A,o)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",s)&&a.addEventListener("dispose",s),i.get(a)!==o&&(n.update(a.instanceMatrix,e.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,e.ARRAY_BUFFER),i.set(a,o))),a.isSkinnedMesh){const e=a.skeleton;i.get(e)!==o&&(e.update(),i.set(e,o))}return A},dispose:function(){i=new WeakMap}}}const to=new Qr,no=new Rr,ro=new Nr,io=new la,so=[],ao=[],oo=new Float32Array(16),lo=new Float32Array(9),Ao=new Float32Array(4);function co(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let s=so[i];if(void 0===s&&(s=new Float32Array(i),so[i]=s),0!==t){r.toArray(s,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(s,i)}return s}function uo(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function ho(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function go(e,t){let n=ao[t];void 0===n&&(n=new Int32Array(t),ao[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function po(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function fo(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(uo(n,t))return;e.uniform2fv(this.addr,t),ho(n,t)}}function mo(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(uo(n,t))return;e.uniform3fv(this.addr,t),ho(n,t)}}function Co(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(uo(n,t))return;e.uniform4fv(this.addr,t),ho(n,t)}}function Io(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(uo(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),ho(n,t)}else{if(uo(n,r))return;Ao.set(r),e.uniformMatrix2fv(this.addr,!1,Ao),ho(n,r)}}function vo(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(uo(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),ho(n,t)}else{if(uo(n,r))return;lo.set(r),e.uniformMatrix3fv(this.addr,!1,lo),ho(n,r)}}function Eo(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(uo(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),ho(n,t)}else{if(uo(n,r))return;oo.set(r),e.uniformMatrix4fv(this.addr,!1,oo),ho(n,r)}}function Bo(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function yo(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(uo(n,t))return;e.uniform2iv(this.addr,t),ho(n,t)}}function wo(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(uo(n,t))return;e.uniform3iv(this.addr,t),ho(n,t)}}function bo(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(uo(n,t))return;e.uniform4iv(this.addr,t),ho(n,t)}}function xo(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function So(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(uo(n,t))return;e.uniform2uiv(this.addr,t),ho(n,t)}}function Qo(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(uo(n,t))return;e.uniform3uiv(this.addr,t),ho(n,t)}}function Mo(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(uo(n,t))return;e.uniform4uiv(this.addr,t),ho(n,t)}}function _o(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||to,i)}function Do(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||ro,i)}function Ro(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||io,i)}function To(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||no,i)}function No(e,t){e.uniform1fv(this.addr,t)}function Lo(e,t){const n=co(t,this.size,2);e.uniform2fv(this.addr,n)}function Po(e,t){const n=co(t,this.size,3);e.uniform3fv(this.addr,n)}function Fo(e,t){const n=co(t,this.size,4);e.uniform4fv(this.addr,n)}function Uo(e,t){const n=co(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Go(e,t){const n=co(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function ko(e,t){const n=co(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Ho(e,t){e.uniform1iv(this.addr,t)}function Oo(e,t){e.uniform2iv(this.addr,t)}function zo(e,t){e.uniform3iv(this.addr,t)}function Yo(e,t){e.uniform4iv(this.addr,t)}function Wo(e,t){e.uniform1uiv(this.addr,t)}function Vo(e,t){e.uniform2uiv(this.addr,t)}function Jo(e,t){e.uniform3uiv(this.addr,t)}function Ko(e,t){e.uniform4uiv(this.addr,t)}function qo(e,t,n){const r=this.cache,i=t.length,s=go(n,i);uo(r,s)||(e.uniform1iv(this.addr,s),ho(r,s));for(let a=0;a!==i;++a)n.setTexture2D(t[a]||to,s[a])}function jo(e,t,n){const r=this.cache,i=t.length,s=go(n,i);uo(r,s)||(e.uniform1iv(this.addr,s),ho(r,s));for(let a=0;a!==i;++a)n.setTexture3D(t[a]||ro,s[a])}function Xo(e,t,n){const r=this.cache,i=t.length,s=go(n,i);uo(r,s)||(e.uniform1iv(this.addr,s),ho(r,s));for(let a=0;a!==i;++a)n.setTextureCube(t[a]||io,s[a])}function Zo(e,t,n){const r=this.cache,i=t.length,s=go(n,i);uo(r,s)||(e.uniform1iv(this.addr,s),ho(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(t[a]||no,s[a])}class $o{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return po;case 35664:return fo;case 35665:return mo;case 35666:return Co;case 35674:return Io;case 35675:return vo;case 35676:return Eo;case 5124:case 35670:return Bo;case 35667:case 35671:return yo;case 35668:case 35672:return wo;case 35669:case 35673:return bo;case 5125:return xo;case 36294:return So;case 36295:return Qo;case 36296:return Mo;case 35678:case 36198:case 36298:case 36306:case 35682:return _o;case 35679:case 36299:case 36307:return Do;case 35680:case 36300:case 36308:case 36293:return Ro;case 36289:case 36303:case 36311:case 36292:return To}}(t.type)}}class el{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return No;case 35664:return Lo;case 35665:return Po;case 35666:return Fo;case 35674:return Uo;case 35675:return Go;case 35676:return ko;case 5124:case 35670:return Ho;case 35667:case 35671:return Oo;case 35668:case 35672:return zo;case 35669:case 35673:return Yo;case 5125:return Wo;case 36294:return Vo;case 36295:return Jo;case 36296:return Ko;case 35678:case 36198:case 36298:case 36306:case 35682:return qo;case 35679:case 36299:case 36307:return jo;case 35680:case 36300:case 36308:case 36293:return Xo;case 36289:case 36303:case 36311:case 36292:return Zo}}(t.type)}}class tl{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const s=r[i];s.setValue(e,t[s.id],n)}}}const nl=/(\w+)(\])?(\[|\.)?/g;function rl(e,t){e.seq.push(t),e.map[t.id]=t}function il(e,t,n){const r=e.name,i=r.length;for(nl.lastIndex=0;;){const s=nl.exec(r),a=nl.lastIndex;let o=s[1];const l="]"===s[2],A=s[3];if(l&&(o|=0),void 0===A||"["===A&&a+2===i){rl(n,void 0===A?new $o(o,e,t):new el(o,e,t));break}{let e=n.map[o];void 0===e&&(e=new tl(o),rl(n,e)),n=e}}}class sl{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);il(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,s=t.length;i!==s;++i){const s=t[i],a=n[s.id];!1!==a.needsUpdate&&s.setValue(e,a.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function al(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}const ol=37297;let ll=0;function Al(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const r=parseInt(s[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),s=Math.min(t+6,n.length);for(let a=i;a<s;a++){const e=a+1;r.push("".concat(e===t?">":" "," ").concat(e,": ").concat(n[a]))}return r.join("\n")}(e.getShaderSource(t),r)}return i}function cl(e,t){const n=function(e){const t=Ir.getPrimaries(Ir.workingColorSpace),n=Ir.getPrimaries(e);let r;switch(t===n?r="":t===sn&&n===rn?r="LinearDisplayP3ToLinearSRGB":t===rn&&n===sn&&(r="LinearSRGBToLinearDisplayP3"),e){case Zt:case en:return[r,"LinearTransferOETF"];case Xt:case $t:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[r,"LinearTransferOETF"]}}(t);return"vec4 ".concat(e,"( vec4 value ) { return ").concat(n[0],"( ").concat(n[1],"( value ) ); }")}function ul(e,t){let n;switch(t){case ie:n="Linear";break;case se:n="Reinhard";break;case ae:n="OptimizedCineon";break;case oe:n="ACESFilmic";break;case le:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function hl(e){return""!==e}function dl(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function gl(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const pl=/^[ \t]*#include +<([\w\d./]+)>/gm;function fl(e){return e.replace(pl,Cl)}const ml=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Cl(e,t){let n=va[t];if(void 0===n){const e=ml.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=va[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return fl(n)}const Il=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function vl(e){return e.replace(Il,El)}function El(e,t,n,r){let i="";for(let s=parseInt(t);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Bl(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function yl(e,t,n,r){const i=e.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===d?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===g?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===p&&(t="SHADOWMAP_TYPE_VSM"),t}(n),A=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case he:case de:t="ENVMAP_TYPE_CUBE";break;case fe:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),c=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===de&&(t="ENVMAP_MODE_REFRACTION");return t}(n),u=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case ee:t="ENVMAP_BLENDING_MULTIPLY";break;case te:t="ENVMAP_BLENDING_MIX";break;case ne:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(hl).join("\n")}(n),m=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),C=i.createProgram();let I,v,E=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(I=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(hl).join("\n"),I.length>0&&(I+="\n"),v=[f,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(hl).join("\n"),v.length>0&&(v+="\n")):(I=[Bl(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(hl).join("\n"),v=[f,Bl(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+A:"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==re?"#define TONE_MAPPING":"",n.toneMapping!==re?va.tonemapping_pars_fragment:"",n.toneMapping!==re?ul("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",va.colorspace_pars_fragment,cl("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(hl).join("\n")),a=fl(a),a=dl(a,n),a=gl(a,n),o=fl(o),o=dl(o,n),o=gl(o,n),a=vl(a),o=vl(o),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(E="#version 300 es\n",I=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+I,v=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===kn?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===kn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const B=E+I+a,y=E+v+o,w=al(i,i.VERTEX_SHADER,B),b=al(i,i.FRAGMENT_SHADER,y);function x(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(C).trim(),r=i.getShaderInfoLog(w).trim(),s=i.getShaderInfoLog(b).trim();let a=!0,o=!0;if(!1===i.getProgramParameter(C,i.LINK_STATUS))if(a=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(i,C,w,b);else{const e=Al(i,w,"vertex"),t=Al(i,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(C,i.VALIDATE_STATUS)+"\n\nProgram Info Log: "+n+"\n"+e+"\n"+t)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==s||(o=!1);o&&(t.diagnostics={runnable:a,programLog:n,vertexShader:{log:r,prefix:I},fragmentShader:{log:s,prefix:v}})}i.deleteShader(w),i.deleteShader(b),S=new sl(i,C),Q=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),s=r.name;let a=1;r.type===e.FLOAT_MAT2&&(a=2),r.type===e.FLOAT_MAT3&&(a=3),r.type===e.FLOAT_MAT4&&(a=4),n[s]={type:r.type,location:e.getAttribLocation(t,s),locationSize:a}}return n}(i,C)}let S,Q;i.attachShader(C,w),i.attachShader(C,b),void 0!==n.index0AttributeName?i.bindAttribLocation(C,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(C,0,"position"),i.linkProgram(C),this.getUniforms=function(){return void 0===S&&x(this),S},this.getAttributes=function(){return void 0===Q&&x(this),Q};let M=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===M&&(M=i.getProgramParameter(C,ol)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(C),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=ll++,this.cacheKey=t,this.usedTimes=1,this.program=C,this.vertexShader=w,this.fragmentShader=b,this}let wl=0;class bl{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return!1===s.has(r)&&(s.add(r),r.usedTimes++),!1===s.has(i)&&(s.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new xl(e),t.set(e,n)),n}}class xl{constructor(e){this.id=wl++,this.code=e,this.usedTimes=0}}function Sl(e,t,n,r,i,s,a){const o=new bi,l=new bl,A=[],c=i.isWebGL2,u=i.logarithmicDepthBuffer,h=i.vertexTextures;let d=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(e){return 0===e?"uv":"uv".concat(e)}return{getParameters:function(s,o,A,f,I){const v=f.fog,B=I.geometry,y=s.isMeshStandardMaterial?f.environment:null,w=(s.isMeshStandardMaterial?n:t).get(s.envMap||y),b=w&&w.mapping===fe?w.image.height:null,x=g[s.type];null!==s.precision&&(d=i.getMaxPrecision(s.precision),d!==s.precision&&console.warn("THREE.WebGLProgram.getParameters:",s.precision,"not supported, using",d,"instead."));const S=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,Q=void 0!==S?S.length:0;let M,_,D,R,T=0;if(void 0!==B.morphAttributes.position&&(T=1),void 0!==B.morphAttributes.normal&&(T=2),void 0!==B.morphAttributes.color&&(T=3),x){const e=Ba[x];M=e.vertexShader,_=e.fragmentShader}else M=s.vertexShader,_=s.fragmentShader,l.update(s),D=l.getVertexShaderID(s),R=l.getFragmentShaderID(s);const N=e.getRenderTarget(),L=!0===I.isInstancedMesh,P=!!s.map,F=!!s.matcap,U=!!w,G=!!s.aoMap,k=!!s.lightMap,H=!!s.bumpMap,O=!!s.normalMap,z=!!s.displacementMap,Y=!!s.emissiveMap,W=!!s.metalnessMap,V=!!s.roughnessMap,J=s.anisotropy>0,K=s.clearcoat>0,q=s.iridescence>0,j=s.sheen>0,X=s.transmission>0,Z=J&&!!s.anisotropyMap,$=K&&!!s.clearcoatMap,ee=K&&!!s.clearcoatNormalMap,te=K&&!!s.clearcoatRoughnessMap,ne=q&&!!s.iridescenceMap,ie=q&&!!s.iridescenceThicknessMap,se=j&&!!s.sheenColorMap,ae=j&&!!s.sheenRoughnessMap,oe=!!s.specularMap,le=!!s.specularColorMap,Ae=!!s.specularIntensityMap,ce=X&&!!s.transmissionMap,ue=X&&!!s.thicknessMap,he=!!s.gradientMap,de=!!s.alphaMap,ge=s.alphaTest>0,pe=!!s.alphaHash,me=!!s.extensions,Ce=!!B.attributes.uv1,Ie=!!B.attributes.uv2,ve=!!B.attributes.uv3;let Ee=re;return s.toneMapped&&(null!==N&&!0!==N.isXRRenderTarget||(Ee=e.toneMapping)),{isWebGL2:c,shaderID:x,shaderType:s.type,shaderName:s.name,vertexShader:M,fragmentShader:_,defines:s.defines,customVertexShaderID:D,customFragmentShaderID:R,isRawShaderMaterial:!0===s.isRawShaderMaterial,glslVersion:s.glslVersion,precision:d,instancing:L,instancingColor:L&&null!==I.instanceColor,supportsVertexTextures:h,outputColorSpace:null===N?e.outputColorSpace:!0===N.isXRRenderTarget?N.texture.colorSpace:Zt,map:P,matcap:F,envMap:U,envMapMode:U&&w.mapping,envMapCubeUVHeight:b,aoMap:G,lightMap:k,bumpMap:H,normalMap:O,displacementMap:h&&z,emissiveMap:Y,normalMapObjectSpace:O&&s.normalMapType===qt,normalMapTangentSpace:O&&s.normalMapType===Kt,metalnessMap:W,roughnessMap:V,anisotropy:J,anisotropyMap:Z,clearcoat:K,clearcoatMap:$,clearcoatNormalMap:ee,clearcoatRoughnessMap:te,iridescence:q,iridescenceMap:ne,iridescenceThicknessMap:ie,sheen:j,sheenColorMap:se,sheenRoughnessMap:ae,specularMap:oe,specularColorMap:le,specularIntensityMap:Ae,transmission:X,transmissionMap:ce,thicknessMap:ue,gradientMap:he,opaque:!1===s.transparent&&s.blending===E,alphaMap:de,alphaTest:ge,alphaHash:pe,combine:s.combine,mapUv:P&&p(s.map.channel),aoMapUv:G&&p(s.aoMap.channel),lightMapUv:k&&p(s.lightMap.channel),bumpMapUv:H&&p(s.bumpMap.channel),normalMapUv:O&&p(s.normalMap.channel),displacementMapUv:z&&p(s.displacementMap.channel),emissiveMapUv:Y&&p(s.emissiveMap.channel),metalnessMapUv:W&&p(s.metalnessMap.channel),roughnessMapUv:V&&p(s.roughnessMap.channel),anisotropyMapUv:Z&&p(s.anisotropyMap.channel),clearcoatMapUv:$&&p(s.clearcoatMap.channel),clearcoatNormalMapUv:ee&&p(s.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:te&&p(s.clearcoatRoughnessMap.channel),iridescenceMapUv:ne&&p(s.iridescenceMap.channel),iridescenceThicknessMapUv:ie&&p(s.iridescenceThicknessMap.channel),sheenColorMapUv:se&&p(s.sheenColorMap.channel),sheenRoughnessMapUv:ae&&p(s.sheenRoughnessMap.channel),specularMapUv:oe&&p(s.specularMap.channel),specularColorMapUv:le&&p(s.specularColorMap.channel),specularIntensityMapUv:Ae&&p(s.specularIntensityMap.channel),transmissionMapUv:ce&&p(s.transmissionMap.channel),thicknessMapUv:ue&&p(s.thicknessMap.channel),alphaMapUv:de&&p(s.alphaMap.channel),vertexTangents:!!B.attributes.tangent&&(O||J),vertexColors:s.vertexColors,vertexAlphas:!0===s.vertexColors&&!!B.attributes.color&&4===B.attributes.color.itemSize,vertexUv1s:Ce,vertexUv2s:Ie,vertexUv3s:ve,pointsUvs:!0===I.isPoints&&!!B.attributes.uv&&(P||de),fog:!!v,useFog:!0===s.fog,fogExp2:v&&v.isFogExp2,flatShading:!0===s.flatShading,sizeAttenuation:!0===s.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===I.isSkinnedMesh,morphTargets:void 0!==B.morphAttributes.position,morphNormals:void 0!==B.morphAttributes.normal,morphColors:void 0!==B.morphAttributes.color,morphTargetsCount:Q,morphTextureStride:T,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numSpotLightMaps:o.spotLightMap.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numSpotLightShadowsWithMaps:o.numSpotLightShadowsWithMaps,numLightProbes:o.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:s.dithering,shadowMapEnabled:e.shadowMap.enabled&&A.length>0,shadowMapType:e.shadowMap.type,toneMapping:Ee,useLegacyLights:e._useLegacyLights,decodeVideoTexture:P&&!0===s.map.isVideoTexture&&Ir.getTransfer(s.map.colorSpace)===nn,premultipliedAlpha:s.premultipliedAlpha,doubleSided:s.side===C,flipSided:s.side===m,useDepthPacking:s.depthPacking>=0,depthPacking:s.depthPacking||0,index0AttributeName:s.index0AttributeName,extensionDerivatives:me&&!0===s.extensions.derivatives,extensionFragDepth:me&&!0===s.extensions.fragDepth,extensionDrawBuffers:me&&!0===s.extensions.drawBuffers,extensionShaderTextureLOD:me&&!0===s.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:s.customProgramCacheKey()}},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){o.disableAll(),t.isWebGL2&&o.enable(0);t.supportsVertexTextures&&o.enable(1);t.instancing&&o.enable(2);t.instancingColor&&o.enable(3);t.matcap&&o.enable(4);t.envMap&&o.enable(5);t.normalMapObjectSpace&&o.enable(6);t.normalMapTangentSpace&&o.enable(7);t.clearcoat&&o.enable(8);t.iridescence&&o.enable(9);t.alphaTest&&o.enable(10);t.vertexColors&&o.enable(11);t.vertexAlphas&&o.enable(12);t.vertexUv1s&&o.enable(13);t.vertexUv2s&&o.enable(14);t.vertexUv3s&&o.enable(15);t.vertexTangents&&o.enable(16);t.anisotropy&&o.enable(17);t.alphaHash&&o.enable(18);e.push(o.mask),o.disableAll(),t.fog&&o.enable(0);t.useFog&&o.enable(1);t.flatShading&&o.enable(2);t.logarithmicDepthBuffer&&o.enable(3);t.skinning&&o.enable(4);t.morphTargets&&o.enable(5);t.morphNormals&&o.enable(6);t.morphColors&&o.enable(7);t.premultipliedAlpha&&o.enable(8);t.shadowMapEnabled&&o.enable(9);t.useLegacyLights&&o.enable(10);t.doubleSided&&o.enable(11);t.flipSided&&o.enable(12);t.useDepthPacking&&o.enable(13);t.dithering&&o.enable(14);t.transmission&&o.enable(15);t.sheen&&o.enable(16);t.opaque&&o.enable(17);t.pointsUvs&&o.enable(18);t.decodeVideoTexture&&o.enable(19);e.push(o.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=g[e.type];let n;if(t){const e=Ba[t];n=na.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=A.length;e<i;e++){const t=A[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new yl(e,n,t,s),A.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=A.indexOf(e);A[t]=A[A.length-1],A.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:A,dispose:function(){l.dispose()}}}function Ql(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ml(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function _l(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Dl(){const e=[];let t=0;const n=[],r=[],i=[];function s(n,r,i,s,a,o){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:s,renderOrder:n.renderOrder,z:a,group:o},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=s,l.renderOrder=n.renderOrder,l.z=a,l.group=o),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,a,o,l,A){const c=s(e,t,a,o,l,A);a.transmission>0?r.push(c):!0===a.transparent?i.push(c):n.push(c)},unshift:function(e,t,a,o,l,A){const c=s(e,t,a,o,l,A);a.transmission>0?r.unshift(c):!0===a.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Ml),r.length>1&&r.sort(t||_l),i.length>1&&i.sort(t||_l)}}}function Rl(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new Dl,e.set(t,[i])):n>=r.length?(i=new Dl,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function Tl(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Ur,color:new ns};break;case"SpotLight":n={position:new Ur,direction:new Ur,color:new ns,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ur,color:new ns,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ur,skyColor:new ns,groundColor:new ns};break;case"RectAreaLight":n={color:new ns,position:new Ur,halfWidth:new Ur,halfHeight:new Ur}}return e[t.id]=n,n}}}let Nl=0;function Ll(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Pl(e,t){const n=new Tl,r=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sr};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sr,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let l=0;l<9;l++)i.probe.push(new Ur);const s=new Ur,a=new gi,o=new gi;return{setup:function(s,a){let o=0,l=0,A=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let c=0,u=0,h=0,d=0,g=0,p=0,f=0,m=0,C=0,I=0,v=0;s.sort(Ll);const E=!0===a?Math.PI:1;for(let e=0,t=s.length;e<t;e++){const t=s[e],a=t.color,B=t.intensity,y=t.distance,w=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)o+=a.r*B*E,l+=a.g*B*E,A+=a.b*B*E;else if(t.isLightProbe){for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],B);v++}else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*E),t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[c]=n,i.directionalShadowMap[c]=w,i.directionalShadowMatrix[c]=t.shadow.matrix,p++}i.directional[c]=e,c++}else if(t.isSpotLight){const e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(a).multiplyScalar(B*E),e.distance=y,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,i.spot[h]=e;const s=t.shadow;if(t.map&&(i.spotLightMap[C]=t.map,C++,s.updateMatrices(t),t.castShadow&&I++),i.spotLightMatrix[h]=s.matrix,t.castShadow){const e=r.get(t);e.shadowBias=s.bias,e.shadowNormalBias=s.normalBias,e.shadowRadius=s.radius,e.shadowMapSize=s.mapSize,i.spotShadow[h]=e,i.spotShadowMap[h]=w,m++}h++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(a).multiplyScalar(B),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[d]=e,d++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*E),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[u]=n,i.pointShadowMap[u]=w,i.pointShadowMatrix[u]=t.shadow.matrix,f++}i.point[u]=e,u++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(B*E),e.groundColor.copy(t.groundColor).multiplyScalar(B*E),i.hemi[g]=e,g++}}d>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Ea.LTC_FLOAT_1,i.rectAreaLTC2=Ea.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Ea.LTC_HALF_1,i.rectAreaLTC2=Ea.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=o,i.ambient[1]=l,i.ambient[2]=A;const B=i.hash;B.directionalLength===c&&B.pointLength===u&&B.spotLength===h&&B.rectAreaLength===d&&B.hemiLength===g&&B.numDirectionalShadows===p&&B.numPointShadows===f&&B.numSpotShadows===m&&B.numSpotMaps===C&&B.numLightProbes===v||(i.directional.length=c,i.spot.length=h,i.rectArea.length=d,i.point.length=u,i.hemi.length=g,i.directionalShadow.length=p,i.directionalShadowMap.length=p,i.pointShadow.length=f,i.pointShadowMap.length=f,i.spotShadow.length=m,i.spotShadowMap.length=m,i.directionalShadowMatrix.length=p,i.pointShadowMatrix.length=f,i.spotLightMatrix.length=m+C-I,i.spotLightMap.length=C,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=v,B.directionalLength=c,B.pointLength=u,B.spotLength=h,B.rectAreaLength=d,B.hemiLength=g,B.numDirectionalShadows=p,B.numPointShadows=f,B.numSpotShadows=m,B.numSpotMaps=C,B.numLightProbes=v,i.version=Nl++)},setupView:function(e,t){let n=0,r=0,l=0,A=0,c=0;const u=t.matrixWorldInverse;for(let h=0,d=e.length;h<d;h++){const t=e[h];if(t.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),s.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(s),e.direction.transformDirection(u),n++}else if(t.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(u),e.direction.setFromMatrixPosition(t.matrixWorld),s.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(s),e.direction.transformDirection(u),l++}else if(t.isRectAreaLight){const e=i.rectArea[A];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(u),o.identity(),a.copy(t.matrixWorld),a.premultiply(u),o.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),A++}else if(t.isPointLight){const e=i.point[r];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(u),r++}else if(t.isHemisphereLight){const e=i.hemi[c];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(u),c++}}},state:i}}function Fl(e,t){const n=new Pl(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Ul(e,t){let n=new WeakMap;return{get:function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const s=n.get(r);let a;return void 0===s?(a=new Fl(e,t),n.set(r,[a])):i>=s.length?(a=new Fl(e,t),s.push(a)):a=s[i],a},dispose:function(){n=new WeakMap}}}class Gl extends ss{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Vt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class kl extends ss{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Hl(e,t,n){let r=new fa;const i=new sr,s=new sr,a=new Mr,o=new Gl({depthPacking:Jt}),l=new kl,A={},c=n.maxTextureSize,u={[f]:m,[m]:f,[C]:C},h=new ra({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new sr},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),g=h.clone();g.defines.HORIZONTAL_PASS=1;const I=new Rs;I.setAttribute("position",new gs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new js(I,h),B=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=d;let y=this.type;function w(n,r){const s=t.update(E);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,g.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,g.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Dr(i.x,i.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,s,h,E,null),g.uniforms.shadow_pass.value=n.mapPass.texture,g.uniforms.resolution.value=n.mapSize,g.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,s,g,E,null)}function b(t,n,r,i){let s=null;const a=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==a)s=a;else if(s=!0===r.isPointLight?l:o,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=s.uuid,t=n.uuid;let r=A[e];void 0===r&&(r={},A[e]=r);let i=r[t];void 0===i&&(i=s.clone(),r[t]=i),s=i}if(s.visible=n.visible,s.wireframe=n.wireframe,s.side=i===p?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:u[n.side],s.alphaMap=n.alphaMap,s.alphaTest=n.alphaTest,s.map=n.map,s.clipShadows=n.clipShadows,s.clippingPlanes=n.clippingPlanes,s.clipIntersection=n.clipIntersection,s.displacementMap=n.displacementMap,s.displacementScale=n.displacementScale,s.displacementBias=n.displacementBias,s.wireframeLinewidth=n.wireframeLinewidth,s.linewidth=n.linewidth,!0===r.isPointLight&&!0===s.isMeshDistanceMaterial){e.properties.get(s).light=r}return s}function x(n,i,s,a,o){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&o===p)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let l=0,A=t.length;l<A;l++){const A=t[l],c=i[A.materialIndex];if(c&&c.visible){const t=b(n,c,a,o);e.renderBufferDirect(s,null,r,t,n,A)}}}else if(i.visible){const t=b(n,i,a,o);e.renderBufferDirect(s,null,r,t,n,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)x(l[e],i,s,a,o)}this.render=function(t,n,o){if(!1===B.enabled)return;if(!1===B.autoUpdate&&!1===B.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),A=e.getActiveCubeFace(),u=e.getActiveMipmapLevel(),h=e.state;h.setBlending(v),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const d=y!==p&&this.type===p,g=y===p&&this.type!==p;for(let f=0,m=t.length;f<m;f++){const l=t[f],A=l.shadow;if(void 0===A){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===A.autoUpdate&&!1===A.needsUpdate)continue;i.copy(A.mapSize);const u=A.getFrameExtents();if(i.multiply(u),s.copy(A.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/u.x),i.x=s.x*u.x,A.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/u.y),i.y=s.y*u.y,A.mapSize.y=s.y)),null===A.map||!0===d||!0===g){const e=this.type!==p?{minFilter:ve,magFilter:ve}:{};null!==A.map&&A.map.dispose(),A.map=new Dr(i.x,i.y,e),A.map.texture.name=l.name+".shadowMap",A.camera.updateProjectionMatrix()}e.setRenderTarget(A.map),e.clear();const m=A.getViewportCount();for(let e=0;e<m;e++){const t=A.getViewport(e);a.set(s.x*t.x,s.y*t.y,s.x*t.z,s.y*t.w),h.viewport(a),A.updateMatrices(l,e),r=A.getFrustum(),x(n,o,A.camera,l,this.type)}!0!==A.isPointLightShadow&&this.type===p&&w(A,o),A.needsUpdate=!1}y=this.type,B.needsUpdate=!1,e.setRenderTarget(l,A,u)}}function Ol(e,t,n){const r=n.isWebGL2;const i=new function(){let t=!1;const n=new Mr;let r=null;const i=new Mr(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,s,a,o){!0===o&&(t*=a,r*=a,s*=a),n.set(t,r,s,a),!1===i.equals(n)&&(e.clearColor(t,r,s,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(t){t?Se(e.DEPTH_TEST):Qe(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case V:e.depthFunc(e.NEVER);break;case J:e.depthFunc(e.ALWAYS);break;case K:e.depthFunc(e.LESS);break;case q:e.depthFunc(e.LEQUAL);break;case j:e.depthFunc(e.EQUAL);break;case X:e.depthFunc(e.GEQUAL);break;case Z:e.depthFunc(e.GREATER);break;case $:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},a=new function(){let t=!1,n=null,r=null,i=null,s=null,a=null,o=null,l=null,A=null;return{setTest:function(n){t||(n?Se(e.STENCIL_TEST):Qe(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&s===a||(e.stencilFunc(t,n,a),r=t,i=n,s=a)},setOp:function(t,n,r){a===t&&o===n&&l===r||(e.stencilOp(t,n,r),a=t,o=n,l=r)},setLocked:function(e){t=e},setClear:function(t){A!==t&&(e.clearStencil(t),A=t)},reset:function(){t=!1,n=null,r=null,i=null,s=null,a=null,o=null,l=null,A=null}}},o=new WeakMap,u=new WeakMap;let h={},d={},g=new WeakMap,p=[],f=null,I=!1,ee=null,te=null,ne=null,re=null,ie=null,se=null,ae=null,oe=new ns(0,0,0),le=0,Ae=!1,ce=null,ue=null,he=null,de=null,ge=null;const pe=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let fe=!1,me=0;const Ce=e.getParameter(e.VERSION);-1!==Ce.indexOf("WebGL")?(me=parseFloat(/^WebGL (\d)/.exec(Ce)[1]),fe=me>=1):-1!==Ce.indexOf("OpenGL ES")&&(me=parseFloat(/^OpenGL ES (\d)/.exec(Ce)[1]),fe=me>=2);let Ie=null,ve={};const Ee=e.getParameter(e.SCISSOR_BOX),Be=e.getParameter(e.VIEWPORT),ye=(new Mr).fromArray(Ee),we=(new Mr).fromArray(Be);function be(t,n,i,s){const a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let l=0;l<i;l++)!r||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+l,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage3D(n,0,e.RGBA,1,1,s,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}const xe={};function Se(t){!0!==h[t]&&(e.enable(t),h[t]=!0)}function Qe(t){!1!==h[t]&&(e.disable(t),h[t]=!1)}xe[e.TEXTURE_2D]=be(e.TEXTURE_2D,e.TEXTURE_2D,1),xe[e.TEXTURE_CUBE_MAP]=be(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(xe[e.TEXTURE_2D_ARRAY]=be(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),xe[e.TEXTURE_3D]=be(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),i.setClear(0,0,0,1),s.setClear(1),a.setClear(0),Se(e.DEPTH_TEST),s.setFunc(q),Re(!1),Te(A),Se(e.CULL_FACE),De(v);const Me={[x]:e.FUNC_ADD,[S]:e.FUNC_SUBTRACT,[Q]:e.FUNC_REVERSE_SUBTRACT};if(r)Me[M]=e.MIN,Me[_]=e.MAX;else{const e=t.get("EXT_blend_minmax");null!==e&&(Me[M]=e.MIN_EXT,Me[_]=e.MAX_EXT)}const _e={[D]:e.ZERO,[R]:e.ONE,[T]:e.SRC_COLOR,[L]:e.SRC_ALPHA,[H]:e.SRC_ALPHA_SATURATE,[G]:e.DST_COLOR,[F]:e.DST_ALPHA,[N]:e.ONE_MINUS_SRC_COLOR,[P]:e.ONE_MINUS_SRC_ALPHA,[k]:e.ONE_MINUS_DST_COLOR,[U]:e.ONE_MINUS_DST_ALPHA,[O]:e.CONSTANT_COLOR,[z]:e.ONE_MINUS_CONSTANT_COLOR,[Y]:e.CONSTANT_ALPHA,[W]:e.ONE_MINUS_CONSTANT_ALPHA};function De(t,n,r,i,s,a,o,l,A,c){if(t!==v){if(!1===I&&(Se(e.BLEND),I=!0),t===b)s=s||n,a=a||r,o=o||i,n===te&&s===ie||(e.blendEquationSeparate(Me[n],Me[s]),te=n,ie=s),r===ne&&i===re&&a===se&&o===ae||(e.blendFuncSeparate(_e[r],_e[i],_e[a],_e[o]),ne=r,re=i,se=a,ae=o),!1!==l.equals(oe)&&A===le||(e.blendColor(l.r,l.g,l.b,A),oe.copy(l),le=A),ee=t,Ae=!1;else if(t!==ee||c!==Ae){if(te===x&&ie===x||(e.blendEquation(e.FUNC_ADD),te=x,ie=x),c)switch(t){case E:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case B:e.blendFunc(e.ONE,e.ONE);break;case y:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case w:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case E:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case B:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case y:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case w:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}ne=null,re=null,se=null,ae=null,oe.set(0,0,0),le=0,ee=t,Ae=c}}else!0===I&&(Qe(e.BLEND),I=!1)}function Re(t){ce!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),ce=t)}function Te(t){t!==l?(Se(e.CULL_FACE),t!==ue&&(t===A?e.cullFace(e.BACK):t===c?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):Qe(e.CULL_FACE),ue=t}function Ne(t,n,r){t?(Se(e.POLYGON_OFFSET_FILL),de===n&&ge===r||(e.polygonOffset(n,r),de=n,ge=r)):Qe(e.POLYGON_OFFSET_FILL)}return{buffers:{color:i,depth:s,stencil:a},enable:Se,disable:Qe,bindFramebuffer:function(t,n){return d[t]!==n&&(e.bindFramebuffer(t,n),d[t]=n,r&&(t===e.DRAW_FRAMEBUFFER&&(d[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(d[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){let s=p,a=!1;if(r)if(s=g.get(i),void 0===s&&(s=[],g.set(i,s)),r.isWebGLMultipleRenderTargets){const t=r.texture;if(s.length!==t.length||s[0]!==e.COLOR_ATTACHMENT0){for(let n=0,r=t.length;n<r;n++)s[n]=e.COLOR_ATTACHMENT0+n;s.length=t.length,a=!0}}else s[0]!==e.COLOR_ATTACHMENT0&&(s[0]=e.COLOR_ATTACHMENT0,a=!0);else s[0]!==e.BACK&&(s[0]=e.BACK,a=!0);a&&(n.isWebGL2?e.drawBuffers(s):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(s))},useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:De,setMaterial:function(t,n){t.side===C?Qe(e.CULL_FACE):Se(e.CULL_FACE);let r=t.side===m;n&&(r=!r),Re(r),t.blending===E&&!1===t.transparent?De(v):De(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),i.setMask(t.colorWrite);const o=t.stencilWrite;a.setTest(o),o&&(a.setMask(t.stencilWriteMask),a.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),a.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Ne(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?Se(e.SAMPLE_ALPHA_TO_COVERAGE):Qe(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Re,setCullFace:Te,setLineWidth:function(t){t!==he&&(fe&&e.lineWidth(t),he=t)},setPolygonOffset:Ne,setScissorTest:function(t){t?Se(e.SCISSOR_TEST):Qe(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+pe-1),Ie!==t&&(e.activeTexture(t),Ie=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===Ie?e.TEXTURE0+pe-1:Ie);let i=ve[r];void 0===i&&(i={type:void 0,texture:void 0},ve[r]=i),i.type===t&&i.texture===n||(Ie!==r&&(e.activeTexture(r),Ie=r),e.bindTexture(t,n||xe[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=ve[Ie];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){let r=u.get(n);void 0===r&&(r=new WeakMap,u.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=u.get(n).get(t);o.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),o.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===ye.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ye.copy(t))},viewport:function(t){!1===we.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),we.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===r&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},Ie=null,ve={},d={},g=new WeakMap,p=[],f=null,I=!1,ee=null,te=null,ne=null,re=null,ie=null,se=null,ae=null,oe=new ns(0,0,0),le=0,Ae=!1,ce=null,ue=null,he=null,de=null,ge=null,ye.set(0,0,e.canvas.width,e.canvas.height),we.set(0,0,e.canvas.width,e.canvas.height),i.reset(),s.reset(),a.reset()}}}function zl(e,t,n,r,i,s,a){const o=i.isWebGL2,l=i.maxTextures,A=i.maxCubemapSize,c=i.maxTextureSize,u=i.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,d="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let p;const f=new WeakMap;let m=!1;try{m="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(z){}function C(e,t){return m?new OffscreenCanvas(e,t):ur("canvas")}function I(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?tr:Math.floor,s=r(i*e.width),a=r(i*e.height);void 0===p&&(p=C(s,a));const o=n?C(s,a):p;o.width=s,o.height=a;return o.getContext("2d").drawImage(e,0,0,s,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+s+"x"+a+")."),o}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function v(e){return $n(e.width)&&$n(e.height)}function E(e,t){return e.generateMipmaps&&t&&e.minFilter!==ve&&e.minFilter!==be}function B(t){e.generateMipmap(t)}function y(n,r,i,s){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===o)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=r;if(r===e.RED&&(i===e.FLOAT&&(l=e.R32F),i===e.HALF_FLOAT&&(l=e.R16F),i===e.UNSIGNED_BYTE&&(l=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.R8UI),i===e.UNSIGNED_SHORT&&(l=e.R16UI),i===e.UNSIGNED_INT&&(l=e.R32UI),i===e.BYTE&&(l=e.R8I),i===e.SHORT&&(l=e.R16I),i===e.INT&&(l=e.R32I)),r===e.RG&&(i===e.FLOAT&&(l=e.RG32F),i===e.HALF_FLOAT&&(l=e.RG16F),i===e.UNSIGNED_BYTE&&(l=e.RG8)),r===e.RGBA){const t=a?tn:Ir.getTransfer(s);i===e.FLOAT&&(l=e.RGBA32F),i===e.HALF_FLOAT&&(l=e.RGBA16F),i===e.UNSIGNED_BYTE&&(l=t===nn?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(l=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(l=e.RGB5_A1)}return l!==e.R16F&&l!==e.R32F&&l!==e.RG16F&&l!==e.RG32F&&l!==e.RGBA16F&&l!==e.RGBA32F||t.get("EXT_color_buffer_float"),l}function w(e,t,n){return!0===E(e,n)||e.isFramebufferTexture&&e.minFilter!==ve&&e.minFilter!==be?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function b(t){return t===ve||t===Ee||t===ye?e.NEAREST:e.LINEAR}function x(e){const t=e.target;t.removeEventListener("dispose",x),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=f.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&Q(e),0===Object.keys(i).length&&f.delete(n)}r.remove(e)}(t),t.isVideoTexture&&g.delete(t)}function S(t){const n=t.target;n.removeEventListener("dispose",S),function(t){const n=t.texture,i=r.get(t),s=r.get(n);void 0!==s.__webglTexture&&(e.deleteTexture(s.__webglTexture),a.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(i.__webglFramebuffer[r]))for(let t=0;t<i.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(i.__webglFramebuffer[r][t]);else e.deleteFramebuffer(i.__webglFramebuffer[r]);i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[r])}else{if(Array.isArray(i.__webglFramebuffer))for(let t=0;t<i.__webglFramebuffer.length;t++)e.deleteFramebuffer(i.__webglFramebuffer[t]);else e.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let t=0;t<i.__webglColorRenderbuffer.length;t++)i.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[t]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let o=0,l=n.length;o<l;o++){const t=r.get(n[o]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),a.memory.textures--),r.remove(n[o])}r.remove(n),r.remove(t)}(n)}function Q(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete f.get(i)[n.__cacheKey],a.memory.textures--}let M=0;function _(t,i){const s=r.get(t);if(t.isVideoTexture&&function(e){const t=a.render.frame;g.get(e)!==t&&(g.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&s.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void P(s,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,s.__webglTexture,e.TEXTURE0+i)}const D={[me]:e.REPEAT,[Ce]:e.CLAMP_TO_EDGE,[Ie]:e.MIRRORED_REPEAT},R={[ve]:e.NEAREST,[Ee]:e.NEAREST_MIPMAP_NEAREST,[ye]:e.NEAREST_MIPMAP_LINEAR,[be]:e.LINEAR,[xe]:e.LINEAR_MIPMAP_NEAREST,[Qe]:e.LINEAR_MIPMAP_LINEAR},T={[Bn]:e.NEVER,[Mn]:e.ALWAYS,[yn]:e.LESS,[bn]:e.LEQUAL,[wn]:e.EQUAL,[Qn]:e.GEQUAL,[xn]:e.GREATER,[Sn]:e.NOTEQUAL};function N(n,s,a){if(a?(e.texParameteri(n,e.TEXTURE_WRAP_S,D[s.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,D[s.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,D[s.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,R[s.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,R[s.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),s.wrapS===Ce&&s.wrapT===Ce||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,b(s.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,b(s.minFilter)),s.minFilter!==ve&&s.minFilter!==be&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),s.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,T[s.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){const a=t.get("EXT_texture_filter_anisotropic");if(s.magFilter===ve)return;if(s.minFilter!==ye&&s.minFilter!==Qe)return;if(s.type===Pe&&!1===t.has("OES_texture_float_linear"))return;if(!1===o&&s.type===Fe&&!1===t.has("OES_texture_half_float_linear"))return;(s.anisotropy>1||r.get(s).__currentAnisotropy)&&(e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,i.getMaxAnisotropy())),r.get(s).__currentAnisotropy=s.anisotropy)}}function L(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",x));const i=n.source;let s=f.get(i);void 0===s&&(s={},f.set(i,s));const o=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(o!==t.__cacheKey){void 0===s[o]&&(s[o]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,r=!0),s[o].usedTimes++;const i=s[t.__cacheKey];void 0!==i&&(s[t.__cacheKey].usedTimes--,0===i.usedTimes&&Q(n)),t.__cacheKey=o,t.__webglTexture=s[o].texture}return r}function P(t,i,a){let l=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(l=e.TEXTURE_3D);const A=L(t,i),u=i.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+a);const h=r.get(u);if(u.version!==h.__version||!0===A){n.activeTexture(e.TEXTURE0+a);const t=Ir.getPrimaries(Ir.workingColorSpace),r=i.colorSpace===jt?null:Ir.getPrimaries(i.colorSpace),d=i.colorSpace===jt||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const g=function(e){return!o&&(e.wrapS!==Ce||e.wrapT!==Ce||e.minFilter!==ve&&e.minFilter!==be)}(i)&&!1===v(i.image);let p=I(i.image,g,!1,c);p=O(i,p);const f=v(p)||o,m=s.convert(i.format,i.colorSpace);let C,b=s.convert(i.type),x=y(i.internalFormat,m,b,i.colorSpace,i.isVideoTexture);N(l,i,f);const S=i.mipmaps,Q=o&&!0!==i.isVideoTexture,M=void 0===h.__version||!0===A,_=w(i,p,f);if(i.isDepthTexture)x=e.DEPTH_COMPONENT,o?x=i.type===Pe?e.DEPTH_COMPONENT32F:i.type===Le?e.DEPTH_COMPONENT24:i.type===ke?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:i.type===Pe&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===We&&x===e.DEPTH_COMPONENT&&i.type!==Te&&i.type!==Le&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Le,b=s.convert(i.type)),i.format===Ve&&x===e.DEPTH_COMPONENT&&(x=e.DEPTH_STENCIL,i.type!==ke&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=ke,b=s.convert(i.type))),M&&(Q?n.texStorage2D(e.TEXTURE_2D,1,x,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,x,p.width,p.height,0,m,b,null));else if(i.isDataTexture)if(S.length>0&&f){Q&&M&&n.texStorage2D(e.TEXTURE_2D,_,x,S[0].width,S[0].height);for(let t=0,r=S.length;t<r;t++)C=S[t],Q?n.texSubImage2D(e.TEXTURE_2D,t,0,0,C.width,C.height,m,b,C.data):n.texImage2D(e.TEXTURE_2D,t,x,C.width,C.height,0,m,b,C.data);i.generateMipmaps=!1}else Q?(M&&n.texStorage2D(e.TEXTURE_2D,_,x,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,p.width,p.height,m,b,p.data)):n.texImage2D(e.TEXTURE_2D,0,x,p.width,p.height,0,m,b,p.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){Q&&M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,_,x,S[0].width,S[0].height,p.depth);for(let t=0,r=S.length;t<r;t++)C=S[t],i.format!==Oe?null!==m?Q?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,C.width,C.height,p.depth,m,C.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,x,C.width,C.height,p.depth,0,C.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Q?n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,C.width,C.height,p.depth,m,b,C.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,x,C.width,C.height,p.depth,0,m,b,C.data)}else{Q&&M&&n.texStorage2D(e.TEXTURE_2D,_,x,S[0].width,S[0].height);for(let t=0,r=S.length;t<r;t++)C=S[t],i.format!==Oe?null!==m?Q?n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,C.width,C.height,m,C.data):n.compressedTexImage2D(e.TEXTURE_2D,t,x,C.width,C.height,0,C.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Q?n.texSubImage2D(e.TEXTURE_2D,t,0,0,C.width,C.height,m,b,C.data):n.texImage2D(e.TEXTURE_2D,t,x,C.width,C.height,0,m,b,C.data)}else if(i.isDataArrayTexture)Q?(M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,_,x,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,m,b,p.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,x,p.width,p.height,p.depth,0,m,b,p.data);else if(i.isData3DTexture)Q?(M&&n.texStorage3D(e.TEXTURE_3D,_,x,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,m,b,p.data)):n.texImage3D(e.TEXTURE_3D,0,x,p.width,p.height,p.depth,0,m,b,p.data);else if(i.isFramebufferTexture){if(M)if(Q)n.texStorage2D(e.TEXTURE_2D,_,x,p.width,p.height);else{let t=p.width,r=p.height;for(let i=0;i<_;i++)n.texImage2D(e.TEXTURE_2D,i,x,t,r,0,m,b,null),t>>=1,r>>=1}}else if(S.length>0&&f){Q&&M&&n.texStorage2D(e.TEXTURE_2D,_,x,S[0].width,S[0].height);for(let t=0,r=S.length;t<r;t++)C=S[t],Q?n.texSubImage2D(e.TEXTURE_2D,t,0,0,m,b,C):n.texImage2D(e.TEXTURE_2D,t,x,m,b,C);i.generateMipmaps=!1}else Q?(M&&n.texStorage2D(e.TEXTURE_2D,_,x,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,m,b,p)):n.texImage2D(e.TEXTURE_2D,0,x,m,b,p);E(i,f)&&B(l),h.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function F(t,i,a,o,l,A){const c=s.convert(a.format,a.colorSpace),u=s.convert(a.type),d=y(a.internalFormat,c,u,a.colorSpace);if(!r.get(i).__hasExternalTextures){const t=Math.max(1,i.width>>A),r=Math.max(1,i.height>>A);l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,A,d,t,r,i.depth,0,c,u,null):n.texImage2D(l,A,d,t,r,0,c,u,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),H(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,o,l,r.get(a).__webglTexture,0,k(i)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,o,l,r.get(a).__webglTexture,A),n.bindFramebuffer(e.FRAMEBUFFER,null)}function U(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){let i=!0===o?e.DEPTH_COMPONENT24:e.DEPTH_COMPONENT16;if(r||H(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===Pe?i=e.DEPTH_COMPONENT32F:t.type===Le&&(i=e.DEPTH_COMPONENT24));const r=k(n);H(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,r,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,r,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){const i=k(n);r&&!1===H(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,i,e.DEPTH24_STENCIL8,n.width,n.height):H(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,i,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<t.length;i++){const a=t[i],o=s.convert(a.format,a.colorSpace),l=s.convert(a.type),A=y(a.internalFormat,o,l,a.colorSpace),c=k(n);r&&!1===H(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,A,n.width,n.height):H(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,A,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,A,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function G(t){const i=r.get(t),s=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(s)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),_(i.depthTexture,0);const s=r.get(i.depthTexture).__webglTexture,a=k(i);if(i.depthTexture.format===We)H(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s,0);else{if(i.depthTexture.format!==Ve)throw new Error("Unknown depthTexture format");H(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,s,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,s,0)}}(i.__webglFramebuffer,t)}else if(s){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),U(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),U(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function k(e){return Math.min(u,e.samples)}function H(e){const n=r.get(e);return o&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function O(e,n){const r=e.colorSpace,i=e.format,s=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Hn||r!==Zt&&r!==jt&&(Ir.getTransfer(r)===nn?!1===o?!0===t.has("EXT_sRGB")&&i===Oe?(e.format=Hn,e.minFilter=be,e.generateMipmaps=!1):n=yr.sRGBToLinear(n):i===Oe&&s===_e||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){const e=M;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),M+=1,e},this.resetTextureUnits=function(){M=0},this.setTexture2D=_,this.setTexture2DArray=function(t,i){const s=r.get(t);t.version>0&&s.__version!==t.version?P(s,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,s.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const s=r.get(t);t.version>0&&s.__version!==t.version?P(s,t,i):n.bindTexture(e.TEXTURE_3D,s.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?function(t,i,a){if(6!==i.image.length)return;const l=L(t,i),c=i.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+a);const u=r.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+a);const t=Ir.getPrimaries(Ir.workingColorSpace),r=i.colorSpace===jt?null:Ir.getPrimaries(i.colorSpace),h=i.colorSpace===jt||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);const d=i.isCompressedTexture||i.image[0].isCompressedTexture,g=i.image[0]&&i.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=d||g?g?i.image[e].image:i.image[e]:I(i.image[e],!1,!0,A),p[e]=O(i,p[e]);const f=p[0],m=v(f)||o,C=s.convert(i.format,i.colorSpace),b=s.convert(i.type),x=y(i.internalFormat,C,b,i.colorSpace),S=o&&!0!==i.isVideoTexture,Q=void 0===u.__version||!0===l;let M,_=w(i,f,m);if(N(e.TEXTURE_CUBE_MAP,i,m),d){S&&Q&&n.texStorage2D(e.TEXTURE_CUBE_MAP,_,x,f.width,f.height);for(let t=0;t<6;t++){M=p[t].mipmaps;for(let r=0;r<M.length;r++){const s=M[r];i.format!==Oe?null!==C?S?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,s.width,s.height,C,s.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,x,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):S?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,s.width,s.height,C,b,s.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,x,s.width,s.height,0,C,b,s.data)}}}else{M=i.mipmaps,S&&Q&&(M.length>0&&_++,n.texStorage2D(e.TEXTURE_CUBE_MAP,_,x,p[0].width,p[0].height));for(let t=0;t<6;t++)if(g){S?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,C,b,p[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,x,p[t].width,p[t].height,0,C,b,p[t].data);for(let r=0;r<M.length;r++){const i=M[r].image[t].image;S?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,C,b,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,x,i.width,i.height,0,C,b,i.data)}}else{S?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,C,b,p[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,x,C,b,p[t]);for(let r=0;r<M.length;r++){const i=M[r];S?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,C,b,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,x,C,b,i.image[t])}}}E(i,m)&&B(e.TEXTURE_CUBE_MAP),u.__version=c.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(a,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){const s=r.get(t);void 0!==n&&F(s.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&G(t)},this.setupRenderTarget=function(t){const l=t.texture,A=r.get(t),c=r.get(l);t.addEventListener("dispose",S),!0!==t.isWebGLMultipleRenderTargets&&(void 0===c.__webglTexture&&(c.__webglTexture=e.createTexture()),c.__version=l.version,a.memory.textures++);const u=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,d=v(t)||o;if(u){A.__webglFramebuffer=[];for(let t=0;t<6;t++)if(o&&l.mipmaps&&l.mipmaps.length>0){A.__webglFramebuffer[t]=[];for(let n=0;n<l.mipmaps.length;n++)A.__webglFramebuffer[t][n]=e.createFramebuffer()}else A.__webglFramebuffer[t]=e.createFramebuffer()}else{if(o&&l.mipmaps&&l.mipmaps.length>0){A.__webglFramebuffer=[];for(let t=0;t<l.mipmaps.length;t++)A.__webglFramebuffer[t]=e.createFramebuffer()}else A.__webglFramebuffer=e.createFramebuffer();if(h)if(i.drawBuffers){const n=t.texture;for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&t.samples>0&&!1===H(t)){const r=h?l:[l];A.__webglMultisampledFramebuffer=e.createFramebuffer(),A.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,A.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){const i=r[n];A.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,A.__webglColorRenderbuffer[n]);const a=s.convert(i.format,i.colorSpace),o=s.convert(i.type),l=y(i.internalFormat,a,o,i.colorSpace,!0===t.isXRRenderTarget),c=k(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,c,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,A.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(A.__webglDepthRenderbuffer=e.createRenderbuffer(),U(A.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,c.__webglTexture),N(e.TEXTURE_CUBE_MAP,l,d);for(let n=0;n<6;n++)if(o&&l.mipmaps&&l.mipmaps.length>0)for(let r=0;r<l.mipmaps.length;r++)F(A.__webglFramebuffer[n][r],t,l,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else F(A.__webglFramebuffer[n],t,l,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);E(l,d)&&B(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){const i=t.texture;for(let s=0,a=i.length;s<a;s++){const a=i[s],o=r.get(a);n.bindTexture(e.TEXTURE_2D,o.__webglTexture),N(e.TEXTURE_2D,a,d),F(A.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+s,e.TEXTURE_2D,0),E(a,d)&&B(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(o?r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(r,c.__webglTexture),N(r,l,d),o&&l.mipmaps&&l.mipmaps.length>0)for(let n=0;n<l.mipmaps.length;n++)F(A.__webglFramebuffer[n],t,l,e.COLOR_ATTACHMENT0,r,n);else F(A.__webglFramebuffer,t,l,e.COLOR_ATTACHMENT0,r,0);E(l,d)&&B(r),n.unbindTexture()}t.depthBuffer&&G(t)},this.updateRenderTargetMipmap=function(t){const i=v(t)||o,s=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let a=0,o=s.length;a<o;a++){const o=s[a];if(E(o,i)){const i=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,s=r.get(o).__webglTexture;n.bindTexture(i,s),B(i),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(o&&t.samples>0&&!1===H(t)){const i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],s=t.width,a=t.height;let o=e.COLOR_BUFFER_BIT;const l=[],A=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),u=!0===t.isWebGLMultipleRenderTargets;if(u)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&l.push(A);const h=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===h&&(t.depthBuffer&&(o|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(o|=e.STENCIL_BUFFER_BIT)),u&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[n]),!0===h&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[A]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[A])),u){const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,s,a,0,0,s,a,o,e.NEAREST),d&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,l)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),u)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,c.__webglColorRenderbuffer[t]);const s=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,s,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=G,this.setupFrameBufferTexture=F,this.useMultisampledRTT=H}function Yl(e,t,n){const r=n.isWebGL2;return{convert:function(n){let i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt;const a=Ir.getTransfer(s);if(n===_e)return e.UNSIGNED_BYTE;if(n===Ue)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Ge)return e.UNSIGNED_SHORT_5_5_5_1;if(n===De)return e.BYTE;if(n===Re)return e.SHORT;if(n===Te)return e.UNSIGNED_SHORT;if(n===Ne)return e.INT;if(n===Le)return e.UNSIGNED_INT;if(n===Pe)return e.FLOAT;if(n===Fe)return r?e.HALF_FLOAT:(i=t.get("OES_texture_half_float"),null!==i?i.HALF_FLOAT_OES:null);if(n===He)return e.ALPHA;if(n===Oe)return e.RGBA;if(n===ze)return e.LUMINANCE;if(n===Ye)return e.LUMINANCE_ALPHA;if(n===We)return e.DEPTH_COMPONENT;if(n===Ve)return e.DEPTH_STENCIL;if(n===Hn)return i=t.get("EXT_sRGB"),null!==i?i.SRGB_ALPHA_EXT:null;if(n===Je)return e.RED;if(n===Ke)return e.RED_INTEGER;if(n===qe)return e.RG;if(n===je)return e.RG_INTEGER;if(n===Xe)return e.RGBA_INTEGER;if(n===Ze||n===$e||n===et||n===tt)if(a===nn){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===Ze)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===$e)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===et)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===tt)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===Ze)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===$e)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===et)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===tt)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===nt||n===rt||n===it||n===st){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===nt)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===rt)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===it)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===st)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===at)return i=t.get("WEBGL_compressed_texture_etc1"),null!==i?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===ot||n===lt){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===ot)return a===nn?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===lt)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===At||n===ct||n===ut||n===ht||n===dt||n===gt||n===pt||n===ft||n===mt||n===Ct||n===It||n===vt||n===Et||n===Bt){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===At)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===ct)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===ut)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===ht)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===dt)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===gt)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===pt)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===ft)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===mt)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Ct)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===It)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===vt)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Et)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Bt)return a===nn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===yt||n===wt||n===bt){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(n===yt)return a===nn?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===wt)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===bt)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===xt||n===St||n===Qt||n===Mt){if(i=t.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===yt)return i.COMPRESSED_RED_RGTC1_EXT;if(n===St)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Qt)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Mt)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===ke?r?e.UNSIGNED_INT_24_8:(i=t.get("WEBGL_depth_texture"),null!==i?i.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}}}class Wl extends sa{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.cameras=e}}class Vl extends Gi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Jl={type:"move"};class Kl{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Vl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Vl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ur,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ur),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Vl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ur,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ur),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,s=null;const a=this._targetRay,o=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){s=!0;for(const s of e.hand.values()){const e=t.getJointPose(s,n),r=this._getHandJoint(l,s);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],a=r.position.distanceTo(i.position),o=.02,A=.005;l.inputState.pinching&&a>o+A?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=o-A&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Jl)))}return null!==a&&(a.visible=null!==r),null!==o&&(o.visible=null!==i),null!==l&&(l.visible=null!==s),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Vl;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class ql extends Qr{constructor(e,t,n,r,i,s,a,o,l,A){if((A=void 0!==A?A:We)!==We&&A!==Ve)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&A===We&&(n=Le),void 0===n&&A===Ve&&(n=ke),super(null,r,i,s,a,o,A,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:ve,this.minFilter=void 0!==o?o:ve,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class jl extends Yn{constructor(e,t){super();const n=this;let r=null,i=1,s=null,a="local-floor",o=1,l=null,A=null,c=null,u=null,h=null,d=null;const g=t.getContextAttributes();let p=null,f=null;const m=[],C=[],I=new sa;I.layers.enable(1),I.viewport=new Mr;const v=new sa;v.layers.enable(2),v.viewport=new Mr;const E=[I,v],B=new Wl;B.layers.enable(1),B.layers.enable(2);let y=null,w=null;function b(e){const t=C.indexOf(e.inputSource);if(-1===t)return;const n=m[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||s),n.dispatchEvent({type:e.type,data:e.inputSource}))}function x(){r.removeEventListener("select",b),r.removeEventListener("selectstart",b),r.removeEventListener("selectend",b),r.removeEventListener("squeeze",b),r.removeEventListener("squeezestart",b),r.removeEventListener("squeezeend",b),r.removeEventListener("end",x),r.removeEventListener("inputsourceschange",S);for(let e=0;e<m.length;e++){const t=C[e];null!==t&&(C[e]=null,m[e].disconnect(t))}y=null,w=null,e.setRenderTarget(p),h=null,u=null,c=null,r=null,f=null,R.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function S(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=C.indexOf(n);r>=0&&(C[r]=null,m[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=C.indexOf(n);if(-1===r){for(let e=0;e<m.length;e++){if(e>=C.length){C.push(n),r=e;break}if(null===C[e]){C[e]=n,r=e;break}}if(-1===r)break}const i=m[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=m[e];return void 0===t&&(t=new Kl,m[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=m[e];return void 0===t&&(t=new Kl,m[e]=t),t.getGripSpace()},this.getHand=function(e){let t=m[e];return void 0===t&&(t=new Kl,m[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||s},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==u?u:h},this.getBinding=function(){return c},this.getFrame=function(){return d},this.getSession=function(){return r},this.setSession=async function(A){if(r=A,null!==r){if(p=e.getRenderTarget(),r.addEventListener("select",b),r.addEventListener("selectstart",b),r.addEventListener("selectend",b),r.addEventListener("squeeze",b),r.addEventListener("squeezestart",b),r.addEventListener("squeezeend",b),r.addEventListener("end",x),r.addEventListener("inputsourceschange",S),!0!==g.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){const n={antialias:void 0!==r.renderState.layers||g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),f=new Dr(h.framebufferWidth,h.framebufferHeight,{format:Oe,type:_e,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let n=null,s=null,a=null;g.depth&&(a=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=g.stencil?Ve:We,s=g.stencil?ke:Le);const o={colorFormat:t.RGBA8,depthFormat:a,scaleFactor:i};c=new XRWebGLBinding(r,t),u=c.createProjectionLayer(o),r.updateRenderState({layers:[u]}),f=new Dr(u.textureWidth,u.textureHeight,{format:Oe,type:_e,depthTexture:new ql(u.textureWidth,u.textureHeight,s,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0});e.properties.get(f).__ignoreDepthValues=u.ignoreDepthValues}f.isXRRenderTarget=!0,this.setFoveation(o),l=null,s=await r.requestReferenceSpace(a),R.setContext(r),R.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const Q=new Ur,M=new Ur;function _(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;B.near=v.near=I.near=e.near,B.far=v.far=I.far=e.far,y===B.near&&w===B.far||(r.updateRenderState({depthNear:B.near,depthFar:B.far}),y=B.near,w=B.far);const t=e.parent,n=B.cameras;_(B,t);for(let r=0;r<n.length;r++)_(n[r],t);2===n.length?function(e,t,n){Q.setFromMatrixPosition(t.matrixWorld),M.setFromMatrixPosition(n.matrixWorld);const r=Q.distanceTo(M),i=t.projectionMatrix.elements,s=n.projectionMatrix.elements,a=i[14]/(i[10]-1),o=i[14]/(i[10]+1),l=(i[9]+1)/i[5],A=(i[9]-1)/i[5],c=(i[8]-1)/i[0],u=(s[8]+1)/s[0],h=a*c,d=a*u,g=r/(-c+u),p=g*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(p),e.translateZ(g),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const f=a+g,m=o+g,C=h-p,I=d+(r-p),v=l*o/m*f,E=A*o/m*f;e.projectionMatrix.makePerspective(C,I,v,E,f,m),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(B,I,v):B.projectionMatrix.copy(I.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Kn*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,B,t)},this.getCamera=function(){return B},this.getFoveation=function(){if(null!==u||null!==h)return o},this.setFoveation=function(e){o=e,null!==u&&(u.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)};let D=null;const R=new ma;R.setAnimationLoop((function(t,r){if(A=r.getViewerPose(l||s),d=r,null!==A){const t=A.views;null!==h&&(e.setRenderTargetFramebuffer(f,h.framebuffer),e.setRenderTarget(f));let n=!1;t.length!==B.cameras.length&&(B.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let s=null;if(null!==h)s=h.getViewport(i);else{const t=c.getViewSubImage(u,i);s=t.viewport,0===r&&(e.setRenderTargetTextures(f,t.colorTexture,u.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(f))}let a=E[r];void 0===a&&(a=new sa,a.layers.enable(r),a.viewport=new Mr,E[r]=a),a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(i.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(s.x,s.y,s.width,s.height),0===r&&(B.matrix.copy(a.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale)),!0===n&&B.cameras.push(a)}}for(let e=0;e<m.length;e++){const t=C[e],n=m[e];null!==t&&void 0!==n&&n.update(t,r,l||s)}D&&D(t,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),d=null})),this.setAnimationLoop=function(e){D=e},this.dispose=function(){}}}function Xl(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===m&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===m&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);const s=t.get(i).envMap;if(s&&(r.envMap.value=s,r.flipEnvMap.value=s.isCubeTexture&&!1===s.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;const t=!0===e._useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*t,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,ta(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,s,a,o){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));const i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===m&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,o)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,s,a):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Zl(e,t,n,r){let i={},s={},a=[];const o=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(e,t,n){const r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{const e=Array.isArray(r)?r:[r],i=[];for(let t=0;t<e.length;t++)i.push(e[t].clone());n[t]=i}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else{const e=Array.isArray(n[t])?n[t]:[n[t]],i=Array.isArray(r)?r:[r];for(let t=0;t<e.length;t++){const n=e[t];if(!1===n.equals(i[t]))return n.copy(i[t]),!0}}return!1}function A(e){const t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){const n=t.target;n.removeEventListener("dispose",c);const r=a.indexOf(n.__bindingPointIndex);a.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete s[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,u){let h=i[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const r=16;let i=0;for(let s=0,a=t.length;s<a;s++){const e=t[s],a={boundary:0,storage:0},o=Array.isArray(e.value)?e.value:[e.value];for(let t=0,n=o.length;t<n;t++){const e=A(o[t]);a.boundary+=e.boundary,a.storage+=e.storage}if(e.__data=new Float32Array(a.storage/Float32Array.BYTES_PER_ELEMENT),e.__offset=n,s>0){i=n%r;0!==i&&r-i-a.boundary<0&&(n+=r-i,e.__offset=n)}n+=a.storage}i=n%r,i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<o;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,s=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,s),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=h,n.addEventListener("dispose",c));const d=u.program;r.updateUBOMapping(n,d);const g=t.render.frame;s[n.id]!==g&&(!function(t){const n=i[t.id],r=t.uniforms,s=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,a=r.length;i<a;i++){const t=r[i];if(!0===l(t,i,s)){const n=t.__offset,r=Array.isArray(t.value)?t.value:[t.value];let i=0;for(let s=0;s<r.length;s++){const a=r[s],o=A(a);"number"===typeof a?(t.__data[0]=a,e.bufferSubData(e.UNIFORM_BUFFER,n+i,t.__data)):a.isMatrix3?(t.__data[0]=a.elements[0],t.__data[1]=a.elements[1],t.__data[2]=a.elements[2],t.__data[3]=a.elements[0],t.__data[4]=a.elements[3],t.__data[5]=a.elements[4],t.__data[6]=a.elements[5],t.__data[7]=a.elements[0],t.__data[8]=a.elements[6],t.__data[9]=a.elements[7],t.__data[10]=a.elements[8],t.__data[11]=a.elements[0]):(a.toArray(t.__data,i),i+=o.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,n,t.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),s[n.id]=g)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);a=[],i={},s={}}}}class $l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=hr(),context:n=null,depth:r=!0,stencil:i=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:A=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1}=e;let h;this.isWebGLRenderer=!0,h=null!==n?n.getContextAttributes().alpha:a;const d=new Uint32Array(4),g=new Int32Array(4);let p=null,I=null;const v=[],E=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Xt,this._useLegacyLights=!1,this.toneMapping=re,this.toneMappingExposure=1;const B=this;let y=!1,w=0,b=0,x=null,S=-1,Q=null;const M=new Mr,_=new Mr;let D=null;const R=new ns(0);let T=0,N=t.width,L=t.height,P=1,F=null,U=null;const G=new Mr(0,0,N,L),k=new Mr(0,0,N,L);let H=!1;const O=new fa;let z=!1,Y=!1,W=null;const V=new gi,J=new sr,K=new Ur,q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function j(){return null===x?P:1}let X,Z,$,ee,te,ne,ie,se,ae,oe,le,Ae,ce,ue,he,de,ge,pe,fe,me,Ce,Ie,ve,Ee,Be=n;function ye(e,n){for(let r=0;r<e.length;r++){const i=e[r],s=t.getContext(i,n);if(null!==s)return s}return null}try{const e={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:A,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(s)),t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",Se,!1),t.addEventListener("webglcontextcreationerror",Me,!1),null===Be){const t=["webgl2","webgl","experimental-webgl"];if(!0===B.isWebGL1Renderer&&t.shift(),Be=ye(t,e),null===Be)throw ye(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&Be instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Be.getShaderPrecisionFormat&&(Be.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(tt){throw console.error("THREE.WebGLRenderer: "+tt.message),tt}function we(){X=new Ja(Be),Z=new Sa(Be,X,e),X.init(Z),Ie=new Yl(Be,X,Z),$=new Ol(Be,X,Z),ee=new ja(Be),te=new Ql,ne=new zl(Be,X,$,te,Z,Ie,ee),ie=new Ma(B),se=new Va(B),ae=new Ca(Be,Z),ve=new ba(Be,X,ae,Z),oe=new Ka(Be,ae,ee,ve),le=new eo(Be,oe,ae,ee),fe=new $a(Be,Z,ne),de=new Qa(te),Ae=new Sl(B,ie,se,X,Z,ve,de),ce=new Xl(B,te),ue=new Rl,he=new Ul(X,Z),pe=new wa(B,ie,se,$,le,h,l),ge=new Hl(B,le,Z),Ee=new Zl(Be,ee,Z,$),me=new xa(Be,X,ee,Z),Ce=new qa(Be,X,ee,Z),ee.programs=Ae.programs,B.capabilities=Z,B.extensions=X,B.properties=te,B.renderLists=ue,B.shadowMap=ge,B.state=$,B.info=ee}we();const be=new jl(B,Be);function xe(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Se(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const e=ee.autoReset,t=ge.enabled,n=ge.autoUpdate,r=ge.needsUpdate,i=ge.type;we(),ee.autoReset=e,ge.enabled=t,ge.autoUpdate=n,ge.needsUpdate=r,ge.type=i}function Me(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function De(e){const t=e.target;t.removeEventListener("dispose",De),function(e){(function(e){const t=te.get(e).programs;void 0!==t&&(t.forEach((function(e){Ae.releaseProgram(e)})),e.isShaderMaterial&&Ae.releaseShaderCache(e))})(e),te.remove(e)}(t)}function Re(e,t,n){!0===e.transparent&&e.side===C&&!1===e.forceSinglePass?(e.side=m,e.needsUpdate=!0,Ze(e,t,n),e.side=f,e.needsUpdate=!0,Ze(e,t,n),e.side=C):Ze(e,t,n)}this.xr=be,this.getContext=function(){return Be},this.getContextAttributes=function(){return Be.getContextAttributes()},this.forceContextLoss=function(){const e=X.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=X.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(e){void 0!==e&&(P=e,this.setSize(N,L,!1))},this.getSize=function(e){return e.set(N,L)},this.setSize=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];be.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(N=e,L=n,t.width=Math.floor(e*P),t.height=Math.floor(n*P),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(N*P,L*P).floor()},this.setDrawingBufferSize=function(e,n,r){N=e,L=n,P=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(M)},this.getViewport=function(e){return e.copy(G)},this.setViewport=function(e,t,n,r){e.isVector4?G.set(e.x,e.y,e.z,e.w):G.set(e,t,n,r),$.viewport(M.copy(G).multiplyScalar(P).floor())},this.getScissor=function(e){return e.copy(k)},this.setScissor=function(e,t,n,r){e.isVector4?k.set(e.x,e.y,e.z,e.w):k.set(e,t,n,r),$.scissor(_.copy(k).multiplyScalar(P).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(e){$.setScissorTest(H=e)},this.setOpaqueSort=function(e){F=e},this.setTransparentSort=function(e){U=e},this.getClearColor=function(e){return e.copy(pe.getClearColor())},this.setClearColor=function(){pe.setClearColor.apply(pe,arguments)},this.getClearAlpha=function(){return pe.getClearAlpha()},this.setClearAlpha=function(){pe.setClearAlpha.apply(pe,arguments)},this.clear=function(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let e=!1;if(null!==x){const t=x.texture.format;e=t===Xe||t===je||t===Ke}if(e){const e=x.texture.type,t=e===_e||e===Le||e===Te||e===ke||e===Ue||e===Ge,n=pe.getClearColor(),r=pe.getClearAlpha(),i=n.r,s=n.g,a=n.b;t?(d[0]=i,d[1]=s,d[2]=a,d[3]=r,Be.clearBufferuiv(Be.COLOR,0,d)):(g[0]=i,g[1]=s,g[2]=a,g[3]=r,Be.clearBufferiv(Be.COLOR,0,g))}else n|=Be.COLOR_BUFFER_BIT}e&&(n|=Be.DEPTH_BUFFER_BIT),t&&(n|=Be.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Be.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",Se,!1),t.removeEventListener("webglcontextcreationerror",Me,!1),ue.dispose(),he.dispose(),te.dispose(),ie.dispose(),se.dispose(),le.dispose(),ve.dispose(),Ee.dispose(),Ae.dispose(),be.dispose(),be.removeEventListener("sessionstart",He),be.removeEventListener("sessionend",ze),W&&(W.dispose(),W=null),Ye.stop()},this.renderBufferDirect=function(e,t,n,r,i,s){null===t&&(t=q);const a=i.isMesh&&i.matrixWorld.determinant()<0,o=function(e,t,n,r,i){!0!==t.isScene&&(t=q);ne.resetTextureUnits();const s=t.fog,a=r.isMeshStandardMaterial?t.environment:null,o=null===x?B.outputColorSpace:!0===x.isXRRenderTarget?x.texture.colorSpace:Zt,l=(r.isMeshStandardMaterial?se:ie).get(r.envMap||a),A=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),u=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,d=!!n.morphAttributes.color;let g=re;r.toneMapped&&(null!==x&&!0!==x.isXRRenderTarget||(g=B.toneMapping));const p=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,f=void 0!==p?p.length:0,m=te.get(r),C=I.state.lights;if(!0===z&&(!0===Y||e!==Q)){const t=e===Q&&r.id===S;de.setState(r,e,t)}let v=!1;r.version===m.__version?m.needsLights&&m.lightsStateVersion!==C.state.version||m.outputColorSpace!==o||i.isInstancedMesh&&!1===m.instancing?v=!0:i.isInstancedMesh||!0!==m.instancing?i.isSkinnedMesh&&!1===m.skinning?v=!0:i.isSkinnedMesh||!0!==m.skinning?i.isInstancedMesh&&!0===m.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===m.instancingColor&&null!==i.instanceColor||m.envMap!==l||!0===r.fog&&m.fog!==s?v=!0:void 0===m.numClippingPlanes||m.numClippingPlanes===de.numPlanes&&m.numIntersection===de.numIntersection?(m.vertexAlphas!==A||m.vertexTangents!==c||m.morphTargets!==u||m.morphNormals!==h||m.morphColors!==d||m.toneMapping!==g||!0===Z.isWebGL2&&m.morphTargetsCount!==f)&&(v=!0):v=!0:v=!0:v=!0:(v=!0,m.__version=r.version);let E=m.currentProgram;!0===v&&(E=Ze(r,t,i));let y=!1,w=!1,b=!1;const M=E.getUniforms(),_=m.uniforms;$.useProgram(E.program)&&(y=!0,w=!0,b=!0);r.id!==S&&(S=r.id,w=!0);if(y||Q!==e){M.setValue(Be,"projectionMatrix",e.projectionMatrix),M.setValue(Be,"viewMatrix",e.matrixWorldInverse);const t=M.map.cameraPosition;void 0!==t&&t.setValue(Be,K.setFromMatrixPosition(e.matrixWorld)),Z.logarithmicDepthBuffer&&M.setValue(Be,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&M.setValue(Be,"isOrthographic",!0===e.isOrthographicCamera),Q!==e&&(Q=e,w=!0,b=!0)}if(i.isSkinnedMesh){M.setOptional(Be,i,"bindMatrix"),M.setOptional(Be,i,"bindMatrixInverse");const e=i.skeleton;e&&(Z.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),M.setValue(Be,"boneTexture",e.boneTexture,ne),M.setValue(Be,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const D=n.morphAttributes;(void 0!==D.position||void 0!==D.normal||void 0!==D.color&&!0===Z.isWebGL2)&&fe.update(i,n,E);(w||m.receiveShadow!==i.receiveShadow)&&(m.receiveShadow=i.receiveShadow,M.setValue(Be,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(_.envMap.value=l,_.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);w&&(M.setValue(Be,"toneMappingExposure",B.toneMappingExposure),m.needsLights&&(T=b,(R=_).ambientLightColor.needsUpdate=T,R.lightProbe.needsUpdate=T,R.directionalLights.needsUpdate=T,R.directionalLightShadows.needsUpdate=T,R.pointLights.needsUpdate=T,R.pointLightShadows.needsUpdate=T,R.spotLights.needsUpdate=T,R.spotLightShadows.needsUpdate=T,R.rectAreaLights.needsUpdate=T,R.hemisphereLights.needsUpdate=T),s&&!0===r.fog&&ce.refreshFogUniforms(_,s),ce.refreshMaterialUniforms(_,r,P,L,W),sl.upload(Be,$e(m),_,ne));var R,T;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(sl.upload(Be,$e(m),_,ne),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&M.setValue(Be,"center",i.center);if(M.setValue(Be,"modelViewMatrix",i.modelViewMatrix),M.setValue(Be,"normalMatrix",i.normalMatrix),M.setValue(Be,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(Z.isWebGL2){const n=e[t];Ee.update(n,E),Ee.bind(n,E)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return E}(e,t,n,r,i);$.setMaterial(r,a);let l=n.index,A=1;if(!0===r.wireframe){if(l=oe.getWireframeAttribute(n),void 0===l)return;A=2}const c=n.drawRange,u=n.attributes.position;let h=c.start*A,d=(c.start+c.count)*A;null!==s&&(h=Math.max(h,s.start*A),d=Math.min(d,(s.start+s.count)*A)),null!==l?(h=Math.max(h,0),d=Math.min(d,l.count)):void 0!==u&&null!==u&&(h=Math.max(h,0),d=Math.min(d,u.count));const g=d-h;if(g<0||g===1/0)return;let p;ve.setup(i,r,o,n,l);let f=me;if(null!==l&&(p=ae.get(l),f=Ce,f.setIndex(p)),i.isMesh)!0===r.wireframe?($.setLineWidth(r.wireframeLinewidth*j()),f.setMode(Be.LINES)):f.setMode(Be.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),$.setLineWidth(e*j()),i.isLineSegments?f.setMode(Be.LINES):i.isLineLoop?f.setMode(Be.LINE_LOOP):f.setMode(Be.LINE_STRIP)}else i.isPoints?f.setMode(Be.POINTS):i.isSprite&&f.setMode(Be.TRIANGLES);if(i.isInstancedMesh)f.renderInstances(h,g,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);f.renderInstances(h,g,t)}else f.render(h,g)},this.compile=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),I=he.get(n),I.init(),E.push(I),n.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(I.pushLight(e),e.castShadow&&I.pushShadow(e))})),e!==n&&e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(I.pushLight(e),e.castShadow&&I.pushShadow(e))})),I.setupLights(B._useLegacyLights);const r=new Set;return e.traverse((function(e){const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const s=t[i];Re(s,n,e),r.add(s)}else Re(t,n,e),r.add(t)})),E.pop(),I=null,r},this.compileAsync=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.compile(e,t,n);return new Promise((t=>{function n(){r.forEach((function(e){te.get(e).currentProgram.isReady()&&r.delete(e)})),0!==r.size?setTimeout(n,10):t(e)}null!==X.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};let Ne=null;function He(){Ye.stop()}function ze(){Ye.start()}const Ye=new ma;function We(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)I.pushLight(e),e.castShadow&&I.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||O.intersectsSprite(e)){r&&K.setFromMatrixPosition(e.matrixWorld).applyMatrix4(V);const t=le.update(e),i=e.material;i.visible&&p.push(e,t,i,n,K.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||O.intersectsObject(e))){const t=le.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),K.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),K.copy(t.boundingSphere.center)),K.applyMatrix4(e.matrixWorld).applyMatrix4(V)),Array.isArray(i)){const r=t.groups;for(let s=0,a=r.length;s<a;s++){const a=r[s],o=i[a.materialIndex];o&&o.visible&&p.push(e,t,o,n,K.z,a)}}else i.visible&&p.push(e,t,i,n,K.z,null)}const i=e.children;for(let s=0,a=i.length;s<a;s++)We(i[s],t,n,r)}function Ve(e,t,n,r){const i=e.opaque,s=e.transmissive,a=e.transparent;I.setupLightsView(n),!0===z&&de.setGlobalState(B.clippingPlanes,n),s.length>0&&function(e,t,n,r){const i=!0===n.isScene?n.overrideMaterial:null;if(null!==i)return;const s=Z.isWebGL2;null===W&&(W=new Dr(1,1,{generateMipmaps:!0,type:X.has("EXT_color_buffer_half_float")?Fe:_e,minFilter:Qe,samples:s?4:0}));B.getDrawingBufferSize(J),s?W.setSize(J.x,J.y):W.setSize(tr(J.x),tr(J.y));const a=B.getRenderTarget();B.setRenderTarget(W),B.getClearColor(R),T=B.getClearAlpha(),T<1&&B.setClearColor(16777215,.5);B.clear();const o=B.toneMapping;B.toneMapping=re,Je(e,n,r),ne.updateMultisampleRenderTarget(W),ne.updateRenderTargetMipmap(W);let l=!1;for(let A=0,c=t.length;A<c;A++){const e=t[A],i=e.object,s=e.geometry,a=e.material,o=e.group;if(a.side===C&&i.layers.test(r.layers)){const e=a.side;a.side=m,a.needsUpdate=!0,qe(i,n,r,s,a,o),a.side=e,a.needsUpdate=!0,l=!0}}!0===l&&(ne.updateMultisampleRenderTarget(W),ne.updateRenderTargetMipmap(W));B.setRenderTarget(a),B.setClearColor(R,T),B.toneMapping=o}(i,s,t,n),r&&$.viewport(M.copy(r)),i.length>0&&Je(i,t,n),s.length>0&&Je(s,t,n),a.length>0&&Je(a,t,n),$.buffers.depth.setTest(!0),$.buffers.depth.setMask(!0),$.buffers.color.setMask(!0),$.setPolygonOffset(!1)}function Je(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,s=e.length;i<s;i++){const s=e[i],a=s.object,o=s.geometry,l=null===r?s.material:r,A=s.group;a.layers.test(n.layers)&&qe(a,t,n,o,l,A)}}function qe(e,t,n,r,i,s){e.onBeforeRender(B,t,n,r,i,s),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(B,t,n,r,e,s),!0===i.transparent&&i.side===C&&!1===i.forceSinglePass?(i.side=m,i.needsUpdate=!0,B.renderBufferDirect(n,t,r,i,e,s),i.side=f,i.needsUpdate=!0,B.renderBufferDirect(n,t,r,i,e,s),i.side=C):B.renderBufferDirect(n,t,r,i,e,s),e.onAfterRender(B,t,n,r,i,s)}function Ze(e,t,n){!0!==t.isScene&&(t=q);const r=te.get(e),i=I.state.lights,s=I.state.shadowsArray,a=i.state.version,o=Ae.getParameters(e,i.state,s,t,n),l=Ae.getProgramCacheKey(o);let A=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?se:ie).get(e.envMap||r.environment),void 0===A&&(e.addEventListener("dispose",De),A=new Map,r.programs=A);let c=A.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===a)return et(e,o),c}else o.uniforms=Ae.getUniforms(e),e.onBuild(n,o,B),e.onBeforeCompile(o,B),c=Ae.acquireProgram(o,l),A.set(l,c),r.uniforms=o.uniforms;const u=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(u.clippingPlanes=de.uniform),et(e,o),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(u.ambientLightColor.value=i.state.ambient,u.lightProbe.value=i.state.probe,u.directionalLights.value=i.state.directional,u.directionalLightShadows.value=i.state.directionalShadow,u.spotLights.value=i.state.spot,u.spotLightShadows.value=i.state.spotShadow,u.rectAreaLights.value=i.state.rectArea,u.ltc_1.value=i.state.rectAreaLTC1,u.ltc_2.value=i.state.rectAreaLTC2,u.pointLights.value=i.state.point,u.pointLightShadows.value=i.state.pointShadow,u.hemisphereLights.value=i.state.hemi,u.directionalShadowMap.value=i.state.directionalShadowMap,u.directionalShadowMatrix.value=i.state.directionalShadowMatrix,u.spotShadowMap.value=i.state.spotShadowMap,u.spotLightMatrix.value=i.state.spotLightMatrix,u.spotLightMap.value=i.state.spotLightMap,u.pointShadowMap.value=i.state.pointShadowMap,u.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=c,r.uniformsList=null,c}function $e(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=sl.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function et(e,t){const n=te.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Ye.setAnimationLoop((function(e){Ne&&Ne(e)})),"undefined"!==typeof self&&Ye.setContext(self),this.setAnimationLoop=function(e){Ne=e,be.setAnimationLoop(e),null===e?Ye.stop():Ye.start()},be.addEventListener("sessionstart",He),be.addEventListener("sessionend",ze),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===y)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===be.enabled&&!0===be.isPresenting&&(!0===be.cameraAutoUpdate&&be.updateCamera(t),t=be.getCamera()),!0===e.isScene&&e.onBeforeRender(B,e,t,x),I=he.get(e,E.length),I.init(),E.push(I),V.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),O.setFromProjectionMatrix(V),Y=this.localClippingEnabled,z=de.init(this.clippingPlanes,Y),p=ue.get(e,v.length),p.init(),v.push(p),We(e,t,0,B.sortObjects),p.finish(),!0===B.sortObjects&&p.sort(F,U),this.info.render.frame++,!0===z&&de.beginShadows();const n=I.state.shadowsArray;if(ge.render(n,e,t),!0===z&&de.endShadows(),!0===this.info.autoReset&&this.info.reset(),pe.render(p,e),I.setupLights(B._useLegacyLights),t.isArrayCamera){const n=t.cameras;for(let t=0,r=n.length;t<r;t++){const r=n[t];Ve(p,e,r,r.viewport)}}else Ve(p,e,t);null!==x&&(ne.updateMultisampleRenderTarget(x),ne.updateRenderTargetMipmap(x)),!0===e.isScene&&e.onAfterRender(B,e,t),ve.resetDefaultState(),S=-1,Q=null,E.pop(),I=E.length>0?E[E.length-1]:null,v.pop(),p=v.length>0?v[v.length-1]:null},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(e,t,n){te.get(e.texture).__webglTexture=t,te.get(e.depthTexture).__webglTexture=n;const r=te.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===X.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=te.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;x=e,w=t,b=n;let r=!0,i=null,s=!1,a=!1;if(e){const o=te.get(e);void 0!==o.__useDefaultFramebuffer?($.bindFramebuffer(Be.FRAMEBUFFER,null),r=!1):void 0===o.__webglFramebuffer?ne.setupRenderTarget(e):o.__hasExternalTextures&&ne.rebindTextures(e,te.get(e.texture).__webglTexture,te.get(e.depthTexture).__webglTexture);const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(a=!0);const A=te.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(A[t])?A[t][n]:A[t],s=!0):i=Z.isWebGL2&&e.samples>0&&!1===ne.useMultisampledRTT(e)?te.get(e).__webglMultisampledFramebuffer:Array.isArray(A)?A[n]:A,M.copy(e.viewport),_.copy(e.scissor),D=e.scissorTest}else M.copy(G).multiplyScalar(P).floor(),_.copy(k).multiplyScalar(P).floor(),D=H;if($.bindFramebuffer(Be.FRAMEBUFFER,i)&&Z.drawBuffers&&r&&$.drawBuffers(e,i),$.viewport(M),$.scissor(_),$.setScissorTest(D),s){const r=te.get(e.texture);Be.framebufferTexture2D(Be.FRAMEBUFFER,Be.COLOR_ATTACHMENT0,Be.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(a){const r=te.get(e.texture),i=t||0;Be.framebufferTextureLayer(Be.FRAMEBUFFER,Be.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}S=-1},this.readRenderTargetPixels=function(e,t,n,r,i,s,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=te.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(o=o[a]),o){$.bindFramebuffer(Be.FRAMEBUFFER,o);try{const a=e.texture,o=a.format,l=a.type;if(o!==Oe&&Ie.convert(o)!==Be.getParameter(Be.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const A=l===Fe&&(X.has("EXT_color_buffer_half_float")||Z.isWebGL2&&X.has("EXT_color_buffer_float"));if(l!==_e&&Ie.convert(l)!==Be.getParameter(Be.IMPLEMENTATION_COLOR_READ_TYPE)&&(l!==Pe||!(Z.isWebGL2||X.has("OES_texture_float")||X.has("WEBGL_color_buffer_float")))&&!A)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Be.readPixels(t,n,r,i,Ie.convert(o),Ie.convert(l),s)}finally{const e=null!==x?te.get(x).__webglFramebuffer:null;$.bindFramebuffer(Be.FRAMEBUFFER,e)}}},this.copyFramebufferToTexture=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),s=Math.floor(t.image.height*r);ne.setTexture2D(t,0),Be.copyTexSubImage2D(Be.TEXTURE_2D,n,0,0,e.x,e.y,i,s),$.unbindTexture()},this.copyTextureToTexture=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=t.image.width,s=t.image.height,a=Ie.convert(n.format),o=Ie.convert(n.type);ne.setTexture2D(n,0),Be.pixelStorei(Be.UNPACK_FLIP_Y_WEBGL,n.flipY),Be.pixelStorei(Be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Be.pixelStorei(Be.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?Be.texSubImage2D(Be.TEXTURE_2D,r,e.x,e.y,i,s,a,o,t.image.data):t.isCompressedTexture?Be.compressedTexSubImage2D(Be.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):Be.texSubImage2D(Be.TEXTURE_2D,r,e.x,e.y,a,o,t.image),0===r&&n.generateMipmaps&&Be.generateMipmap(Be.TEXTURE_2D),$.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(B.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const s=e.max.x-e.min.x+1,a=e.max.y-e.min.y+1,o=e.max.z-e.min.z+1,l=Ie.convert(r.format),A=Ie.convert(r.type);let c;if(r.isData3DTexture)ne.setTexture3D(r,0),c=Be.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ne.setTexture2DArray(r,0),c=Be.TEXTURE_2D_ARRAY}Be.pixelStorei(Be.UNPACK_FLIP_Y_WEBGL,r.flipY),Be.pixelStorei(Be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Be.pixelStorei(Be.UNPACK_ALIGNMENT,r.unpackAlignment);const u=Be.getParameter(Be.UNPACK_ROW_LENGTH),h=Be.getParameter(Be.UNPACK_IMAGE_HEIGHT),d=Be.getParameter(Be.UNPACK_SKIP_PIXELS),g=Be.getParameter(Be.UNPACK_SKIP_ROWS),p=Be.getParameter(Be.UNPACK_SKIP_IMAGES),f=n.isCompressedTexture?n.mipmaps[0]:n.image;Be.pixelStorei(Be.UNPACK_ROW_LENGTH,f.width),Be.pixelStorei(Be.UNPACK_IMAGE_HEIGHT,f.height),Be.pixelStorei(Be.UNPACK_SKIP_PIXELS,e.min.x),Be.pixelStorei(Be.UNPACK_SKIP_ROWS,e.min.y),Be.pixelStorei(Be.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?Be.texSubImage3D(c,i,t.x,t.y,t.z,s,a,o,l,A,f.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Be.compressedTexSubImage3D(c,i,t.x,t.y,t.z,s,a,o,l,f.data)):Be.texSubImage3D(c,i,t.x,t.y,t.z,s,a,o,l,A,f),Be.pixelStorei(Be.UNPACK_ROW_LENGTH,u),Be.pixelStorei(Be.UNPACK_IMAGE_HEIGHT,h),Be.pixelStorei(Be.UNPACK_SKIP_PIXELS,d),Be.pixelStorei(Be.UNPACK_SKIP_ROWS,g),Be.pixelStorei(Be.UNPACK_SKIP_IMAGES,p),0===i&&r.generateMipmaps&&Be.generateMipmap(c),$.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?ne.setTextureCube(e,0):e.isData3DTexture?ne.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ne.setTexture2DArray(e,0):ne.setTexture2D(e,0),$.unbindTexture()},this.resetState=function(){w=0,b=0,x=null,$.reset(),ve.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return On}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===$t?"display-p3":"srgb",t.unpackColorSpace=Ir.workingColorSpace===en?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Xt?Wt:Yt}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Wt?Xt:Zt}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class eA extends $l{}eA.prototype.isWebGL1Renderer=!0;class tA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;this.isFogExp2=!0,this.name="",this.color=new ns(e),this.density=t}clone(){return new tA(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class nA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.isFog=!0,this.name="",this.color=new ns(e),this.near=t,this.far=n}clone(){return new nA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class rA extends Gi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class iA{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=_n,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=qn()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const sA=new Ur;class aA{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)sA.fromBufferAttribute(this,t),sA.applyMatrix4(e),this.setXYZ(t,sA.x,sA.y,sA.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)sA.fromBufferAttribute(this,t),sA.applyNormalMatrix(e),this.setXYZ(t,sA.x,sA.y,sA.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)sA.fromBufferAttribute(this,t),sA.transformDirection(e),this.setXYZ(t,sA.x,sA.y,sA.z);return this}setX(e,t){return this.normalized&&(t=rr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=rr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=rr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=rr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=nr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=nr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=nr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=nr(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=rr(t,this.array),n=rr(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=rr(t,this.array),n=rr(n,this.array),r=rr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=rr(t,this.array),n=rr(n,this.array),r=rr(r,this.array),i=rr(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new gs(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new aA(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class oA extends ss{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ns(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let lA;const AA=new Ur,cA=new Ur,uA=new Ur,hA=new sr,dA=new sr,gA=new gi,pA=new Ur,fA=new Ur,mA=new Ur,CA=new sr,IA=new sr,vA=new sr;class EA extends Gi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oA;if(super(),this.isSprite=!0,this.type="Sprite",void 0===lA){lA=new Rs;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new iA(e,5);lA.setIndex([0,1,2,0,2,3]),lA.setAttribute("position",new aA(t,3,0,!1)),lA.setAttribute("uv",new aA(t,2,3,!1))}this.geometry=lA,this.material=e,this.center=new sr(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cA.setFromMatrixScale(this.matrixWorld),gA.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),uA.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&cA.multiplyScalar(-uA.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const s=this.center;BA(pA.set(-.5,-.5,0),uA,s,cA,r,i),BA(fA.set(.5,-.5,0),uA,s,cA,r,i),BA(mA.set(.5,.5,0),uA,s,cA,r,i),CA.set(0,0),IA.set(1,0),vA.set(1,1);let a=e.ray.intersectTriangle(pA,fA,mA,!1,AA);if(null===a&&(BA(fA.set(-.5,.5,0),uA,s,cA,r,i),IA.set(0,1),a=e.ray.intersectTriangle(pA,mA,fA,!1,AA),null===a))return;const o=e.ray.origin.distanceTo(AA);o<e.near||o>e.far||t.push({distance:o,point:AA.clone(),uv:Xi.getInterpolation(AA,pA,fA,mA,CA,IA,vA,new sr),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function BA(e,t,n,r,i,s){hA.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(dA.x=s*hA.x-i*hA.y,dA.y=i*hA.x+s*hA.y):dA.copy(hA),e.copy(t),e.x+=dA.x,e.y+=dA.y,e.applyMatrix4(gA)}const yA=new Ur,wA=new Ur;class bA extends Gi{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){yA.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(yA);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){yA.setFromMatrixPosition(e.matrixWorld),wA.setFromMatrixPosition(this.matrixWorld);const n=yA.distanceTo(wA)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const xA=new Ur,SA=new Mr,QA=new Mr,MA=new Ur,_A=new gi,DA=new Ur,RA=new si,TA=new gi,NA=new di;class LA extends js{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Ae,this.bindMatrix=new gi,this.bindMatrixInverse=new gi,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Hr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,DA),this.boundingBox.expandByPoint(DA)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new si),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,DA),this.boundingSphere.expandByPoint(DA)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),RA.copy(this.boundingSphere),RA.applyMatrix4(r),!1!==e.ray.intersectsSphere(RA)&&(TA.copy(r).invert(),NA.copy(e.ray).applyMatrix4(TA),null!==this.boundingBox&&!1===NA.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,NA)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Mr,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Ae?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===ce?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;SA.fromBufferAttribute(r.attributes.skinIndex,e),QA.fromBufferAttribute(r.attributes.skinWeight,e),xA.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=QA.getComponent(i);if(0!==e){const r=SA.getComponent(i);_A.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(MA.copy(xA).applyMatrix4(_A),e)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class PA extends Gi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class FA extends Qr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:ve,arguments.length>9&&void 0!==arguments[9]?arguments[9]:ve,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const UA=new gi,GA=new gi;class kA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=qn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new gi)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new gi;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,s=e.length;i<s;i++){const r=e[i]?e[i].matrixWorld:GA;UA.multiplyMatrices(r,t[i]),UA.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new kA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=er(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new FA(t,e,e,Oe,Pe);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new PA),this.bones.push(i),this.boneInverses.push((new gi).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const s=n[r];e.boneInverses.push(s.toArray())}return e}}class HA extends gs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const OA=new gi,zA=new gi,YA=[],WA=new Hr,VA=new gi,JA=new js,KA=new si;class qA extends js{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new HA(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,VA)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Hr),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,OA),WA.copy(e.boundingBox).applyMatrix4(OA),this.boundingBox.union(WA)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new si),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,OA),KA.copy(e.boundingSphere).applyMatrix4(OA),this.boundingSphere.union(KA)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(JA.geometry=this.geometry,JA.material=this.material,void 0!==JA.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),KA.copy(this.boundingSphere),KA.applyMatrix4(n),!1!==e.ray.intersectsSphere(KA)))for(let i=0;i<r;i++){this.getMatrixAt(i,OA),zA.multiplyMatrices(n,OA),JA.matrixWorld=zA,JA.raycast(e,YA);for(let e=0,n=YA.length;e<n;e++){const n=YA[e];n.instanceId=i,n.object=this,t.push(n)}YA.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new HA(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class jA extends ss{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ns(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const XA=new Ur,ZA=new Ur,$A=new gi,ec=new di,tc=new si;class nc extends Gi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Rs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new jA;super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)XA.fromBufferAttribute(t,e-1),ZA.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=XA.distanceTo(ZA);e.setAttribute("lineDistance",new ys(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),tc.copy(n.boundingSphere),tc.applyMatrix4(r),tc.radius+=i,!1===e.ray.intersectsSphere(tc))return;$A.copy(r).invert(),ec.copy(e.ray).applyMatrix4($A);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=new Ur,A=new Ur,c=new Ur,u=new Ur,h=this.isLineSegments?2:1,d=n.index,g=n.attributes.position;if(null!==d){for(let n=Math.max(0,s.start),r=Math.min(d.count,s.start+s.count)-1;n<r;n+=h){const r=d.getX(n),i=d.getX(n+1);l.fromBufferAttribute(g,r),A.fromBufferAttribute(g,i);if(ec.distanceSqToSegment(l,A,u,c)>o)continue;u.applyMatrix4(this.matrixWorld);const s=e.ray.origin.distanceTo(u);s<e.near||s>e.far||t.push({distance:s,point:c.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else{for(let n=Math.max(0,s.start),r=Math.min(g.count,s.start+s.count)-1;n<r;n+=h){l.fromBufferAttribute(g,n),A.fromBufferAttribute(g,n+1);if(ec.distanceSqToSegment(l,A,u,c)>o)continue;u.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(u);r<e.near||r>e.far||t.push({distance:r,point:c.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}const rc=new Ur,ic=new Ur;class sc extends nc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)rc.fromBufferAttribute(t,e),ic.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+rc.distanceTo(ic);e.setAttribute("lineDistance",new ys(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ac extends nc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class oc extends ss{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ns(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const lc=new gi,Ac=new di,cc=new si,uc=new Ur;class hc extends Gi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Rs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oc;super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),cc.copy(n.boundingSphere),cc.applyMatrix4(r),cc.radius+=i,!1===e.ray.intersectsSphere(cc))return;lc.copy(r).invert(),Ac.copy(e.ray).applyMatrix4(lc);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=n.index,A=n.attributes.position;if(null!==l){for(let n=Math.max(0,s.start),i=Math.min(l.count,s.start+s.count);n<i;n++){const i=l.getX(n);uc.fromBufferAttribute(A,i),dc(uc,i,o,r,e,t,this)}}else{for(let n=Math.max(0,s.start),i=Math.min(A.count,s.start+s.count);n<i;n++)uc.fromBufferAttribute(A,n),dc(uc,n,o,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function dc(e,t,n,r,i,s,a){const o=Ac.distanceSqToPoint(e);if(o<n){const n=new Ur;Ac.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;s.push({distance:l,distanceToRay:Math.sqrt(o),point:n,index:t,face:null,object:a})}}class gc extends Qr{constructor(e,t,n,r,i,s,a,o,l){super(e,t,n,r,i,s,a,o,l),this.isVideoTexture=!0,this.minFilter=void 0!==s?s:be,this.magFilter=void 0!==i?i:be,this.generateMipmaps=!1;const A=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){A.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class pc extends Qr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ve,this.minFilter=ve,this.generateMipmaps=!1,this.needsUpdate=!0}}class fc extends Qr{constructor(e,t,n,r,i,s,a,o,l,A,c,u){super(null,s,a,o,l,A,r,i,c,u),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class mc extends fc{constructor(e,t,n,r,i,s){super(e,t,n,i,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ce}}class Cc extends fc{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,he),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Ic extends Qr{constructor(e,t,n,r,i,s,a,o,l){super(e,t,n,r,i,s,a,o,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class vc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let s;s=t||e*n[i-1];let a,o=0,l=i-1;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),a=n[r]-s,a<0)o=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===s)return r/(i-1);const A=n[r];return(r+(s-A)/(n[r+1]-A))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const s=this.getPoint(r),a=this.getPoint(i),o=t||(s.isVector2?new sr:new Ur);return o.copy(a).sub(s).normalize(),o}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Ur,r=[],i=[],s=[],a=new Ur,o=new gi;for(let h=0;h<=e;h++){const t=h/e;r[h]=this.getTangentAt(t,new Ur)}i[0]=new Ur,s[0]=new Ur;let l=Number.MAX_VALUE;const A=Math.abs(r[0].x),c=Math.abs(r[0].y),u=Math.abs(r[0].z);A<=l&&(l=A,n.set(1,0,0)),c<=l&&(l=c,n.set(0,1,0)),u<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),s[0].crossVectors(r[0],i[0]);for(let h=1;h<=e;h++){if(i[h]=i[h-1].clone(),s[h]=s[h-1].clone(),a.crossVectors(r[h-1],r[h]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos(jn(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(o.makeRotationAxis(a,e))}s[h].crossVectors(r[h],i[h])}if(!0===t){let t=Math.acos(jn(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(o.makeRotationAxis(r[n],t*n)),s[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:s}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Ec extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=s,this.aClockwise=a,this.aRotation=o}getPoint(e,t){const n=t||new sr,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const s=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=s?0:r),!0!==this.aClockwise||s||(i===r?i=-r:i-=r);const a=this.aStartAngle+e*i;let o=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=o-this.aX,r=l-this.aY;o=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(o,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Bc extends Ec{constructor(e,t,n,r,i,s){super(e,t,n,n,r,i,s),this.isArcCurve=!0,this.type="ArcCurve"}}function yc(){let e=0,t=0,n=0,r=0;function i(i,s,a,o){e=i,t=a,n=-3*i+3*s-2*a-o,r=2*i-2*s+a+o}return{initCatmullRom:function(e,t,n,r,s){i(t,n,s*(n-e),s*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,s,a,o){let l=(t-e)/s-(n-e)/(s+a)+(n-t)/a,A=(n-t)/a-(r-t)/(a+o)+(r-n)/o;l*=a,A*=a,i(t,n,l,A)},calc:function(i){const s=i*i;return e+t*i+n*s+r*(s*i)}}}const wc=new Ur,bc=new yc,xc=new yc,Sc=new yc;class Qc extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur,n=this.points,r=n.length,i=(r-(this.closed?0:1))*e;let s,a,o=Math.floor(i),l=i-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/r)+1)*r:0===l&&o===r-1&&(o=r-2,l=1),this.closed||o>0?s=n[(o-1)%r]:(wc.subVectors(n[0],n[1]).add(n[0]),s=wc);const A=n[o%r],c=n[(o+1)%r];if(this.closed||o+2<r?a=n[(o+2)%r]:(wc.subVectors(n[r-1],n[r-2]).add(n[r-1]),a=wc),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(s.distanceToSquared(A),e),n=Math.pow(A.distanceToSquared(c),e),r=Math.pow(c.distanceToSquared(a),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),bc.initNonuniformCatmullRom(s.x,A.x,c.x,a.x,t,n,r),xc.initNonuniformCatmullRom(s.y,A.y,c.y,a.y,t,n,r),Sc.initNonuniformCatmullRom(s.z,A.z,c.z,a.z,t,n,r)}else"catmullrom"===this.curveType&&(bc.initCatmullRom(s.x,A.x,c.x,a.x,this.tension),xc.initCatmullRom(s.y,A.y,c.y,a.y,this.tension),Sc.initCatmullRom(s.z,A.z,c.z,a.z,this.tension));return t.set(bc.calc(l),xc.calc(l),Sc.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Ur).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Mc(e,t,n,r,i){const s=.5*(r-t),a=.5*(i-n),o=e*e;return(2*n-2*r+s+a)*(e*o)+(-3*n+3*r-2*s-a)*o+s*e+n}function _c(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Dc(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class Rc extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new sr,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new sr;super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=this.v0,r=this.v1,i=this.v2,s=this.v3;return t.set(Dc(e,n.x,r.x,i.x,s.x),Dc(e,n.y,r.y,i.y,s.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Tc extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ur,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ur;super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur,n=this.v0,r=this.v1,i=this.v2,s=this.v3;return t.set(Dc(e,n.x,r.x,i.x,s.x),Dc(e,n.y,r.y,i.y,s.y),Dc(e,n.z,r.z,i.z,s.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Nc extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr;super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Lc extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur;super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Pc extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new sr;super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=this.v0,r=this.v1,i=this.v2;return t.set(_c(e,n.x,r.x,i.x),_c(e,n.y,r.y,i.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Fc extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ur;super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur,n=this.v0,r=this.v1,i=this.v2;return t.set(_c(e,n.x,r.x,i.x),_c(e,n.y,r.y,i.y),_c(e,n.z,r.z,i.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Uc extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=this.points,r=(n.length-1)*e,i=Math.floor(r),s=r-i,a=n[0===i?i:i-1],o=n[i],l=n[i>n.length-2?n.length-1:i+1],A=n[i>n.length-3?n.length-1:i+2];return t.set(Mc(s,a.x,o.x,l.x,A.x),Mc(s,a.y,o.y,l.y,A.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new sr).fromArray(n))}return this}}var Gc=Object.freeze({__proto__:null,ArcCurve:Bc,CatmullRomCurve3:Qc,CubicBezierCurve:Rc,CubicBezierCurve3:Tc,EllipseCurve:Ec,LineCurve:Nc,LineCurve3:Lc,QuadraticBezierCurve:Pc,QuadraticBezierCurve3:Fc,SplineCurve:Uc});class kc extends vc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new Gc[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,s=this.curves[i],a=s.getLength(),o=0===a?0:1-e/a;return s.getPointAt(o,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const s=i[r],a=s.isEllipseCurve?2*e:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,o=s.getPoints(a);for(let e=0;e<o.length;e++){const r=o[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new Gc[n.type]).fromJSON(n))}return this}}class Hc extends kc{constructor(e){super(),this.type="Path",this.currentPoint=new sr,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Nc(this.currentPoint.clone(),new sr(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new Pc(this.currentPoint.clone(),new sr(e,t),new sr(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,s){const a=new Rc(this.currentPoint.clone(),new sr(e,t),new sr(n,r),new sr(i,s));return this.curves.push(a),this.currentPoint.set(i,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Uc(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,s){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,n,r,i,s),this}absarc(e,t,n,r,i,s){return this.absellipse(e,t,n,n,r,i,s),this}ellipse(e,t,n,r,i,s,a,o){const l=this.currentPoint.x,A=this.currentPoint.y;return this.absellipse(e+l,t+A,n,r,i,s,a,o),this}absellipse(e,t,n,r,i,s,a,o){const l=new Ec(e,t,n,r,i,s,a,o);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const A=l.getPoint(1);return this.currentPoint.copy(A),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Oc extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new sr(0,-.5),new sr(.5,0),new sr(0,.5)],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=jn(r,0,2*Math.PI);const i=[],s=[],a=[],o=[],l=[],A=1/t,c=new Ur,u=new sr,h=new Ur,d=new Ur,g=new Ur;let p=0,f=0;for(let m=0;m<=e.length-1;m++)switch(m){case 0:p=e[m+1].x-e[m].x,f=e[m+1].y-e[m].y,h.x=1*f,h.y=-p,h.z=0*f,g.copy(h),h.normalize(),o.push(h.x,h.y,h.z);break;case e.length-1:o.push(g.x,g.y,g.z);break;default:p=e[m+1].x-e[m].x,f=e[m+1].y-e[m].y,h.x=1*f,h.y=-p,h.z=0*f,d.copy(h),h.x+=g.x,h.y+=g.y,h.z+=g.z,h.normalize(),o.push(h.x,h.y,h.z),g.copy(d)}for(let m=0;m<=t;m++){const i=n+m*A*r,h=Math.sin(i),d=Math.cos(i);for(let n=0;n<=e.length-1;n++){c.x=e[n].x*h,c.y=e[n].y,c.z=e[n].x*d,s.push(c.x,c.y,c.z),u.x=m/t,u.y=n/(e.length-1),a.push(u.x,u.y);const r=o[3*n+0]*h,i=o[3*n+1],A=o[3*n+0]*d;l.push(r,i,A)}}for(let m=0;m<t;m++)for(let t=0;t<e.length-1;t++){const n=t+m*e.length,r=n,s=n+e.length,a=n+e.length+1,o=n+1;i.push(r,s,o),i.push(a,o,s)}this.setIndex(i),this.setAttribute("position",new ys(s,3)),this.setAttribute("uv",new ys(a,2)),this.setAttribute("normal",new ys(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Oc(e.points,e.segments,e.phiStart,e.phiLength)}}class zc extends Oc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;const i=new Hc;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new zc(e.radius,e.length,e.capSegments,e.radialSegments)}}class Yc extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],s=[],a=[],o=[],l=new Ur,A=new sr;s.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let c=0,u=3;c<=t;c++,u+=3){const i=n+c/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),s.push(l.x,l.y,l.z),a.push(0,0,1),A.x=(s[u]/e+1)/2,A.y=(s[u+1]/e+1)/2,o.push(A.x,A.y)}for(let c=1;c<=t;c++)i.push(c,c+1,0);this.setIndex(i),this.setAttribute("position",new ys(s,3)),this.setAttribute("normal",new ys(a,3)),this.setAttribute("uv",new ys(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yc(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Wc extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o};const l=this;r=Math.floor(r),i=Math.floor(i);const A=[],c=[],u=[],h=[];let d=0;const g=[],p=n/2;let f=0;function m(n){const i=d,s=new sr,g=new Ur;let m=0;const C=!0===n?e:t,I=!0===n?1:-1;for(let e=1;e<=r;e++)c.push(0,p*I,0),u.push(0,I,0),h.push(.5,.5),d++;const v=d;for(let e=0;e<=r;e++){const t=e/r*o+a,n=Math.cos(t),i=Math.sin(t);g.x=C*i,g.y=p*I,g.z=C*n,c.push(g.x,g.y,g.z),u.push(0,I,0),s.x=.5*n+.5,s.y=.5*i*I+.5,h.push(s.x,s.y),d++}for(let e=0;e<r;e++){const t=i+e,r=v+e;!0===n?A.push(r,r+1,t):A.push(r+1,r,t),m+=3}l.addGroup(f,m,!0===n?1:2),f+=m}!function(){const s=new Ur,m=new Ur;let C=0;const I=(t-e)/n;for(let l=0;l<=i;l++){const A=[],f=l/i,C=f*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*o+a,l=Math.sin(i),g=Math.cos(i);m.x=C*l,m.y=-f*n+p,m.z=C*g,c.push(m.x,m.y,m.z),s.set(l,I,g).normalize(),u.push(s.x,s.y,s.z),h.push(t,1-f),A.push(d++)}g.push(A)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=g[t][e],r=g[t+1][e],i=g[t+1][e+1],s=g[t][e+1];A.push(n,r,s),A.push(r,i,s),C+=6}l.addGroup(f,C,0),f+=C}(),!1===s&&(e>0&&m(!0),t>0&&m(!1)),this.setIndex(A),this.setAttribute("position",new ys(c,3)),this.setAttribute("normal",new ys(u,3)),this.setAttribute("uv",new ys(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vc extends Wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,r,i,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:s,thetaLength:a}}static fromJSON(e){return new Vc(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Jc extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],s=[];function a(e,t,n,r){const i=r+1,s=[];for(let a=0;a<=i;a++){s[a]=[];const r=e.clone().lerp(n,a/i),o=t.clone().lerp(n,a/i),l=i-a;for(let e=0;e<=l;e++)s[a][e]=0===e&&a===i?r:r.clone().lerp(o,e/l)}for(let a=0;a<i;a++)for(let e=0;e<2*(i-a)-1;e++){const t=Math.floor(e/2);e%2===0?(o(s[a][t+1]),o(s[a+1][t]),o(s[a][t])):(o(s[a][t+1]),o(s[a+1][t+1]),o(s[a+1][t]))}}function o(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function A(e,t,n,r){r<0&&1===e.x&&(s[t]=e.x-1),0===n.x&&0===n.z&&(s[t]=r/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new Ur,r=new Ur,i=new Ur;for(let s=0;s<t.length;s+=3)l(t[s+0],n),l(t[s+1],r),l(t[s+2],i),a(n,r,i,e)}(r),function(e){const t=new Ur;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new Ur;for(let n=0;n<i.length;n+=3){e.x=i[n+0],e.y=i[n+1],e.z=i[n+2];const r=c(e)/2/Math.PI+.5,a=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);s.push(r,1-a)}var t;(function(){const e=new Ur,t=new Ur,n=new Ur,r=new Ur,a=new sr,o=new sr,l=new sr;for(let u=0,h=0;u<i.length;u+=9,h+=6){e.set(i[u+0],i[u+1],i[u+2]),t.set(i[u+3],i[u+4],i[u+5]),n.set(i[u+6],i[u+7],i[u+8]),a.set(s[h+0],s[h+1]),o.set(s[h+2],s[h+3]),l.set(s[h+4],s[h+5]),r.copy(e).add(t).add(n).divideScalar(3);const d=c(r);A(a,h+0,e,d),A(o,h+2,t,d),A(l,h+4,n,d)}})(),function(){for(let e=0;e<s.length;e+=6){const t=s[e+0],n=s[e+2],r=s[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(s[e+0]+=1),n<.2&&(s[e+2]+=1),r<.2&&(s[e+4]+=1))}}()}(),this.setAttribute("position",new ys(i,3)),this.setAttribute("normal",new ys(i.slice(),3)),this.setAttribute("uv",new ys(s,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jc(e.vertices,e.indices,e.radius,e.details)}}class Kc extends Jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Kc(e.radius,e.detail)}}const qc=new Ur,jc=new Ur,Xc=new Ur,Zc=new Xi;class $c extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(Jn*t),s=e.getIndex(),a=e.getAttribute("position"),o=s?s.count:a.count,l=[0,0,0],A=["a","b","c"],c=new Array(3),u={},h=[];for(let e=0;e<o;e+=3){s?(l[0]=s.getX(e),l[1]=s.getX(e+1),l[2]=s.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:o}=Zc;if(t.fromBufferAttribute(a,l[0]),n.fromBufferAttribute(a,l[1]),o.fromBufferAttribute(a,l[2]),Zc.getNormal(Xc),c[0]="".concat(Math.round(t.x*r),",").concat(Math.round(t.y*r),",").concat(Math.round(t.z*r)),c[1]="".concat(Math.round(n.x*r),",").concat(Math.round(n.y*r),",").concat(Math.round(n.z*r)),c[2]="".concat(Math.round(o.x*r),",").concat(Math.round(o.y*r),",").concat(Math.round(o.z*r)),c[0]!==c[1]&&c[1]!==c[2]&&c[2]!==c[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=c[e],r=c[t],s=Zc[A[e]],a=Zc[A[t]],o="".concat(n,"_").concat(r),d="".concat(r,"_").concat(n);d in u&&u[d]?(Xc.dot(u[d].normal)<=i&&(h.push(s.x,s.y,s.z),h.push(a.x,a.y,a.z)),u[d]=null):o in u||(u[o]={index0:l[e],index1:l[t],normal:Xc.clone()})}}for(const e in u)if(u[e]){const{index0:t,index1:n}=u[e];qc.fromBufferAttribute(a,t),jc.fromBufferAttribute(a,n),h.push(qc.x,qc.y,qc.z),h.push(jc.x,jc.y,jc.z)}this.setAttribute("position",new ys(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class eu extends Hc{constructor(e){super(e),this.uuid=qn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Hc).fromJSON(n))}return this}}const tu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=t&&t.length,i=r?t[0]*n:e.length;let s=nu(e,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,A,c,u,h,d;if(r&&(s=function(e,t,n,r){const i=[];let s,a,o,l,A;for(s=0,a=t.length;s<a;s++)o=t[s]*r,l=s<a-1?t[s+1]*r:e.length,A=nu(e,o,l,r,!1),A===A.next&&(A.steiner=!0),i.push(du(A));for(i.sort(Au),s=0;s<i.length;s++)n=cu(i[s],n);return n}(e,t,s,n)),e.length>80*n){o=A=e[0],l=c=e[1];for(let t=n;t<i;t+=n)u=e[t],h=e[t+1],u<o&&(o=u),h<l&&(l=h),u>A&&(A=u),h>c&&(c=h);d=Math.max(A-o,c-l),d=0!==d?32767/d:0}return iu(s,a,n,o,l,d,0),a};function nu(e,t,n,r,i){let s,a;if(i===function(e,t,n,r){let i=0;for(let s=t,a=n-r;s<n;s+=r)i+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return i}(e,t,n,r)>0)for(s=t;s<n;s+=r)a=yu(s,e[s],e[s+1],a);else for(s=n-r;s>=t;s-=r)a=yu(s,e[s],e[s+1],a);return a&&mu(a,a.next)&&(wu(a),a=a.next),a}function ru(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!mu(r,r.next)&&0!==fu(r.prev,r,r.next))r=r.next;else{if(wu(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function iu(e,t,n,r,i,s,a){if(!e)return;!a&&s&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=hu(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,s,a,o,l,A=1;do{for(n=e,e=null,s=null,a=0;n;){for(a++,r=n,o=0,t=0;t<A&&(o++,r=r.nextZ,r);t++);for(l=A;o>0||l>0&&r;)0!==o&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;n=r}s.nextZ=null,A*=2}while(a>1)}(i)}(e,r,i,s);let o,l,A=e;for(;e.prev!==e.next;)if(o=e.prev,l=e.next,s?au(e,r,i,s):su(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),wu(e),e=l.next,A=l.next;else if((e=l)===A){a?1===a?iu(e=ou(ru(e),t,n),t,n,r,i,s,2):2===a&&lu(e,t,n,r,i,s):iu(ru(e),t,n,r,i,s,1);break}}function su(e){const t=e.prev,n=e,r=e.next;if(fu(t,n,r)>=0)return!1;const i=t.x,s=n.x,a=r.x,o=t.y,l=n.y,A=r.y,c=i<s?i<a?i:a:s<a?s:a,u=o<l?o<A?o:A:l<A?l:A,h=i>s?i>a?i:a:s>a?s:a,d=o>l?o>A?o:A:l>A?l:A;let g=r.next;for(;g!==t;){if(g.x>=c&&g.x<=h&&g.y>=u&&g.y<=d&&gu(i,o,s,l,a,A,g.x,g.y)&&fu(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function au(e,t,n,r){const i=e.prev,s=e,a=e.next;if(fu(i,s,a)>=0)return!1;const o=i.x,l=s.x,A=a.x,c=i.y,u=s.y,h=a.y,d=o<l?o<A?o:A:l<A?l:A,g=c<u?c<h?c:h:u<h?u:h,p=o>l?o>A?o:A:l>A?l:A,f=c>u?c>h?c:h:u>h?u:h,m=hu(d,g,t,n,r),C=hu(p,f,t,n,r);let I=e.prevZ,v=e.nextZ;for(;I&&I.z>=m&&v&&v.z<=C;){if(I.x>=d&&I.x<=p&&I.y>=g&&I.y<=f&&I!==i&&I!==a&&gu(o,c,l,u,A,h,I.x,I.y)&&fu(I.prev,I,I.next)>=0)return!1;if(I=I.prevZ,v.x>=d&&v.x<=p&&v.y>=g&&v.y<=f&&v!==i&&v!==a&&gu(o,c,l,u,A,h,v.x,v.y)&&fu(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;I&&I.z>=m;){if(I.x>=d&&I.x<=p&&I.y>=g&&I.y<=f&&I!==i&&I!==a&&gu(o,c,l,u,A,h,I.x,I.y)&&fu(I.prev,I,I.next)>=0)return!1;I=I.prevZ}for(;v&&v.z<=C;){if(v.x>=d&&v.x<=p&&v.y>=g&&v.y<=f&&v!==i&&v!==a&&gu(o,c,l,u,A,h,v.x,v.y)&&fu(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function ou(e,t,n){let r=e;do{const i=r.prev,s=r.next.next;!mu(i,s)&&Cu(i,r,r.next,s)&&Eu(i,s)&&Eu(s,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(s.i/n|0),wu(r),wu(r.next),r=e=s),r=r.next}while(r!==e);return ru(r)}function lu(e,t,n,r,i,s){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&pu(a,e)){let o=Bu(a,e);return a=ru(a,a.next),o=ru(o,o.next),iu(a,t,n,r,i,s,0),void iu(o,t,n,r,i,s,0)}e=e.next}a=a.next}while(a!==e)}function Au(e,t){return e.x-t.x}function cu(e,t){const n=function(e,t){let n,r=t,i=-1/0;const s=e.x,a=e.y;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){const e=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=s&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===s))return n}r=r.next}while(r!==t);if(!n)return null;const o=n,l=n.x,A=n.y;let c,u=1/0;r=n;do{s>=r.x&&r.x>=l&&s!==r.x&&gu(a<A?s:i,a,l,A,a<A?i:s,a,r.x,r.y)&&(c=Math.abs(a-r.y)/(s-r.x),Eu(r,e)&&(c<u||c===u&&(r.x>n.x||r.x===n.x&&uu(n,r)))&&(n=r,u=c)),r=r.next}while(r!==o);return n}(e,t);if(!n)return t;const r=Bu(n,e);return ru(r,r.next),ru(n,n.next)}function uu(e,t){return fu(e.prev,e,t.prev)<0&&fu(t.next,e,e.next)<0}function hu(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function du(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function gu(e,t,n,r,i,s,a,o){return(i-a)*(t-o)>=(e-a)*(s-o)&&(e-a)*(r-o)>=(n-a)*(t-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function pu(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Cu(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Eu(e,t)&&Eu(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!==n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(fu(e.prev,e,t.prev)||fu(e,t.prev,t))||mu(e,t)&&fu(e.prev,e,e.next)>0&&fu(t.prev,t,t.next)>0)}function fu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function mu(e,t){return e.x===t.x&&e.y===t.y}function Cu(e,t,n,r){const i=vu(fu(e,t,n)),s=vu(fu(e,t,r)),a=vu(fu(n,r,e)),o=vu(fu(n,r,t));return i!==s&&a!==o||(!(0!==i||!Iu(e,n,t))||(!(0!==s||!Iu(e,r,t))||(!(0!==a||!Iu(n,e,r))||!(0!==o||!Iu(n,t,r)))))}function Iu(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function vu(e){return e>0?1:e<0?-1:0}function Eu(e,t){return fu(e.prev,e,e.next)<0?fu(e,t,e.next)>=0&&fu(e,e.prev,t)>=0:fu(e,t,e.prev)<0||fu(e,e.next,t)<0}function Bu(e,t){const n=new bu(e.i,e.x,e.y),r=new bu(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function yu(e,t,n,r){const i=new bu(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function wu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function bu(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class xu{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return xu.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Su(e),Qu(n,e);let s=e.length;t.forEach(Su);for(let o=0;o<t.length;o++)r.push(s),s+=t[o].length,Qu(n,t[o]);const a=tu(n,r);for(let o=0;o<a.length;o+=3)i.push(a.slice(o,o+3));return i}}function Su(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Qu(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Mu extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new eu([new sr(.5,.5),new sr(-.5,.5),new sr(-.5,-.5),new sr(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let a=0,o=e.length;a<o;a++){s(e[a])}function s(e){const s=[],a=void 0!==t.curveSegments?t.curveSegments:12,o=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let A=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:.2,u=void 0!==t.bevelSize?t.bevelSize:c-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3;const g=t.extrudePath,p=void 0!==t.UVGenerator?t.UVGenerator:_u;let f,m,C,I,v,E=!1;g&&(f=g.getSpacedPoints(o),E=!0,A=!1,m=g.computeFrenetFrames(o,!1),C=new Ur,I=new Ur,v=new Ur),A||(d=0,c=0,u=0,h=0);const B=e.extractPoints(a);let y=B.shape;const w=B.holes;if(!xu.isClockWise(y)){y=y.reverse();for(let e=0,t=w.length;e<t;e++){const t=w[e];xu.isClockWise(t)&&(w[e]=t.reverse())}}const b=xu.triangulateShape(y,w),x=y;for(let t=0,n=w.length;t<n;t++){const e=w[t];y=y.concat(e)}function S(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const Q=y.length,M=b.length;function _(e,t,n){let r,i,s;const a=e.x-t.x,o=e.y-t.y,l=n.x-e.x,A=n.y-e.y,c=a*a+o*o,u=a*A-o*l;if(Math.abs(u)>Number.EPSILON){const u=Math.sqrt(c),h=Math.sqrt(l*l+A*A),d=t.x-o/u,g=t.y+a/u,p=((n.x-A/h-d)*A-(n.y+l/h-g)*l)/(a*A-o*l);r=d+a*p-e.x,i=g+o*p-e.y;const f=r*r+i*i;if(f<=2)return new sr(r,i);s=Math.sqrt(f/2)}else{let e=!1;a>Number.EPSILON?l>Number.EPSILON&&(e=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(o)===Math.sign(A)&&(e=!0),e?(r=-o,i=a,s=Math.sqrt(c)):(r=a,i=o,s=Math.sqrt(c/2))}return new sr(r/s,i/s)}const D=[];for(let t=0,n=x.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),D[t]=_(x[t],x[r],x[i]);const R=[];let T,N=D.concat();for(let t=0,n=w.length;t<n;t++){const e=w[t];T=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),T[t]=_(e[t],e[r],e[i]);R.push(T),N=N.concat(T)}for(let t=0;t<d;t++){const e=t/d,n=c*Math.cos(e*Math.PI/2),r=u*Math.sin(e*Math.PI/2)+h;for(let t=0,i=x.length;t<i;t++){const e=S(x[t],D[t],r);F(e.x,e.y,-n)}for(let t=0,i=w.length;t<i;t++){const e=w[t];T=R[t];for(let t=0,i=e.length;t<i;t++){const i=S(e[t],T[t],r);F(i.x,i.y,-n)}}}const L=u+h;for(let t=0;t<Q;t++){const e=A?S(y[t],N[t],L):y[t];E?(I.copy(m.normals[0]).multiplyScalar(e.x),C.copy(m.binormals[0]).multiplyScalar(e.y),v.copy(f[0]).add(I).add(C),F(v.x,v.y,v.z)):F(e.x,e.y,0)}for(let t=1;t<=o;t++)for(let e=0;e<Q;e++){const n=A?S(y[e],N[e],L):y[e];E?(I.copy(m.normals[t]).multiplyScalar(n.x),C.copy(m.binormals[t]).multiplyScalar(n.y),v.copy(f[t]).add(I).add(C),F(v.x,v.y,v.z)):F(n.x,n.y,l/o*t)}for(let t=d-1;t>=0;t--){const e=t/d,n=c*Math.cos(e*Math.PI/2),r=u*Math.sin(e*Math.PI/2)+h;for(let t=0,i=x.length;t<i;t++){const e=S(x[t],D[t],r);F(e.x,e.y,l+n)}for(let t=0,i=w.length;t<i;t++){const e=w[t];T=R[t];for(let t=0,i=e.length;t<i;t++){const i=S(e[t],T[t],r);E?F(i.x,i.y+f[o-1].y,f[o-1].x+n):F(i.x,i.y,l+n)}}}function P(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=o+2*d;e<n;e++){const n=Q*e,s=Q*(e+1);G(t+r+n,t+i+n,t+i+s,t+r+s)}}}function F(e,t,n){s.push(e),s.push(t),s.push(n)}function U(e,t,i){k(e),k(t),k(i);const s=r.length/3,a=p.generateTopUV(n,r,s-3,s-2,s-1);H(a[0]),H(a[1]),H(a[2])}function G(e,t,i,s){k(e),k(t),k(s),k(t),k(i),k(s);const a=r.length/3,o=p.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);H(o[0]),H(o[1]),H(o[3]),H(o[1]),H(o[2]),H(o[3])}function k(e){r.push(s[3*e+0]),r.push(s[3*e+1]),r.push(s[3*e+2])}function H(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(A){let e=0,t=Q*e;for(let n=0;n<M;n++){const e=b[n];U(e[2]+t,e[1]+t,e[0]+t)}e=o+2*d,t=Q*e;for(let n=0;n<M;n++){const e=b[n];U(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<M;e++){const t=b[e];U(t[2],t[1],t[0])}for(let e=0;e<M;e++){const t=b[e];U(t[0]+Q*o,t[1]+Q*o,t[2]+Q*o)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;P(x,t),t+=x.length;for(let n=0,r=w.length;n<r;n++){const e=w[n];P(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new ys(r,3)),this.setAttribute("uv",new ys(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,s=e.shapes.length;i<s;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new Gc[r.type]).fromJSON(r)),new Mu(n,e.options)}}const _u={generateTopUV:function(e,t,n,r,i){const s=t[3*n],a=t[3*n+1],o=t[3*r],l=t[3*r+1],A=t[3*i],c=t[3*i+1];return[new sr(s,a),new sr(o,l),new sr(A,c)]},generateSideWallUV:function(e,t,n,r,i,s){const a=t[3*n],o=t[3*n+1],l=t[3*n+2],A=t[3*r],c=t[3*r+1],u=t[3*r+2],h=t[3*i],d=t[3*i+1],g=t[3*i+2],p=t[3*s],f=t[3*s+1],m=t[3*s+2];return Math.abs(o-c)<Math.abs(a-A)?[new sr(a,1-l),new sr(A,1-u),new sr(h,1-g),new sr(p,1-m)]:[new sr(o,1-l),new sr(c,1-u),new sr(d,1-g),new sr(f,1-m)]}};class Du extends Jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Du(e.radius,e.detail)}}class Ru extends Jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ru(e.radius,e.detail)}}class Tu extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:s},n=Math.max(3,n),r=Math.max(1,r);const a=[],o=[],l=[],A=[];let c=e;const u=(t-e)/r,h=new Ur,d=new sr;for(let g=0;g<=r;g++){for(let e=0;e<=n;e++){const r=i+e/n*s;h.x=c*Math.cos(r),h.y=c*Math.sin(r),o.push(h.x,h.y,h.z),l.push(0,0,1),d.x=(h.x/t+1)/2,d.y=(h.y/t+1)/2,A.push(d.x,d.y)}c+=u}for(let g=0;g<r;g++){const e=g*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,s=r+n+1,o=r+n+2,l=r+1;a.push(i,s,l),a.push(s,o,l)}}this.setIndex(a),this.setAttribute("position",new ys(o,3)),this.setAttribute("normal",new ys(l,3)),this.setAttribute("uv",new ys(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tu(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Nu extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new eu([new sr(0,.5),new sr(-.5,-.5),new sr(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],s=[];let a=0,o=0;if(!1===Array.isArray(e))l(e);else for(let A=0;A<e.length;A++)l(e[A]),this.addGroup(a,o,A),a+=o,o=0;function l(e){const a=r.length/3,l=e.extractPoints(t);let A=l.shape;const c=l.holes;!1===xu.isClockWise(A)&&(A=A.reverse());for(let t=0,n=c.length;t<n;t++){const e=c[t];!0===xu.isClockWise(e)&&(c[t]=e.reverse())}const u=xu.triangulateShape(A,c);for(let t=0,n=c.length;t<n;t++){const e=c[t];A=A.concat(e)}for(let t=0,n=A.length;t<n;t++){const e=A[t];r.push(e.x,e.y,0),i.push(0,0,1),s.push(e.x,e.y)}for(let t=0,r=u.length;t<r;t++){const e=u[t],r=e[0]+a,i=e[1]+a,s=e[2]+a;n.push(r,i,s),o+=3}}this.setIndex(n),this.setAttribute("position",new ys(r,3)),this.setAttribute("normal",new ys(i,3)),this.setAttribute("uv",new ys(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new Nu(n,e.curveSegments)}}class Lu extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const o=Math.min(s+a,Math.PI);let l=0;const A=[],c=new Ur,u=new Ur,h=[],d=[],g=[],p=[];for(let f=0;f<=n;f++){const h=[],m=f/n;let C=0;0===f&&0===s?C=.5/t:f===n&&o===Math.PI&&(C=-.5/t);for(let n=0;n<=t;n++){const o=n/t;c.x=-e*Math.cos(r+o*i)*Math.sin(s+m*a),c.y=e*Math.cos(s+m*a),c.z=e*Math.sin(r+o*i)*Math.sin(s+m*a),d.push(c.x,c.y,c.z),u.copy(c).normalize(),g.push(u.x,u.y,u.z),p.push(o+C,1-m),h.push(l++)}A.push(h)}for(let f=0;f<n;f++)for(let e=0;e<t;e++){const t=A[f][e+1],r=A[f][e],i=A[f+1][e],a=A[f+1][e+1];(0!==f||s>0)&&h.push(t,r,a),(f!==n-1||o<Math.PI)&&h.push(r,i,a)}this.setIndex(h),this.setAttribute("position",new ys(d,3)),this.setAttribute("normal",new ys(g,3)),this.setAttribute("uv",new ys(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Pu extends Jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pu(e.radius,e.detail)}}class Fu extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const s=[],a=[],o=[],l=[],A=new Ur,c=new Ur,u=new Ur;for(let h=0;h<=n;h++)for(let s=0;s<=r;s++){const d=s/r*i,g=h/n*Math.PI*2;c.x=(e+t*Math.cos(g))*Math.cos(d),c.y=(e+t*Math.cos(g))*Math.sin(d),c.z=t*Math.sin(g),a.push(c.x,c.y,c.z),A.x=e*Math.cos(d),A.y=e*Math.sin(d),u.subVectors(c,A).normalize(),o.push(u.x,u.y,u.z),l.push(s/r),l.push(h/n)}for(let h=1;h<=n;h++)for(let e=1;e<=r;e++){const t=(r+1)*h+e-1,n=(r+1)*(h-1)+e-1,i=(r+1)*(h-1)+e,a=(r+1)*h+e;s.push(t,n,a),s.push(n,i,a)}this.setIndex(s),this.setAttribute("position",new ys(a,3)),this.setAttribute("normal",new ys(o,3)),this.setAttribute("uv",new ys(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fu(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Uu extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:s},n=Math.floor(n),r=Math.floor(r);const a=[],o=[],l=[],A=[],c=new Ur,u=new Ur,h=new Ur,d=new Ur,g=new Ur,p=new Ur,f=new Ur;for(let C=0;C<=n;++C){const a=C/n*i*Math.PI*2;m(a,i,s,e,h),m(a+.01,i,s,e,d),p.subVectors(d,h),f.addVectors(d,h),g.crossVectors(p,f),f.crossVectors(g,p),g.normalize(),f.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,s=-t*Math.cos(i),a=t*Math.sin(i);c.x=h.x+(s*f.x+a*g.x),c.y=h.y+(s*f.y+a*g.y),c.z=h.z+(s*f.z+a*g.z),o.push(c.x,c.y,c.z),u.subVectors(c,h).normalize(),l.push(u.x,u.y,u.z),A.push(C/n),A.push(e/r)}}for(let C=1;C<=n;C++)for(let e=1;e<=r;e++){const t=(r+1)*(C-1)+(e-1),n=(r+1)*C+(e-1),i=(r+1)*C+e,s=(r+1)*(C-1)+e;a.push(t,n,s),a.push(n,i,s)}function m(e,t,n,r,i){const s=Math.cos(e),a=Math.sin(e),o=n/t*e,l=Math.cos(o);i.x=r*(2+l)*.5*s,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(o)*.5}this.setIndex(a),this.setAttribute("position",new ys(o,3)),this.setAttribute("normal",new ys(l,3)),this.setAttribute("uv",new ys(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uu(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Gu extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fc(new Ur(-1,-1,0),new Ur(-1,1,0),new Ur(1,1,0)),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const s=e.computeFrenetFrames(t,i);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new Ur,o=new Ur,l=new sr;let A=new Ur;const c=[],u=[],h=[],d=[];function g(i){A=e.getPointAt(i/t,A);const l=s.normals[i],h=s.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),s=-Math.cos(t);o.x=s*l.x+i*h.x,o.y=s*l.y+i*h.y,o.z=s*l.z+i*h.z,o.normalize(),u.push(o.x,o.y,o.z),a.x=A.x+n*o.x,a.y=A.y+n*o.y,a.z=A.z+n*o.z,c.push(a.x,a.y,a.z)}}!function(){for(let e=0;e<t;e++)g(e);g(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),s=(r+1)*e+t,a=(r+1)*(e-1)+t;d.push(n,i,a),d.push(i,s,a)}}()}(),this.setIndex(d),this.setAttribute("position",new ys(c,3)),this.setAttribute("normal",new ys(u,3)),this.setAttribute("uv",new ys(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Gu((new Gc[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class ku extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new Ur,i=new Ur;if(null!==e.index){const s=e.attributes.position,a=e.index;let o=e.groups;0===o.length&&(o=[{start:0,count:a.count,materialIndex:0}]);for(let e=0,l=o.length;e<l;++e){const l=o[e],A=l.start;for(let e=A,o=A+l.count;e<o;e+=3)for(let l=0;l<3;l++){const o=a.getX(e+l),A=a.getX(e+(l+1)%3);r.fromBufferAttribute(s,o),i.fromBufferAttribute(s,A),!0===Hu(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const s=e.attributes.position;for(let e=0,a=s.count/3;e<a;e++)for(let o=0;o<3;o++){const a=3*e+o,l=3*e+(o+1)%3;r.fromBufferAttribute(s,a),i.fromBufferAttribute(s,l),!0===Hu(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new ys(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Hu(e,t,n){const r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var Ou=Object.freeze({__proto__:null,BoxGeometry:Zs,CapsuleGeometry:zc,CircleGeometry:Yc,ConeGeometry:Vc,CylinderGeometry:Wc,DodecahedronGeometry:Kc,EdgesGeometry:$c,ExtrudeGeometry:Mu,IcosahedronGeometry:Du,LatheGeometry:Oc,OctahedronGeometry:Ru,PlaneGeometry:Ia,PolyhedronGeometry:Jc,RingGeometry:Tu,ShapeGeometry:Nu,SphereGeometry:Lu,TetrahedronGeometry:Pu,TorusGeometry:Fu,TorusKnotGeometry:Uu,TubeGeometry:Gu,WireframeGeometry:ku});class zu extends ss{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ns(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Yu extends ra{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Wu extends ss{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ns(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ns(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new sr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Vu extends Wu{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new sr(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return jn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ns(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ns(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ns(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Ju extends ss{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ns(16777215),this.specular=new ns(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ns(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new sr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ee,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ku extends ss{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ns(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ns(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new sr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class qu extends ss{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new sr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class ju extends ss{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ns(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ns(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new sr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ee,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Xu extends ss{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ns(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new sr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zu extends jA{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function $u(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function eh(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function th(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function nh(e,t,n){const r=e.length,i=new e.constructor(r);for(let s=0,a=0;a!==r;++s){const r=n[s]*t;for(let n=0;n!==t;++n)i[a++]=e[r+n]}return i}function rh(e,t,n,r){let i=1,s=e[0];for(;void 0!==s&&void 0===s[r];)s=e[i++];if(void 0===s)return;let a=s[r];if(void 0!==a)if(Array.isArray(a))do{a=s[r],void 0!==a&&(t.push(s.time),n.push.apply(n,a)),s=e[i++]}while(void 0!==s);else if(void 0!==a.toArray)do{a=s[r],void 0!==a&&(t.push(s.time),a.toArray(n,n.length)),s=e[i++]}while(void 0!==s);else do{a=s[r],void 0!==a&&(t.push(s.time),n.push(a)),s=e[i++]}while(void 0!==s)}const ih={convertArray:$u,isTypedArray:eh,getKeyframeOrder:th,sortedArray:nh,flattenJSON:rh,subclip:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const s=e.clone();s.name=t;const a=[];for(let l=0;l<s.tracks.length;++l){const e=s.tracks[l],t=e.getValueSize(),o=[],A=[];for(let s=0;s<e.times.length;++s){const a=e.times[s]*i;if(!(a<n||a>=r)){o.push(e.times[s]);for(let n=0;n<t;++n)A.push(e.values[s*t+n])}}0!==o.length&&(e.times=$u(o,e.times.constructor),e.values=$u(A,e.values.constructor),a.push(e))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s},makeClipAdditive:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);const i=n.tracks.length,s=t/r;for(let a=0;a<i;++a){const t=n.tracks[a],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)continue;let o=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=l/3);let A=0;const c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(A=c/3);const u=t.times.length-1;let h;if(s<=t.times[0]){const e=o,n=l-o;h=t.values.slice(e,n)}else if(s>=t.times[u]){const e=u*l+o,n=e+l-o;h=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=o,r=l-o;e.evaluate(s),h=e.resultBuffer.slice(n,r)}if("quaternion"===r){(new Fr).fromArray(h).normalize().conjugate().toArray(h)}const d=i.times.length;for(let e=0;e<d;++e){const t=e*c+A;if("quaternion"===r)Fr.multiplyQuaternionsFlat(i.values,t,h,0,i.values,t);else{const e=c-2*A;for(let n=0;n<e;++n)i.values[t+n]-=h[n]}}}return e.blendMode=kt,e}};class sh{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let s;n:{r:if(!(e<r)){for(let s=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===s)break;if(i=r,r=t[++n],e<r)break t}s=t.length;break n}if(e>=i)break e;{const a=t[1];e<a&&(n=2,i=a);for(let s=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===s)break;if(r=i,i=t[--n-1],e>=i)break t}s=n,n=0}}for(;n<s;){const r=n+s>>>1;e<t[r]?s=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let s=0;s!==r;++s)t[s]=n[i+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ah extends sh{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Pt,endingEnd:Pt}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,s=e+1,a=r[i],o=r[s];if(void 0===a)switch(this.getSettings_().endingStart){case Ft:i=e,a=2*t-n;break;case Ut:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===o)switch(this.getSettings_().endingEnd){case Ft:s=e,o=2*n-t;break;case Ut:s=1,o=n+r[1]-r[0];break;default:s=e-1,o=t}const l=.5*(n-t),A=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(o-n),this._offsetPrev=i*A,this._offsetNext=s*A}interpolate_(e,t,n,r){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,A=this._offsetPrev,c=this._offsetNext,u=this._weightPrev,h=this._weightNext,d=(n-t)/(r-t),g=d*d,p=g*d,f=-u*p+2*u*g-u*d,m=(1+u)*p+(-1.5-2*u)*g+(-.5+u)*d+1,C=(-1-h)*p+(1.5+h)*g+.5*d,I=h*p-h*g;for(let v=0;v!==a;++v)i[v]=f*s[A+v]+m*s[l+v]+C*s[o+v]+I*s[c+v];return i}}class oh extends sh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,A=(n-t)/(r-t),c=1-A;for(let u=0;u!==a;++u)i[u]=s[l+u]*c+s[o+u]*A;return i}}class lh extends sh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ah{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$u(t,this.TimeBufferType),this.values=$u(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:$u(e.times,Array),values:$u(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new lh(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new oh(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ah(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Tt:t=this.InterpolantFactoryMethodDiscrete;break;case Nt:t=this.InterpolantFactoryMethodLinear;break;case Lt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Tt;case this.InterpolantFactoryMethodLinear:return Nt;case this.InterpolantFactoryMethodSmooth:return Lt}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,s=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==s&&n[s]>t;)--s;if(++s,0!==i||s!==r){i>=s&&(s=Math.max(s,1),i=s-1);const e=this.getValueSize();this.times=n.slice(i,s),this.values=this.values.slice(i*e,s*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==i;a++){const t=n[a];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,t),e=!1;break}if(null!==s&&s>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,t,s),e=!1;break}s=t}if(void 0!==r&&eh(r))for(let a=0,o=r.length;a!==o;++a){const t=r[a];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===Lt,i=e.length-1;let s=1;for(let a=1;a<i;++a){let i=!1;const o=e[a];if(o!==e[a+1]&&(1!==a||o!==e[0]))if(r)i=!0;else{const e=a*n,r=e-n,s=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[s+a]){i=!0;break}}}if(i){if(a!==s){e[s]=e[a];const r=a*n,i=s*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++s}}if(i>0){e[s]=e[i];for(let e=i*n,r=s*n,a=0;a!==n;++a)t[r+a]=t[e+a];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}Ah.prototype.TimeBufferType=Float32Array,Ah.prototype.ValueBufferType=Float32Array,Ah.prototype.DefaultInterpolation=Nt;class ch extends Ah{}ch.prototype.ValueTypeName="bool",ch.prototype.ValueBufferType=Array,ch.prototype.DefaultInterpolation=Tt,ch.prototype.InterpolantFactoryMethodLinear=void 0,ch.prototype.InterpolantFactoryMethodSmooth=void 0;class uh extends Ah{}uh.prototype.ValueTypeName="color";class hh extends Ah{}hh.prototype.ValueTypeName="number";class dh extends sh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=(n-t)/(r-t);let l=e*a;for(let A=l+a;l!==A;l+=4)Fr.slerpFlat(i,0,s,l-a,s,l,o);return i}}class gh extends Ah{InterpolantFactoryMethodLinear(e){return new dh(this.times,this.values,this.getValueSize(),e)}}gh.prototype.ValueTypeName="quaternion",gh.prototype.DefaultInterpolation=Nt,gh.prototype.InterpolantFactoryMethodSmooth=void 0;class ph extends Ah{}ph.prototype.ValueTypeName="string",ph.prototype.ValueBufferType=Array,ph.prototype.DefaultInterpolation=Tt,ph.prototype.InterpolantFactoryMethodLinear=void 0,ph.prototype.InterpolantFactoryMethodSmooth=void 0;class fh extends Ah{}fh.prototype.ValueTypeName="vector";class mh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Gt;this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=qn(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let s=0,a=n.length;s!==a;++s)t.push(Ch(n[s]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,s=n.length;i!==s;++i)t.push(Ah.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,s=[];for(let a=0;a<i;a++){let e=[],o=[];e.push((a+i-1)%i,a,(a+1)%i),o.push(0,1,0);const l=th(e);e=nh(e,1,l),o=nh(o,1,l),r||0!==e[0]||(e.push(i),o.push(o[0])),s.push(new hh(".morphTargetInfluences["+t[a].name+"]",e,o).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let a=0,o=e.length;a<o;a++){const t=e[a],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const s=[];for(const a in r)s.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const s=[],a=[];rh(n,s,a,r),0!==s.length&&i.push(new e(t,s,a))}},r=[],i=e.name||"default",s=e.fps||30,a=e.blendMode;let o=e.length||-1;const l=e.hierarchy||[];for(let A=0;A<l.length;A++){const e=l[A].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],s=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),s.push(r.morphTarget===i?1:0)}r.push(new hh(".morphTargetInfluence["+i+"]",t,s))}o=t.length*s}else{const i=".bones["+t[A].name+"]";n(fh,i+".position",e,"pos",r),n(gh,i+".quaternion",e,"rot",r),n(fh,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,o,r,a)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ch(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hh;case"vector":case"vector2":case"vector3":case"vector4":return fh;case"color":return uh;case"quaternion":return gh;case"bool":case"boolean":return ch;case"string":return ph}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];rh(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const Ih={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class vh{constructor(e,t,n){const r=this;let i,s=!1,a=0,o=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===s&&void 0!==r.onStart&&r.onStart(e,a,o),s=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const Eh=new vh;class Bh{constructor(e){this.manager=void 0!==e?e:Eh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Bh.DEFAULT_MATERIAL_NAME="__DEFAULT";const yh={};class wh extends Error{constructor(e,t){super(e),this.response=t}}class bh extends Bh{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=Ih.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==yh[e])return void yh[e].push({onLoad:t,onProgress:n,onError:r});yh[e]=[],yh[e].push({onLoad:t,onProgress:n,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,o=this.responseType;fetch(s).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=yh[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),s=i?parseInt(i):0,a=0!==s;let o=0;const l=new ReadableStream({start(e){!function t(){r.read().then((r=>{let{done:i,value:l}=r;if(i)e.close();else{o+=l.byteLength;const r=new ProgressEvent("progress",{lengthComputable:a,loaded:o,total:s});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new wh('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((e=>{switch(o){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,a)));case"json":return e.json();default:if(void 0===a)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(a),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{Ih.add(e,t);const n=yh[e];delete yh[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const n=yh[e];if(void 0===n)throw this.manager.itemError(e),t;delete yh[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class xh extends Bh{constructor(e){super(e)}load(e,t,n,r){const i=this,s=new bh(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(s){r?r(s):console.error(s),i.manager.itemError(e)}}),n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=mh.parse(e[n]);t.push(r)}return t}}class Sh extends Bh{constructor(e){super(e)}load(e,t,n,r){const i=this,s=[],a=new fc,o=new bh(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(i.withCredentials);let l=0;function A(A){o.load(e[A],(function(e){const n=i.parse(e,!0);s[A]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(a.minFilter=be),a.image=s,a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(Array.isArray(e))for(let c=0,u=e.length;c<u;++c)A(c);else o.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){s[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)s[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),s[t].format=n.format,s[t].width=n.width,s[t].height=n.height}a.image=s}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=be),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}class Qh extends Bh{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,s=Ih.get(e);if(void 0!==s)return i.manager.itemStart(e),setTimeout((function(){t&&t(s),i.manager.itemEnd(e)}),0),s;const a=ur("img");function o(){A(),Ih.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){A(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function A(){a.removeEventListener("load",o,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",o,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}class Mh extends Bh{constructor(e){super(e)}load(e,t,n,r){const i=new la;i.colorSpace=Xt;const s=new Qh(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function o(n){s.load(e[n],(function(e){i.images[n]=e,a++,6===a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let l=0;l<e.length;++l)o(l);return i}}class _h extends Bh{constructor(e){super(e)}load(e,t,n,r){const i=this,s=new FA,a=new bh(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){let n;try{n=i.parse(e)}catch(a){if(void 0===r)return void console.error(a);r(a)}void 0!==n.image?s.image=n.image:void 0!==n.data&&(s.image.width=n.width,s.image.height=n.height,s.image.data=n.data),s.wrapS=void 0!==n.wrapS?n.wrapS:Ce,s.wrapT=void 0!==n.wrapT?n.wrapT:Ce,s.magFilter=void 0!==n.magFilter?n.magFilter:be,s.minFilter=void 0!==n.minFilter?n.minFilter:be,s.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace?s.colorSpace=n.colorSpace:void 0!==n.encoding&&(s.encoding=n.encoding),void 0!==n.flipY&&(s.flipY=n.flipY),void 0!==n.format&&(s.format=n.format),void 0!==n.type&&(s.type=n.type),void 0!==n.mipmaps&&(s.mipmaps=n.mipmaps,s.minFilter=Qe),1===n.mipmapCount&&(s.minFilter=be),void 0!==n.generateMipmaps&&(s.generateMipmaps=n.generateMipmaps),s.needsUpdate=!0,t&&t(s,n)}),n,r),s}}class Dh extends Bh{constructor(e){super(e)}load(e,t,n,r){const i=new Qr,s=new Qh(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class Rh extends Gi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new ns(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class Th extends Rh{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Gi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ns(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Nh=new gi,Lh=new Ur,Ph=new Ur;class Fh{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new sr(512,512),this.map=null,this.mapPass=null,this.matrix=new gi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new fa,this._frameExtents=new sr(1,1),this._viewportCount=1,this._viewports=[new Mr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Lh.setFromMatrixPosition(e.matrixWorld),t.position.copy(Lh),Ph.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Ph),t.updateMatrixWorld(),Nh.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Nh),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Nh)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Uh extends Fh{constructor(){super(new sa(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Kn*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Gh extends Rh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Gi.DEFAULT_UP),this.updateMatrix(),this.target=new Gi,this.distance=n,this.angle=r,this.penumbra=i,this.decay=s,this.map=null,this.shadow=new Uh}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const kh=new gi,Hh=new Ur,Oh=new Ur;class zh extends Fh{constructor(){super(new sa(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new sr(4,2),this._viewportCount=6,this._viewports=[new Mr(2,1,1,1),new Mr(0,1,1,1),new Mr(3,1,1,1),new Mr(1,1,1,1),new Mr(3,0,1,1),new Mr(1,0,1,1)],this._cubeDirections=[new Ur(1,0,0),new Ur(-1,0,0),new Ur(0,0,1),new Ur(0,0,-1),new Ur(0,1,0),new Ur(0,-1,0)],this._cubeUps=[new Ur(0,1,0),new Ur(0,1,0),new Ur(0,1,0),new Ur(0,1,0),new Ur(0,0,1),new Ur(0,0,-1)]}updateMatrices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Hh.setFromMatrixPosition(e.matrixWorld),n.position.copy(Hh),Oh.copy(n.position),Oh.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Oh),n.updateMatrixWorld(),r.makeTranslation(-Hh.x,-Hh.y,-Hh.z),kh.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kh)}}class Yh extends Rh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new zh}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Wh extends Fh{constructor(){super(new _a(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Vh extends Rh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Gi.DEFAULT_UP),this.updateMatrix(),this.target=new Gi,this.shadow=new Wh}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Jh extends Rh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Kh extends Rh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class qh{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ur)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*i),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],n*r*1.092548),t.addScaledVector(s[5],r*i*1.092548),t.addScaledVector(s[6],.315392*(3*i*i-1)),t.addScaledVector(s[7],n*i*1.092548),t.addScaledVector(s[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],1.023328*r),t.addScaledVector(s[2],1.023328*i),t.addScaledVector(s[3],1.023328*n),t.addScaledVector(s[4],.858086*n*r),t.addScaledVector(s[5],.858086*r*i),t.addScaledVector(s[6],.743125*i*i-.247708),t.addScaledVector(s[7],.858086*n*i),t.addScaledVector(s[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class jh extends Rh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh;super(void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Xh extends Bh{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,s=new bh(i.manager);s.setPath(i.path),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(s){r?r(s):console.error(s),i.manager.itemError(e)}}),n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=Xh.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new ns).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new ns).setHex(t.value);break;case"v2":r.uniforms[i].value=(new sr).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new Ur).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new Mr).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new ar).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new gi).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new sr).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new sr).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){return new{ShadowMaterial:zu,SpriteMaterial:oA,RawShaderMaterial:Yu,ShaderMaterial:ra,PointsMaterial:oc,MeshPhysicalMaterial:Vu,MeshStandardMaterial:Wu,MeshPhongMaterial:Ju,MeshToonMaterial:Ku,MeshNormalMaterial:qu,MeshLambertMaterial:ju,MeshDepthMaterial:Gl,MeshDistanceMaterial:kl,MeshBasicMaterial:as,MeshMatcapMaterial:Xu,LineDashedMaterial:Zu,LineBasicMaterial:jA,Material:ss}[e]}}class Zh{static decodeText(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class $h extends Rs{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class ed extends Bh{constructor(e){super(e)}load(e,t,n,r){const i=this,s=new bh(i.manager);s.setPath(i.path),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(s){r?r(s):console.error(s),i.manager.itemError(e)}}),n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],s=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],s=new Uint32Array(i).buffer;return n[t]=s,s}(e,i.buffer),a=cr(i.type,s),o=new iA(a,i.stride);return o.uuid=i.uuid,t[r]=o,o}const i=e.isInstancedBufferGeometry?new $h:new Rs,s=e.data.index;if(void 0!==s){const e=cr(s.type,s.array);i.setIndex(new gs(e,1))}const a=e.data.attributes;for(const c in a){const t=a[c];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new aA(i,t.itemSize,t.offset,t.normalized)}else{const e=cr(t.type,t.array);n=new(t.isInstancedBufferAttribute?HA:gs)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),void 0!==t.updateRange&&(n.updateRange.offset=t.updateRange.offset,n.updateRange.count=t.updateRange.count),i.setAttribute(c,n)}const o=e.data.morphAttributes;if(o)for(const c in o){const t=o[c],n=[];for(let i=0,s=t.length;i<s;i++){const s=t[i];let a;if(s.isInterleavedBufferAttribute){const t=r(e.data,s.data);a=new aA(t,s.itemSize,s.offset,s.normalized)}else{const e=cr(s.type,s.array);a=new gs(e,s.itemSize,s.normalized)}void 0!==s.name&&(a.name=s.name),n.push(a)}i.morphAttributes[c]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let c=0,u=l.length;c!==u;++c){const e=l[c];i.addGroup(e.start,e.count,e.materialIndex)}const A=e.data.boundingSphere;if(void 0!==A){const e=new Ur;void 0!==A.center&&e.fromArray(A.center),i.boundingSphere=new si(e,A.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}class td extends Bh{constructor(e){super(e)}load(e,t,n,r){const i=this,s=""===this.path?Zh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new bh(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){let s=null;try{s=JSON.parse(n)}catch(o){return void 0!==r&&r(o),void console.error("THREE:ObjectLoader: Can't parse "+e+".",o.message)}const a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(s,t)}),n,r)}async loadAsync(e,t){const n=""===this.path?Zh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new bh(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),s=JSON.parse(i),a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(s)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,n),A=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,A),void 0!==t){let e=!1;for(const t in s)if(s[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,s),o=this.parseObject(e.object,r,a,s,t),l=this.parseSkeletons(e.skeletons,o);return this.bindSkeletons(o,l),o}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new eu).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(let i=0,s=e.length;i<s;i++){const t=(new kA).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new ed;for(let i=0,s=e.length;i<s;i++){let s;const a=e[i];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":s=r.parse(a);break;default:a.type in Ou?s=Ou[a.type].fromJSON(a,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(a.type,'"'))}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.userData&&(s.userData=a.userData),n[a.uuid]=s}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new Xh;i.setTextures(t);for(let t=0,s=e.length;t<s;t++){const s=e[t];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=mh.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function s(e){if("string"===typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:cr(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new vh(t);i=new Qh(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=s(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new FA(n.data,n.width,n.height)))}r[n.uuid]=new br(e)}else{const e=s(n.url);r[n.uuid]=new br(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"===typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:cr(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new Qh(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],s=r.url;if(Array.isArray(s)){const e=[];for(let t=0,n=s.length;t<n;t++){const n=s[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new FA(r.data,r.width,r.height)))}n[r.uuid]=new br(e)}else{const e=await i(r.url);n[r.uuid]=new br(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,s=e.length;i<s;i++){const s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const a=t[s.image],o=a.data;let l;Array.isArray(o)?(l=new la,6===o.length&&(l.needsUpdate=!0)):(l=o&&o.data?new FA:new Qr,o&&(l.needsUpdate=!0)),l.source=a,l.uuid=s.uuid,void 0!==s.name&&(l.name=s.name),void 0!==s.mapping&&(l.mapping=n(s.mapping,nd)),void 0!==s.channel&&(l.channel=s.channel),void 0!==s.offset&&l.offset.fromArray(s.offset),void 0!==s.repeat&&l.repeat.fromArray(s.repeat),void 0!==s.center&&l.center.fromArray(s.center),void 0!==s.rotation&&(l.rotation=s.rotation),void 0!==s.wrap&&(l.wrapS=n(s.wrap[0],rd),l.wrapT=n(s.wrap[1],rd)),void 0!==s.format&&(l.format=s.format),void 0!==s.internalFormat&&(l.internalFormat=s.internalFormat),void 0!==s.type&&(l.type=s.type),void 0!==s.colorSpace&&(l.colorSpace=s.colorSpace),void 0!==s.encoding&&(l.encoding=s.encoding),void 0!==s.minFilter&&(l.minFilter=n(s.minFilter,id)),void 0!==s.magFilter&&(l.magFilter=n(s.magFilter,id)),void 0!==s.anisotropy&&(l.anisotropy=s.anisotropy),void 0!==s.flipY&&(l.flipY=s.flipY),void 0!==s.generateMipmaps&&(l.generateMipmaps=s.generateMipmaps),void 0!==s.premultiplyAlpha&&(l.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(l.unpackAlignment=s.unpackAlignment),void 0!==s.compareFunction&&(l.compareFunction=s.compareFunction),void 0!==s.userData&&(l.userData=s.userData),r[s.uuid]=l}return r}parseObject(e,t,n,r,i){let s,a,o;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function A(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":s=new rA,void 0!==e.background&&(Number.isInteger(e.background)?s.background=new ns(e.background):s.background=c(e.background)),void 0!==e.environment&&(s.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?s.fog=new nA(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(s.fog=new tA(e.fog.color,e.fog.density)),""!==e.fog.name&&(s.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(s.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(s.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":s=new sa(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(s.focus=e.focus),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.filmGauge&&(s.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(s.filmOffset=e.filmOffset),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new _a(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Jh(e.color,e.intensity);break;case"DirectionalLight":s=new Vh(e.color,e.intensity);break;case"PointLight":s=new Yh(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Kh(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Gh(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new Th(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=(new jh).fromJSON(e);break;case"SkinnedMesh":a=l(e.geometry),o=A(e.material),s=new LA(a,o),void 0!==e.bindMode&&(s.bindMode=e.bindMode),void 0!==e.bindMatrix&&s.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(s.skeleton=e.skeleton);break;case"Mesh":a=l(e.geometry),o=A(e.material),s=new js(a,o);break;case"InstancedMesh":a=l(e.geometry),o=A(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;s=new qA(a,o,t),s.instanceMatrix=new HA(new Float32Array(n.array),16),void 0!==r&&(s.instanceColor=new HA(new Float32Array(r.array),r.itemSize));break;case"LOD":s=new bA;break;case"Line":s=new nc(l(e.geometry),A(e.material));break;case"LineLoop":s=new ac(l(e.geometry),A(e.material));break;case"LineSegments":s=new sc(l(e.geometry),A(e.material));break;case"PointCloud":case"Points":s=new hc(l(e.geometry),A(e.material));break;case"Sprite":s=new EA(A(e.material));break;case"Group":s=new Vl;break;case"Bone":s=new PA;break;default:s=new Gi}if(s.uuid=e.uuid,void 0!==e.name&&(s.name=e.name),void 0!==e.matrix?(s.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(void 0!==e.position&&s.position.fromArray(e.position),void 0!==e.rotation&&s.rotation.fromArray(e.rotation),void 0!==e.quaternion&&s.quaternion.fromArray(e.quaternion),void 0!==e.scale&&s.scale.fromArray(e.scale)),void 0!==e.up&&s.up.fromArray(e.up),void 0!==e.castShadow&&(s.castShadow=e.castShadow),void 0!==e.receiveShadow&&(s.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(s.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(s.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(s.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&s.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(s.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(s.visible=e.visible),void 0!==e.frustumCulled&&(s.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(s.renderOrder=e.renderOrder),void 0!==e.userData&&(s.userData=e.userData),void 0!==e.layers&&(s.layers.mask=e.layers),void 0!==e.children){const a=e.children;for(let e=0;e<a.length;e++)s.add(this.parseObject(a[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];s.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(s.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=s.getObjectByProperty("uuid",n.object);void 0!==r&&s.addLevel(r,n.distance,n.hysteresis)}}return s}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}const nd={UVMapping:ue,CubeReflectionMapping:he,CubeRefractionMapping:de,EquirectangularReflectionMapping:ge,EquirectangularRefractionMapping:pe,CubeUVReflectionMapping:fe},rd={RepeatWrapping:me,ClampToEdgeWrapping:Ce,MirroredRepeatWrapping:Ie},id={NearestFilter:ve,NearestMipmapNearestFilter:Ee,NearestMipmapLinearFilter:ye,LinearFilter:be,LinearMipmapNearestFilter:xe,LinearMipmapLinearFilter:Qe};class sd extends Bh{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,s=Ih.get(e);if(void 0!==s)return i.manager.itemStart(e),setTimeout((function(){t&&t(s),i.manager.itemEnd(e)}),0),s;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){Ih.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}let ad;class od{static getContext(){return void 0===ad&&(ad=new(window.AudioContext||window.webkitAudioContext)),ad}static setContext(e){ad=e}}class ld extends Bh{constructor(e){super(e)}load(e,t,n,r){const i=this,s=new bh(this.manager);function a(t){r?r(t):console.error(t),i.manager.itemError(e)}s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(e){try{const n=e.slice(0);od.getContext().decodeAudioData(n,(function(e){t(e)}),a)}catch(n){a(n)}}),n,r)}}const Ad=new gi,cd=new gi,ud=new gi;class hd{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new sa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new sa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ud.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(Jn*t.fov*.5)/t.zoom;let s,a;cd.elements[12]=-n,Ad.elements[12]=n,s=-i*t.aspect+r,a=i*t.aspect+r,ud.elements[0]=2*t.near/(a-s),ud.elements[8]=(a+s)/(a-s),this.cameraL.projectionMatrix.copy(ud),s=-i*t.aspect-r,a=i*t.aspect-r,ud.elements[0]=2*t.near/(a-s),ud.elements[8]=(a+s)/(a-s),this.cameraR.projectionMatrix.copy(ud)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(cd),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Ad)}}class dd{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=gd(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=gd();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function gd(){return("undefined"===typeof performance?Date:performance).now()}const pd=new Ur,fd=new Fr,md=new Ur,Cd=new Ur;class Id extends Gi{constructor(){super(),this.type="AudioListener",this.context=od.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new dd}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(pd,fd,md),Cd.set(0,0,-1).applyQuaternion(fd),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(pd.x,e),t.positionY.linearRampToValueAtTime(pd.y,e),t.positionZ.linearRampToValueAtTime(pd.z,e),t.forwardX.linearRampToValueAtTime(Cd.x,e),t.forwardY.linearRampToValueAtTime(Cd.y,e),t.forwardZ.linearRampToValueAtTime(Cd.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(pd.x,pd.y,pd.z),t.setOrientation(Cd.x,Cd.y,Cd.z,n.x,n.y,n.z)}}class vd extends Gi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ed=new Ur,Bd=new Fr,yd=new Ur,wd=new Ur;class bd extends vd{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Ed,Bd,yd),wd.set(0,0,1).applyQuaternion(Bd);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ed.x,e),t.positionY.linearRampToValueAtTime(Ed.y,e),t.positionZ.linearRampToValueAtTime(Ed.z,e),t.orientationX.linearRampToValueAtTime(wd.x,e),t.orientationY.linearRampToValueAtTime(wd.y,e),t.orientationZ.linearRampToValueAtTime(wd.z,e)}else t.setPosition(Ed.x,Ed.y,Ed.z),t.setOrientation(wd.x,wd.y,wd.z)}}class xd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Sd{constructor(e,t,n){let r,i,s;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let s=this.cumulativeWeight;if(0===s){for(let e=0;e!==r;++e)n[i+e]=n[e];s=t}else{s+=t;const e=t/s;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}s>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let o=t,l=t+t;o!==l;++o)if(n[o]!==n[o+t]){a.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,s=r;i!==s;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let s=0;s!==i;++s)e[t+s]=e[n+s]}_slerp(e,t,n,r){Fr.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const s=this._workIndex*i;Fr.multiplyQuaternionsFlat(e,s,e,t,e,n),Fr.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,n,r,i){const s=1-r;for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]*s+e[n+a]*r}}_lerpAdditive(e,t,n,r,i){for(let s=0;s!==i;++s){const i=t+s;e[i]=e[i]+e[n+s]*r}}}const Qd="\\[\\]\\.:\\/",Md=new RegExp("["+Qd+"]","g"),_d="[^"+Qd+"]",Dd="[^"+Qd.replace("\\.","")+"]",Rd=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",_d)+/(WCOD+)?/.source.replace("WCOD",Dd)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_d)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_d)+"$"),Td=["material","materials","bones","map"];class Nd{constructor(e,t,n){this.path=t,this.parsedPath=n||Nd.parseTrackName(t),this.node=Nd.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Nd.Composite(e,t,n):new Nd(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Md,"")}static parseTrackName(e){const t=Rd.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Td.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const s=n(i.children);if(s)return s}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Nd.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const s=e[r];if(void 0===s){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}o=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(o=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nd.Composite=class{constructor(e,t,n){const r=n||Nd.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Nd.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Nd.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Nd.prototype.GetterByBindingType=[Nd.prototype._getValue_direct,Nd.prototype._getValue_array,Nd.prototype._getValue_arrayElement,Nd.prototype._getValue_toArray],Nd.prototype.SetterByBindingTypeAndVersioning=[[Nd.prototype._setValue_direct,Nd.prototype._setValue_direct_setNeedsUpdate,Nd.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nd.prototype._setValue_array,Nd.prototype._setValue_array_setNeedsUpdate,Nd.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nd.prototype._setValue_arrayElement,Nd.prototype._setValue_arrayElement_setNeedsUpdate,Nd.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nd.prototype._setValue_fromArray,Nd.prototype._setValue_fromArray_setNeedsUpdate,Nd.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ld{constructor(){this.isAnimationObjectGroup=!0,this.uuid=qn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,s=i.length;let a,o=e.length,l=this.nCachedObjects_;for(let A=0,c=arguments.length;A!==c;++A){const c=arguments[A],u=c.uuid;let h=t[u];if(void 0===h){h=o++,t[u]=h,e.push(c);for(let e=0,t=s;e!==t;++e)i[e].push(new Nd(c,n[e],r[e]))}else if(h<l){a=e[h];const o=--l,A=e[o];t[A.uuid]=h,e[h]=A,t[u]=o,e[o]=c;for(let e=0,t=s;e!==t;++e){const t=i[e],s=t[o];let a=t[h];t[h]=s,void 0===a&&(a=new Nd(c,n[e],r[e])),t[o]=a}}else e[h]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s],o=a.uuid,l=t[o];if(void 0!==l&&l>=i){const s=i++,A=e[s];t[A.uuid]=l,e[l]=A,t[o]=s,e[s]=a;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[s],i=t[l];t[l]=r,t[s]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,s=e.length;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a].uuid,l=t[o];if(void 0!==l)if(delete t[o],l<i){const a=--i,o=e[a],A=--s,c=e[A];t[o.uuid]=l,e[l]=o,t[c.uuid]=a,e[a]=c,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[A];t[l]=r,t[a]=i,t.pop()}}else{const i=--s,a=e[i];i>0&&(t[a.uuid]=l),e[l]=a,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const s=this._paths,a=this._parsedPaths,o=this._objects,l=o.length,A=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,s.push(e),a.push(t),i.push(c);for(let u=A,h=o.length;u!==h;++u){const n=o[u];c[u]=new Nd(n,e,t)}return c}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length-1,o=s[a];t[e[a]]=n,s[n]=o,s.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}class Pd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,s=i.length,a=new Array(s),o={endingStart:Pt,endingEnd:Pt};for(let l=0;l!==s;++l){const e=i[l].createInterpolant(null);a[l]=e,e.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Dt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,s=n/r;e.warp(1,i,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,s=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=i,o[1]=i+n,l[0]=e/s,l[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===kt)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(s),t[n].accumulateAdditive(a);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(s),t[n].accumulate(r,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const s=n===Rt;if(0===e)return-1===i?r:s&&1===(1&i)?t-r:r;if(n===_t){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){const t=e<0;this._setEndings(t,!t,s)}else this._setEndings(!1,!1,s);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(s&&1===(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Ft,r.endingEnd=Ft):(r.endingStart=e?this.zeroSlopeAtStart?Ft:Pt:Ut,r.endingEnd=t?this.zeroSlopeAtEnd?Ft:Pt:Ut)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let s=this._weightInterpolant;null===s&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,o=s.sampleValues;return a[0]=i,o[0]=t,a[1]=i+e,o[1]=n,this}}const Fd=new Float32Array(1);class Ud extends Yn{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,s=e._propertyBindings,a=e._interpolants,o=n.uuid,l=this._bindingsByRootAndName;let A=l[o];void 0===A&&(A={},l[o]=A);for(let c=0;c!==i;++c){const e=r[c],i=e.name;let l=A[i];if(void 0!==l)++l.referenceCount,s[c]=l;else{if(l=s[c],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,o,i));continue}const r=t&&t._propertyBindings[c].binding.parsedPath;l=new Sd(Nd.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,o,i),s[c]=l}a[c].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let s=i[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=s;else{const t=s.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,s=this._actionsByClip,a=s[i],o=a.knownActions,l=o[o.length-1],A=e._byClipCacheIndex;l._byClipCacheIndex=A,o[A]=l,o.pop(),e._byClipCacheIndex=null;delete a.actionByRoot[(e._localRoot||this._root).uuid],0===o.length&&delete s[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let s=r[t];void 0===s&&(s={},r[t]=s),s[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,s=this._bindingsByRootAndName,a=s[r],o=t[t.length-1],l=e._cacheIndex;o._cacheIndex=l,t[l]=o,t.pop(),delete a[i],0===Object.keys(a).length&&delete s[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new oh(new Float32Array(2),new Float32Array(2),1,Fd),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let s="string"===typeof e?mh.findByName(r,e):e;const a=null!==s?s.uuid:e,o=this._actionsByClip[a];let l=null;if(void 0===n&&(n=null!==s?s.blendMode:Gt),void 0!==o){const e=o.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=o.knownActions[0],null===s&&(s=l._clip)}if(null===s)return null;const A=new Pd(this,s,t,n);return this._bindAction(A,l),this._addInactiveAction(A,a,i),A}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"===typeof e?mh.findByName(n,e):e,s=i?i.uuid:e,a=this._actionsByClip[s];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),s=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(r,e,i,s)}const a=this._bindings,o=this._nActiveBindings;for(let l=0;l!==o;++l)a[l].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,s=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,s._cacheIndex=i,t[i]=s,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Gd{constructor(e){this.value=e}clone(){return new Gd(void 0===this.value.clone?this.value:this.value.clone())}}let kd=0;class Hd extends Yn{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:kd++}),this.name="",this.usage=_n,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return(new this.constructor).copy(this)}}class Od extends iA{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class zd{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Yd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new di(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new bi,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Vd(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(Wd),t}intersectObjects(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let r=0,i=e.length;r<i;r++)Vd(e[r],this,n,t);return n.sort(Wd),n}}function Wd(e,t){return e.distance-t.distance}function Vd(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)Vd(r[e],t,n,!0)}}class Jd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(jn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Kd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}const qd=new sr;class jd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr(1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr(-1/0,-1/0);this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=qd.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qd).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Xd=new Ur,Zd=new Ur;class $d{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur;this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Xd.subVectors(e,this.start),Zd.subVectors(this.end,this.start);const n=Zd.dot(Zd);let r=Zd.dot(Xd)/n;return t&&(r=jn(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const eg=new Ur;class tg extends Gi{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Rs,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,o=32;s<o;s++,a++){const e=s/o*Math.PI*2,t=a/o*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new ys(r,3));const i=new jA({fog:!1,toneMapped:!1});this.cone=new sc(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),eg.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(eg),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ng=new Ur,rg=new gi,ig=new gi;class sg extends sc{constructor(e){const t=ag(e),n=new Rs,r=[],i=[],s=new ns(0,0,1),a=new ns(0,1,0);for(let o=0;o<t.length;o++){const e=t[o];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(s.r,s.g,s.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new ys(r,3)),n.setAttribute("color",new ys(i,3));super(n,new jA({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");ig.copy(this.root.matrixWorld).invert();for(let i=0,s=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(rg.multiplyMatrices(ig,e.matrixWorld),ng.setFromMatrixPosition(rg),r.setXYZ(s,ng.x,ng.y,ng.z),rg.multiplyMatrices(ig,e.parent.matrixWorld),ng.setFromMatrixPosition(rg),r.setXYZ(s+1,ng.x,ng.y,ng.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function ag(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,ag(e.children[n]));return t}class og extends js{constructor(e,t,n){super(new Lu(t,4,2),new as({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const lg=new Ur,Ag=new ns,cg=new ns;class ug extends Gi{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Ru(t);r.rotateY(.5*Math.PI),this.material=new as({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),s=new Float32Array(3*i.count);r.setAttribute("color",new gs(s,3)),this.add(new js(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Ag.copy(this.light.color),cg.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?Ag:cg;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(lg.setFromMatrixPosition(this.light.matrixWorld).negate())}}class hg extends sc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;n=new ns(n),r=new ns(r);const i=t/2,s=e/t,a=e/2,o=[],l=[];for(let c=0,u=0,h=-a;c<=t;c++,h+=s){o.push(-a,0,h,a,0,h),o.push(h,0,-a,h,0,a);const e=c===i?n:r;e.toArray(l,u),u+=3,e.toArray(l,u),u+=3,e.toArray(l,u),u+=3,e.toArray(l,u),u+=3}const A=new Rs;A.setAttribute("position",new ys(o,3)),A.setAttribute("color",new ys(l,3));super(A,new jA({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class dg extends sc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;i=new ns(i),s=new ns(s);const a=[],o=[];if(t>1)for(let A=0;A<t;A++){const n=A/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;a.push(0,0,0),a.push(r,0,l);const c=1&A?i:s;o.push(c.r,c.g,c.b),o.push(c.r,c.g,c.b)}for(let A=0;A<n;A++){const t=1&A?i:s,l=e-e/n*A;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,s=Math.cos(n)*l;a.push(i,0,s),o.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,s=Math.cos(n)*l,a.push(i,0,s),o.push(t.r,t.g,t.b)}}const l=new Rs;l.setAttribute("position",new ys(a,3)),l.setAttribute("color",new ys(o,3));super(l,new jA({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const gg=new Ur,pg=new Ur,fg=new Ur;class mg extends Gi{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new Rs;r.setAttribute("position",new ys([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new jA({fog:!1,toneMapped:!1});this.lightPlane=new nc(r,i),this.add(this.lightPlane),r=new Rs,r.setAttribute("position",new ys([0,0,0,0,0,1],3)),this.targetLine=new nc(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),gg.setFromMatrixPosition(this.light.matrixWorld),pg.setFromMatrixPosition(this.light.target.matrixWorld),fg.subVectors(pg,gg),this.lightPlane.lookAt(pg),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(pg),this.targetLine.scale.z=fg.length()}}const Cg=new Ur,Ig=new ia;class vg extends sc{constructor(e){const t=new Rs,n=new jA({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],s={};function a(e,t){o(e),o(t)}function o(e){r.push(0,0,0),i.push(0,0,0),void 0===s[e]&&(s[e]=[]),s[e].push(r.length/3-1)}a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4"),t.setAttribute("position",new ys(r,3)),t.setAttribute("color",new ys(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const l=new ns(16755200),A=new ns(16711680),c=new ns(43775),u=new ns(16777215),h=new ns(3355443);this.setColors(l,A,c,u,h)}setColors(e,t,n,r,i){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,n.r,n.g,n.b),s.setXYZ(33,n.r,n.g,n.b),s.setXYZ(34,n.r,n.g,n.b),s.setXYZ(35,n.r,n.g,n.b),s.setXYZ(36,n.r,n.g,n.b),s.setXYZ(37,n.r,n.g,n.b),s.setXYZ(38,r.r,r.g,r.b),s.setXYZ(39,r.r,r.g,r.b),s.setXYZ(40,i.r,i.g,i.b),s.setXYZ(41,i.r,i.g,i.b),s.setXYZ(42,i.r,i.g,i.b),s.setXYZ(43,i.r,i.g,i.b),s.setXYZ(44,i.r,i.g,i.b),s.setXYZ(45,i.r,i.g,i.b),s.setXYZ(46,i.r,i.g,i.b),s.setXYZ(47,i.r,i.g,i.b),s.setXYZ(48,i.r,i.g,i.b),s.setXYZ(49,i.r,i.g,i.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;Ig.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Eg("c",t,e,Ig,0,0,-1),Eg("t",t,e,Ig,0,0,1),Eg("n1",t,e,Ig,-1,-1,-1),Eg("n2",t,e,Ig,1,-1,-1),Eg("n3",t,e,Ig,-1,1,-1),Eg("n4",t,e,Ig,1,1,-1),Eg("f1",t,e,Ig,-1,-1,1),Eg("f2",t,e,Ig,1,-1,1),Eg("f3",t,e,Ig,-1,1,1),Eg("f4",t,e,Ig,1,1,1),Eg("u1",t,e,Ig,.7,1.1,-1),Eg("u2",t,e,Ig,-.7,1.1,-1),Eg("u3",t,e,Ig,0,2,-1),Eg("cf1",t,e,Ig,-1,0,1),Eg("cf2",t,e,Ig,1,0,1),Eg("cf3",t,e,Ig,0,-1,1),Eg("cf4",t,e,Ig,0,1,1),Eg("cn1",t,e,Ig,-1,0,-1),Eg("cn2",t,e,Ig,1,0,-1),Eg("cn3",t,e,Ig,0,-1,-1),Eg("cn4",t,e,Ig,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Eg(e,t,n,r,i,s,a){Cg.set(i,s,a).unproject(r);const o=t[e];if(void 0!==o){const e=n.getAttribute("position");for(let t=0,n=o.length;t<n;t++)e.setXYZ(o[t],Cg.x,Cg.y,Cg.z)}}const Bg=new Hr;class yg extends sc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Rs;i.setIndex(new gs(n,1)),i.setAttribute("position",new gs(r,3)),super(i,new jA({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Bg.setFromObject(this.object),Bg.isEmpty())return;const t=Bg.min,n=Bg.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wg extends sc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Rs;r.setIndex(new gs(n,1)),r.setAttribute("position",new ys([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new jA({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class bg extends nc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960,r=new Rs;r.setAttribute("position",new ys([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere(),super(r,new jA({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const i=new Rs;i.setAttribute("position",new ys([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new js(i,new as({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const xg=new Ur;let Sg,Qg;class Mg extends Gi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ur(0,0,1),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ur(0,0,0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*n,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*i;super(),this.type="ArrowHelper",void 0===Sg&&(Sg=new Rs,Sg.setAttribute("position",new ys([0,0,0,0,1,0],3)),Qg=new Wc(0,.5,1,5,1),Qg.translate(0,-.5,0)),this.position.copy(t),this.line=new nc(Sg,new jA({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new js(Qg,new as({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xg.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xg,t)}}setLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class _g extends sc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Rs;n.setAttribute("position",new ys(t,3)),n.setAttribute("color",new ys([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new jA({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new ns,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Dg{constructor(){this.type="ShapePath",this.color=new ns,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Hc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,s){return this.currentPath.bezierCurveTo(e,t,n,r,i,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,s=0;s<n;i=s++){let n=t[i],a=t[s],o=a.x-n.x,l=a.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[s],o=-o,a=t[i],l=-l),e.y<n.y||e.y>a.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-o*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(a.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=a.x)return!0}}return r}const n=xu.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,s,a;const o=[];if(1===r.length)return s=r[0],a=new eu,a.curves=s.curves,o.push(a),o;let l=!n(r[0].getPoints());l=e?!l:l;const A=[],c=[];let u,h,d=[],g=0;c[g]=void 0,d[g]=[];for(let p=0,f=r.length;p<f;p++)s=r[p],u=s.getPoints(),i=n(u),i=e?!i:i,i?(!l&&c[g]&&g++,c[g]={s:new eu,p:u},c[g].s.curves=s.curves,l&&g++,d[g]=[]):d[g].push({h:s,p:u[0]});if(!c[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new eu;i.curves=r.curves,t.push(i)}return t}(r);if(c.length>1){let e=!1,n=0;for(let t=0,r=c.length;t<r;t++)A[t]=[];for(let r=0,i=c.length;r<i;r++){const i=d[r];for(let s=0;s<i.length;s++){const a=i[s];let o=!0;for(let i=0;i<c.length;i++)t(a.p,c[i].p)&&(r!==i&&n++,o?(o=!1,A[i].push(a)):e=!0);o&&A[r].push(a)}}n>0&&!1===e&&(d=A)}for(let p=0,f=c.length;p<f;p++){a=c[p].s,o.push(a),h=d[p];for(let e=0,t=h.length;e<t;e++)a.holes.push(h[e].h)}return o}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:s}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=s);var Rg=n(585);function Tg(e){let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,s={setState:r,getState:i,subscribe:(e,r,s)=>r||s?function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=r(t);function o(){const n=r(t);if(!s(a,n)){const t=a;e(a=n,t)}}return n.add(o),()=>n.delete(o)}(e,r,s):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,s),s}const Ng="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;function Lg(e){const t="function"===typeof e?Tg(e):e,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is;const[,i]=(0,r.useReducer)((e=>e+1),0),s=t.getState(),a=(0,r.useRef)(s),o=(0,r.useRef)(e),l=(0,r.useRef)(n),A=(0,r.useRef)(!1),c=(0,r.useRef)();let u;void 0===c.current&&(c.current=e(s));let h=!1;(a.current!==s||o.current!==e||l.current!==n||A.current)&&(u=e(s),h=!n(c.current,u)),Ng((()=>{h&&(c.current=u),a.current=s,o.current=e,l.current=n,A.current=!1}));const d=(0,r.useRef)(s);Ng((()=>{const e=()=>{try{const e=t.getState(),n=o.current(e);l.current(c.current,n)||(a.current=e,c.current=n,i())}catch(e){A.current=!0,i()}},n=t.subscribe(e);return t.getState()!==d.current&&e(),n}),[]);const g=h?u:c.current;return(0,r.useDebugValue)(g),g};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[n,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},n}var Pg=n(258),Fg=n.n(Pg),Ug=n(545);const Gg=[];function kg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function Hg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(const a of Gg)if(kg(t,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!n)throw a.promise}const i={keys:t,equal:r.equal,remove:()=>{const e=Gg.indexOf(i);-1!==e&&Gg.splice(e,1)},promise:(s=e,"object"===typeof s&&"function"===typeof s.then?e:e(...t)).then((e=>{i.response=e,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))})).catch((e=>i.error=e))};var s;if(Gg.push(i),!n)throw i.promise}const Og=(e,t,n)=>Hg(e,t,!1,n);const zg={};var Yg,Wg;const Vg=e=>"colorSpace"in e||"outputColorSpace"in e,Jg=()=>{var e;return null!=(e=zg.ColorManagement)?e:null},Kg=e=>e&&e.isOrthographicCamera,qg="undefined"!==typeof window&&(null!=(Yg=window.document)&&Yg.createElement||"ReactNative"===(null==(Wg=window.navigator)?void 0:Wg.product))?r.useLayoutEffect:r.useEffect;function jg(e){const t=r.useRef(e);return qg((()=>{t.current=e}),[e]),t}function Xg(e){let{set:t}=e;return qg((()=>(t(new Promise((()=>null))),()=>t(!1))),[t]),null}class Zg extends r.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Zg.getDerivedStateFromError=()=>({error:!0});const $g="__default",ep=new Map,tp=e=>e&&!!e.memoized&&!!e.changes;function np(e){var t;const n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}const rp=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()},ip={obj:e=>e===Object(e)&&!ip.arr(e)&&"function"!==typeof e,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,boo:e=>"boolean"===typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let{arrays:n="shallow",objects:r="reference",strict:i=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!==typeof t||!!e!==!!t)return!1;if(ip.str(e)||ip.num(e))return e===t;const s=ip.obj(e);if(s&&"reference"===r)return e===t;const a=ip.arr(e);if(a&&"reference"===n)return e===t;if((a||s)&&e===t)return!0;let o;for(o in e)if(!(o in t))return!1;if(s&&"shallow"===n&&"shallow"===r){for(o in i?t:e)if(!ip.equ(e[o],t[o],{strict:i,objects:"reference"}))return!1}else for(o in i?t:e)if(e[o]!==t[o])return!1;if(ip.und(o)){if(a&&0===e.length&&0===t.length)return!0;if(s&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function sp(e){const t={nodes:{},materials:{}};return e&&e.traverse((e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function ap(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function op(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),i=r.pop();return n=r.reduce(((e,t)=>e[t]),e),{target:n,key:i}}return{target:n,key:t}}const lp=/-\d+$/;function Ap(e,t,n){if(ip.str(n)){if(lp.test(n)){const t=n.replace(lp,""),{target:r,key:i}=op(e,t);Array.isArray(r[i])||(r[i]=[])}const{target:r,key:i}=op(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function cp(e,t,n){var r,i;if(ip.str(n)){const{target:r,key:i}=op(e,n),s=t.__r3f.previousAttach;void 0===s?delete r[i]:r[i]=s}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function up(e,t){let{children:n,key:r,ref:i,...s}=t,{children:a,key:o,ref:l,...A}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var u;const h=null!=(u=null==e?void 0:e.__r3f)?u:{},d=Object.entries(s),g=[];if(c){const e=Object.keys(A);for(let t=0;t<e.length;t++)s.hasOwnProperty(e[t])||d.unshift([e[t],$g+"remove"])}d.forEach((t=>{let[n,r]=t;var i;if(null!=(i=e.__r3f)&&i.primitive&&"object"===n)return;if(ip.equ(r,A[n]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(n))return g.push([n,r,!0,[]]);let a=[];n.includes("-")&&(a=n.split("-")),g.push([n,r,!1,a]);for(const e in s){const t=s[e];e.startsWith("".concat(n,"-"))&&g.push([e,t,!1,e.split("-")])}}));const p={...s};return h.memoizedProps&&h.memoizedProps.args&&(p.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(p.attach=h.memoizedProps.attach),{memoized:p,changes:g}}const hp="undefined"!==typeof process&&!1;function dp(e,t){var n,r,i;const s=null!=(n=e.__r3f)?n:{},a=s.root,o=null!=(r=null==a||null==a.getState?void 0:a.getState())?r:{},{memoized:l,changes:A}=tp(t)?t:up(e,t),c=s.eventCount;e.__r3f&&(e.__r3f.memoizedProps=l);for(let u=0;u<A.length;u++){let[t,n,r,i]=A[u];if(Vg(e)){const e=3001,r="srgb",i="srgb-linear";"encoding"===t?(t="colorSpace",n=n===e?r:i):"outputEncoding"===t&&(t="outputColorSpace",n=n===e?r:i)}let a=e,l=a[t];if(i.length&&(l=i.reduce(((e,t)=>e[t]),e),!l||!l.set)){const[n,...r]=i.reverse();a=r.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===$g+"remove")if(a.constructor){let e=ep.get(a.constructor);e||(e=new a.constructor,ep.set(a.constructor,e)),n=e[t]}else n=0;if(r)n?s.handlers[t]=n:delete s.handlers[t],s.eventCount=Object.keys(s.handlers).length;else if(l&&l.set&&(l.copy||l instanceof bi)){if(Array.isArray(n))l.fromArray?l.fromArray(n):l.set(...n);else if(l.copy&&n&&n.constructor&&(hp?l.constructor.name===n.constructor.name:l.constructor===n.constructor))l.copy(n);else if(void 0!==n){const e=l instanceof ns;!e&&l.setScalar?l.setScalar(n):l instanceof bi&&n instanceof bi?l.mask=n.mask:l.set(n),Jg()||o.linear||!e||l.convertSRGBToLinear()}}else if(a[t]=n,a[t]instanceof Qr&&a[t].format===Oe&&a[t].type===_e){const e=a[t];Vg(e)&&Vg(o.gl)?e.colorSpace=o.gl.outputColorSpace:e.encoding=o.gl.outputEncoding}gp(e)}if(s.parent&&o.internal&&e.raycast&&c!==s.eventCount){const t=o.internal.interaction.indexOf(e);t>-1&&o.internal.interaction.splice(t,1),s.eventCount&&o.internal.interaction.push(e)}return!(1===A.length&&"onUpdate"===A[0][0])&&A.length&&null!=(i=e.__r3f)&&i.parent&&pp(e),e}function gp(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function pp(e){null==e.onUpdate||e.onUpdate(e)}function fp(e,t){e.manual||(Kg(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function mp(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Cp(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function Ip(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){const r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(mp(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(s){const{onPointerMissed:a,internal:o}=e.getState();o.lastEvent.current=s;const l="onPointerMove"===i,A="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,c=function(t,n){const r=e.getState(),i=new Set,s=[],a=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<a.length;e++){const t=rp(a[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let o=a.flatMap((function(e){const n=rp(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r})).sort(((e,t)=>{const n=rp(e.object),r=rp(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{const t=mp(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(o=r.events.filter(o,r));for(const e of o){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&s.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(mp(e.intersection))||s.push(e.intersection);return s}(s,l?t:void 0),u=A?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(s):0;"onPointerDown"===i&&(o.initialClick=[s.offsetX,s.offsetY],o.initialHits=c.map((e=>e.eventObject))),A&&!c.length&&u<=2&&(r(s,o.interaction),a&&a(s)),l&&n(c),function(t,r,i,s){const a=e.getState();if(t.length){const e={stopped:!1};for(const o of t){const l=rp(o.object)||a,{raycaster:A,pointer:c,camera:u,internal:h}=l,d=new Ur(c.x,c.y,0).unproject(u),g=e=>{var t,n;return null!=(t=null==(n=h.capturedMap.get(e))?void 0:n.has(o.eventObject))&&t},p=e=>{const t={intersection:o,target:r.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(o.eventObject,t):h.capturedMap.set(e,new Map([[o.eventObject,t]])),r.target.setPointerCapture(e)},f=e=>{const t=h.capturedMap.get(e);t&&Cp(h.capturedMap,o.eventObject,t,e)};let m={};for(let e in r){let t=r[e];"function"!==typeof t&&(m[e]=t)}let C={...o,...m,pointer:c,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:d,ray:A.ray,camera:u,stopPropagation(){const i="pointerId"in r&&h.capturedMap.get(r.pointerId);(!i||i.has(o.eventObject))&&(C.stopped=e.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find((e=>e.eventObject===o.eventObject)))&&n([...t.slice(0,t.indexOf(o)),o])},target:{hasPointerCapture:g,setPointerCapture:p,releasePointerCapture:f},currentTarget:{hasPointerCapture:g,setPointerCapture:p,releasePointerCapture:f},nativeEvent:r};if(s(C),!0===e.stopped)break}}}(c,s,u,(function(e){const t=e.eventObject,n=t.__r3f,a=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){const t=mp(e),n=o.hovered.get(t);n?n.stopped&&e.stopPropagation():(o.hovered.set(t,e),null==a.onPointerOver||a.onPointerOver(e),null==a.onPointerEnter||a.onPointerEnter(e))}null==a.onPointerMove||a.onPointerMove(e)}else{const n=a[i];n?A&&!o.initialHits.includes(t)||(r(s,o.interaction.filter((e=>!o.initialHits.includes(e)))),n(e)):A&&o.initialHits.includes(t)&&r(s,o.interaction.filter((e=>!o.initialHits.includes(e))))}}))}}}}const vp=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Ep=e=>!(null==e||!e.render),Bp=r.createContext(null),yp=(e,t)=>{const n=Lg(((n,i)=>{const s=new Ur,a=new Ur,o=new Ur;function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size;const{width:r,height:l,top:A,left:c}=n,u=r/l;t instanceof Ur?o.copy(t):o.set(...t);const h=e.getWorldPosition(s).distanceTo(o);if(Kg(e))return{width:r/e.zoom,height:l/e.zoom,top:A,left:c,factor:1,distance:h,aspect:u};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*h,i=n*(r/l);return{width:i,height:n,top:A,left:c,factor:r/i,distance:h,aspect:u}}}let A;const c=e=>n((t=>({performance:{...t.performance,current:e}}))),u=new sr,h={set:n,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:(e,n)=>t(e,n,i()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new dd,pointer:u,mouse:u,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=i();A&&clearTimeout(A),e.performance.current!==e.performance.min&&c(e.performance.min),A=setTimeout((()=>c(i().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>n((t=>({...t,events:{...t.events,...e}}))),setSize:(e,t,r,s,o)=>{const A=i().camera,c={width:e,height:t,top:s||0,left:o||0,updateStyle:r};n((e=>({size:c,viewport:{...e.viewport,...l(A,a,c)}})))},setDpr:e=>n((t=>{const n=np(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}})),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";const t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:r.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{const n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}};return h})),i=n.getState();let s=i.size,a=i.viewport.dpr,o=i.camera;return n.subscribe((()=>{const{camera:e,size:t,viewport:r,gl:i,set:l}=n.getState();if(t.width!==s.width||t.height!==s.height||r.dpr!==a){var A;s=t,a=r.dpr,fp(e,t),i.setPixelRatio(r.dpr);const n=null!=(A=t.updateStyle)?A:"undefined"!==typeof HTMLCanvasElement&&i.domElement instanceof HTMLCanvasElement;i.setSize(t.width,t.height,n)}e!==o&&(o=e,l((t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}}))))})),n.subscribe((t=>e(t))),n};let wp,bp=new Set,xp=new Set,Sp=new Set;function Qp(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function Mp(e,t){switch(e){case"before":return Qp(bp,t);case"after":return Qp(xp,t);case"tail":return Qp(Sp,t)}}let _p,Dp;function Rp(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),_p=t.internal.subscribers,wp=0;wp<_p.length;wp++)Dp=_p[wp],Dp.ref.current(Dp.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function Tp(){const e=r.useContext(Bp);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function Np(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return Tp()(e,t)}function Lp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Tp(),r=n.getState().internal.subscribe,i=jg(e);return qg((()=>r(i,t,n)),[t,r,n]),null}const Pp=new WeakMap;function Fp(e,t){return function(n){let r=Pp.get(n);r||(r=new n,Pp.set(n,r)),e&&e(r);for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return Promise.all(s.map((e=>new Promise(((n,i)=>r.load(e,(e=>{e.scene&&Object.assign(e,sp(e.scene)),n(e)}),t,(t=>i(new Error("Could not load ".concat(e,": ").concat(null==t?void 0:t.message)))))))))).finally((()=>null==r.dispose?void 0:r.dispose()))}}function Up(e,t,n,r){const i=Array.isArray(t)?t:[t],s=Og(Fp(n,r),[e,...i],{equal:ip.equ});return Array.isArray(t)?s:s[0]}Up.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return((e,t,n)=>{Hg(e,t,!0,n)})(Fp(n),[e,...r])},Up.clear=function(e,t){return(e=>{if(void 0===e||0===e.length)Gg.splice(0,Gg.length);else{const t=Gg.find((t=>kg(e,t.keys,t.equal)));t&&t.remove()}})([e,...Array.isArray(t)?t:[t]])};const Gp=new Map,{invalidate:kp,advance:Hp}=function(e){let t,n,r,i=!1;function s(a){n=requestAnimationFrame(s),i=!0,t=0,Mp("before",a);for(const n of e.values()){var o;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(o=r.gl.xr)&&o.isPresenting||(t+=Rp(a,r))}if(Mp("after",a),0===t)return Mp("tail",a),i=!1,cancelAnimationFrame(n)}return{loop:s,invalidate:function t(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var a;if(!n)return e.forEach((e=>t(e.store.getState())),r);null!=(a=n.gl.xr)&&a.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+r),i||(i=!0,requestAnimationFrame(s)))},advance:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&Mp("before",t),r)Rp(t,r,i);else for(const s of e.values())Rp(t,s.store.getState());n&&Mp("after",t)}}}(Gp),{reconciler:Op,applyProps:zp}=function(e,t){function n(e,t,n){let r,{args:i=[],attach:s,...a}=t,o="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===a.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=ap(a.object,{type:e,root:n,attach:s,primitive:!0})}else{const t=zg[o];if(!t)throw new Error("R3F: ".concat(o," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(i))throw new Error("R3F: The args prop must be an array!");r=ap(new t(...i),{type:e,root:n,attach:s,memoizedProps:{args:i}})}return void 0===r.__r3f.attach&&(r instanceof Rs?r.__r3f.attach="geometry":r instanceof ss&&(r.__r3f.attach="material")),"inject"!==o&&dp(r,a),r}function r(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?Ap(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||ap(t,{}),t.__r3f.parent=e,pp(t),gp(t))}function i(e,t,n){let r=!1;if(t){var i,s;if(null!=(i=t.__r3f)&&i.attach)Ap(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});const i=e.children.filter((e=>e!==t)),s=i.indexOf(n);e.children=[...i.slice(0,s),t,...i.slice(s)],r=!0}r||null==(s=e.__r3f)||s.objects.push(t),t.__r3f||ap(t,{}),t.__r3f.parent=e,pp(t),gp(t)}}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach((e=>a(t,e,n)))}function a(e,t,n){if(t){var r,i,a;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(i=t.__r3f)&&i.attach)cp(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var o;e.remove(t),null!=(o=t.__r3f)&&o.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach(((e,r)=>{Cp(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}const A=null==(a=t.__r3f)?void 0:a.primitive,c=!A&&(void 0===n?null!==t.dispose:n);var l;if(!A)s(null==(l=t.__r3f)?void 0:l.objects,t,c),s(t.children,t,c);delete t.__r3f,c&&t.dispose&&"Scene"!==t.type&&(0,Ug.unstable_scheduleCallback)(Ug.unstable_IdlePriority,(()=>{try{t.dispose()}catch(e){}})),gp(e)}}const o=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Fg()({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&a(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:i,...s}=r,{args:a=[],children:o,...l}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some(((e,t)=>e!==a[t])))return[!0];const A=up(e,s,l,!0);return A.changes.length?[!1,A]:null}},commitUpdate(e,t,i,s,o,l){let[A,c]=t;A?function(e,t,i,s){var o;const l=null==(o=e.__r3f)?void 0:o.parent;if(!l)return;const A=n(t,i,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&r(A,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>r(A,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||a(l,e),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),r(l,A),A.raycast&&A.__r3f.eventCount&&A.__r3f.root.getState().internal.interaction.push(A);[s,s.alternate].forEach((e=>{null!==e&&(e.stateNode=A,e.ref&&("function"===typeof e.ref?e.ref(A):e.ref.current=A))}))}(e,i,o,l):dp(e,c)},commitMount(e,t,n,r){var i;const s=null!=(i=e.__r3f)?i:{};e.raycast&&s.handlers&&s.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>ap(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&cp(r,e,n),e.isObject3D&&(e.visible=!1),gp(e)},unhideInstance(e,t){var n;const{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&Ap(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),gp(e)},createTextInstance:o,hideTextInstance:o,unhideTextInstance:o,getCurrentEventPriority:()=>t?t():Rg.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!==typeof performance&&ip.fun(performance.now)?performance.now:ip.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ip.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ip.fun(clearTimeout)?clearTimeout:void 0}),applyProps:dp}}(0,(function(){var e;const t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return Rg.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Rg.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Rg.ContinuousEventPriority;default:return Rg.DefaultEventPriority}})),Yp={objects:"shallow",strict:!1},Wp=(e,t)=>{const n="function"===typeof e?e(t):e;return Ep(n)?n:new $l({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function Vp(e){const t=Gp.get(e),n=null==t?void 0:t.fiber,i=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const s="function"===typeof reportError?reportError:console.error,a=i||yp(kp,Hp),o=n||Op.createContainer(a,Rg.ConcurrentRoot,null,!1,null,"",s,null);let l;t||Gp.set(e,{fiber:o,store:a});let A,c=!1;return{configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:n,size:r,scene:i,events:s,onCreated:o,shadows:u=!1,linear:f=!1,flat:m=!1,legacy:C=!1,orthographic:I=!1,frameloop:v="always",dpr:E=[1,2],performance:B,raycaster:y,camera:w,onPointerMissed:b}=t,x=a.getState(),S=x.gl;x.gl||x.set({gl:S=Wp(n,e)});let Q=x.raycaster;Q||x.set({raycaster:Q=new Yd});const{params:M,..._}=y||{};if(ip.equ(_,Q,Yp)||zp(Q,{..._}),ip.equ(M,Q.params,Yp)||zp(Q,{params:{...Q.params,...M}}),!x.camera||x.camera===A&&!ip.equ(A,w,Yp)){A=w;const e=w instanceof ia,t=e?w:I?new _a(0,0,0,0,.1,1e3):new sa(75,0,.1,1e3);e||(t.position.z=5,w&&zp(t,w),x.camera||null!=w&&w.rotation||t.lookAt(0,0,0)),x.set({camera:t}),Q.camera=t}if(!x.scene){let e;i instanceof rA?e=i:(e=new rA,i&&zp(e,i)),x.set({scene:ap(e)})}if(!x.xr){var D;const e=(e,t)=>{const n=a.getState();"never"!==n.frameloop&&Hp(e,!0,n,t)},t=()=>{const t=a.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||kp(t)},n={connect(){const e=a.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=a.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"===typeof(null==(D=S.xr)?void 0:D.addEventListener)&&n.connect(),x.set({xr:n})}if(S.shadowMap){const e=S.shadowMap.enabled,t=S.shadowMap.type;if(S.shadowMap.enabled=!!u,ip.boo(u))S.shadowMap.type=g;else if(ip.str(u)){var R;const e={basic:h,percentage:d,soft:g,variance:p};S.shadowMap.type=null!=(R=e[u])?R:g}else ip.obj(u)&&Object.assign(S.shadowMap,u);e===S.shadowMap.enabled&&t===S.shadowMap.type||(S.shadowMap.needsUpdate=!0)}const T=Jg();T&&("enabled"in T?T.enabled=!C:"legacyMode"in T&&(T.legacyMode=C));zp(S,{outputEncoding:f?3e3:3001,toneMapping:m?re:oe}),x.legacy!==C&&x.set((()=>({legacy:C}))),x.linear!==f&&x.set((()=>({linear:f}))),x.flat!==m&&x.set((()=>({flat:m}))),!n||ip.fun(n)||Ep(n)||ip.equ(n,S,Yp)||zp(S,n),s&&!x.events.handlers&&x.set({events:s(a)});const N=function(e,t){const n="undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){const{width:e,height:r,top:i,left:s,updateStyle:a=n}=t;return{width:e,height:r,top:i,left:s,updateStyle:a}}if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:r,top:i,left:s}=e.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s,updateStyle:n}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,r);return ip.equ(N,x.size,Yp)||x.setSize(N.width,N.height,N.updateStyle,N.top,N.left),E&&x.viewport.dpr!==np(E)&&x.setDpr(E),x.frameloop!==v&&x.setFrameloop(v),x.onPointerMissed||x.set({onPointerMissed:b}),B&&!ip.equ(B,x.performance,Yp)&&x.set((e=>({performance:{...e.performance,...B}}))),l=o,c=!0,this},render(t){return c||this.configure(),Op.updateContainer(r.createElement(Jp,{store:a,children:t,onCreated:l,rootElement:e}),o,null,(()=>{})),a},unmount(){Kp(e)}}}function Jp(e){let{store:t,children:n,onCreated:i,rootElement:s}=e;return qg((()=>{const e=t.getState();e.set((e=>({internal:{...e.internal,active:!0}}))),i&&i(e),t.getState().events.connected||null==e.events.connect||e.events.connect(s)}),[]),r.createElement(Bp.Provider,{value:t},n)}function Kp(e,t){const n=Gp.get(e),r=null==n?void 0:n.fiber;if(r){const i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),Op.updateContainer(null,r,null,(()=>{i&&setTimeout((()=>{try{var n,r,s,a;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(s=i.gl)||null==s.forceContextLoss||s.forceContextLoss(),null!=(a=i.gl)&&a.xr&&i.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(i),Gp.delete(e),t&&t(e)}catch(o){}}),500)}))}}function qp(e,t,n){return r.createElement(jp,{key:t.uuid,children:e,container:t,state:n})}function jp(e){let{state:t={},children:n,container:i}=e;const{events:s,size:a,...o}=t,l=Tp(),[A]=r.useState((()=>new Yd)),[c]=r.useState((()=>new sr)),u=r.useCallback(((e,t)=>{const n={...e};let r;if(Object.keys(e).forEach((r=>{(vp.includes(r)||e[r]!==t[r]&&t[r])&&delete n[r]})),t&&a){const n=t.camera;r=e.viewport.getCurrentViewport(n,new Ur,a),n!==e.camera&&fp(n,a)}return{...n,scene:i,raycaster:A,pointer:c,mouse:c,previousRoot:l,events:{...e.events,...null==t?void 0:t.events,...s},size:{...e.size,...a},viewport:{...e.viewport,...r},...o}}),[t]),[h]=r.useState((()=>{const e=l.getState(),t=Lg(((t,n)=>({...e,scene:i,raycaster:A,pointer:c,mouse:c,previousRoot:l,events:{...e.events,...s},size:{...e.size,...a},...o,set:t,get:n,setEvents:e=>t((t=>({...t,events:{...t.events,...e}})))})));return t}));return r.useEffect((()=>{const e=l.subscribe((e=>h.setState((t=>u(e,t)))));return()=>{e(),h.destroy()}}),[]),r.useEffect((()=>{h.setState((e=>u(l.getState(),e)))}),[u]),r.createElement(r.Fragment,null,Op.createPortal(r.createElement(Bp.Provider,{value:h},n),h,null))}Op.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:r.version});r.unstable_act;const Xp=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,s={setState:r,getState:i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,s),s},Zp=e=>e?Xp(e):Xp;var $p=n(327);const{useDebugValue:ef}=r,{useSyncExternalStoreWithSelector:tf}=$p;let nf=!1;const rf=e=>{"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"===typeof e?Zp(e):e,n=(e,n)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getState,n=arguments.length>2?arguments[2]:void 0;n&&!nf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),nf=!0);const r=tf(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return ef(r),r}(t,e,n);return Object.assign(n,t),n},sf=e=>e?rf(e):rf;const af=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"];function of(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"generic-hand";return"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ff,"/").concat(t,"/").concat(e,".glb")}const lf={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};const Af={xAxis:0,yAxis:0,button:0,state:lf.ComponentState.DEFAULT};class cf{constructor(e){this.componentProperty=e.componentProperty,this.states=e.states,this.valueNodeName=e.valueNodeName,this.valueNodeProperty=e.valueNodeProperty,this.valueNodeProperty===lf.VisualResponseProperty.TRANSFORM&&(this.minNodeName=e.minNodeName,this.maxNodeName=e.maxNodeName),this.value=0,this.updateFromComponent(Af)}updateFromComponent(e){let{xAxis:t,yAxis:n,button:r,state:i}=e;const{normalizedXAxis:s,normalizedYAxis:a}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e,r=t;if(Math.sqrt(e*e+t*t)>1){const i=Math.atan2(t,e);n=Math.cos(i),r=Math.sin(i)}return{normalizedXAxis:.5*n+.5,normalizedYAxis:.5*r+.5}}(t,n);switch(this.componentProperty){case lf.ComponentProperty.X_AXIS:this.value=this.states.includes(i)?s:.5;break;case lf.ComponentProperty.Y_AXIS:this.value=this.states.includes(i)?a:.5;break;case lf.ComponentProperty.BUTTON:this.value=this.states.includes(i)?r:0;break;case lf.ComponentProperty.STATE:this.valueNodeProperty===lf.VisualResponseProperty.VISIBILITY?this.value=this.states.includes(i):this.value=this.states.includes(i)?1:0;break;default:throw new Error("Unexpected visualResponse componentProperty ".concat(this.componentProperty))}}}class uf{constructor(e,t){if(!e||!t||!t.visualResponses||!t.gamepadIndices||0===Object.keys(t.gamepadIndices).length)throw new Error("Invalid arguments supplied");this.id=e,this.type=t.type,this.rootNodeName=t.rootNodeName,this.touchPointNodeName=t.touchPointNodeName,this.visualResponses={},Object.keys(t.visualResponses).forEach((e=>{const n=new cf(t.visualResponses[e]);this.visualResponses[e]=n})),this.gamepadIndices=Object.assign({},t.gamepadIndices),this.values={state:lf.ComponentState.DEFAULT,button:void 0!==this.gamepadIndices.button?0:void 0,xAxis:void 0!==this.gamepadIndices.xAxis?0:void 0,yAxis:void 0!==this.gamepadIndices.yAxis?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(e){if(this.values.state=lf.ComponentState.DEFAULT,void 0!==this.gamepadIndices.button&&e.buttons.length>this.gamepadIndices.button){const t=e.buttons[this.gamepadIndices.button];this.values.button=t.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,t.pressed||1===this.values.button?this.values.state=lf.ComponentState.PRESSED:(t.touched||this.values.button>lf.ButtonTouchThreshold)&&(this.values.state=lf.ComponentState.TOUCHED)}void 0!==this.gamepadIndices.xAxis&&e.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=e.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===lf.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>lf.AxisTouchThreshold&&(this.values.state=lf.ComponentState.TOUCHED)),void 0!==this.gamepadIndices.yAxis&&e.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=e.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===lf.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>lf.AxisTouchThreshold&&(this.values.state=lf.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach((e=>{e.updateFromComponent(this.values)}))}}class hf{constructor(e,t,n){if(!e)throw new Error("No xrInputSource supplied");if(!t)throw new Error("No profile supplied");this.xrInputSource=e,this.assetUrl=n,this.id=t.profileId,this.layoutDescription=t.layouts[e.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach((e=>{const t=this.layoutDescription.components[e];this.components[e]=new uf(e,t)})),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const e=[];return Object.values(this.components).forEach((t=>{e.push(t.data)})),e}updateFromGamepad(){Object.values(this.components).forEach((e=>{e.updateFromGamepad(this.xrInputSource.gamepad)}))}}const{Constants:df}=t,gf="generic-trigger";function pf(e,t){const n=e.layouts["any"===t?Object.keys(e.layouts)[0]:t];if(null==n)throw new Error("No matching handedness, ".concat(t,", in profile ").concat(e.profileId));return e.profilePath.replace("profile.json",n.assetPath)}new Ur,new Fr;new Map,new gi,new gi;new gi,new gi,new Fr,new Fr;const ff="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles";new Map;new Map;const mf=new Map;function Cf(e){let t=mf.get(e);return null==t&&mf.set(e,t=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)),t}const If={mode:"none",onNextFrameCallbacks:new Set},vf=sf(((e,t)=>function(){return Object.assign({},e,t(...arguments))})(If,((e,t)=>({onFrame:(n,r,i)=>{const{trackedImages:s,requestedTrackedImages:a,trackedMeshes:o,trackedPlanes:l,onNextFrameCallbacks:A}=t();for(const e of A)e(n,r,i);A.clear();const c=n.get().gl.xr.getReferenceSpace();if(null==c)return;const u=null===i||void 0===i?void 0:i.detectedPlanes;if(!Ef(u,l)){const t=null==u?void 0:Array.from(u);if(null!=t)for(const e of t)e.initialPose=null===i||void 0===i?void 0:i.getPose(e.planeSpace,c);e({trackedPlanes:t})}const h=null===i||void 0===i?void 0:i.detectedMeshes;if(!Ef(h,o)){const t=null==h?void 0:Array.from(h);if(null!=t)for(const e of t)e.initialPose=null===i||void 0===i?void 0:i.getPose(e.meshSpace,c);e({trackedMeshes:t})}if(null!=s&&null!=a&&a.length>0&&(s.clear(),null!=i&&"getImageTrackingResults"in i)){const e=i.getImageTrackingResults();for(const t of e)t.initialPose=i.getPose(t.imageSpace,c),s.set(t.index,t)}},setStore(t){e({store:t})},addLayer(e,n){const{session:r,layers:i}=t();null!=i&&null!=r&&(i.push({index:e,layer:n}),i.sort(((e,t)=>{let{index:n}=e,{index:r}=t;return n-r})),r.updateRenderState({layers:i.map((e=>{let{layer:t}=e;return t}))}))},removeLayer(e){const n=t();null!=n.layers&&null!=n.session&&(n.layers=n.layers.filter((t=>{let{layer:n}=t;return n!=e})),n.session.updateRenderState({layers:n.layers.map((e=>{let{layer:t}=e;return t}))}))},onVisibilityStateChanged(n){"none"!==t().mode?e({visibilityState:n.session.visibilityState}):console.warn('received onVsibilityStateChanged while in xr mode "none"')},onXRInputSourcesChanged(n){const r=t();if("none"===r.mode)return void console.warn('received XRInputSourceChangeEvent while in xr mode "none"');const i=new Map(r.inputSources);for(const e of n.removed)i.delete(Cf(e));for(const e of n.added)i.set(Cf(e),e);e({inputSources:i})},onXREnd(n){const{store:r,initialCamera:i}=t();if(null==r)return;e({mode:"none",session:void 0,inputSources:void 0,initialCamera:void 0,layers:void 0,requestedTrackedImages:void 0,trackedImages:void 0,trackedPlanes:void 0,visibilityState:void 0});const{camera:s}=r.getState();s===r.getState().gl.xr.getCamera()&&r.setState({camera:i})},async setSession(n,r,i){if(null!=i&&i.length>0&&"getTrackedImageScores"in n){const e=await n.getTrackedImageScores();for(let t=0;t<e.length;++t)"untrackable"==e[t]&&console.error('Provided image at index "'.concat(t,'" is untrackable.'),null===i||void 0===i?void 0:i[t])}const s=t().session;null!=s&&(s.removeEventListener("inputsourceschange",this.onXRInputSourcesChanged),s.removeEventListener("end",this.onXREnd),s.removeEventListener("visibilitychange",this.onVisibilityStateChanged),s.end().catch(console.error));const a=t().store;if(null==a)return;const o=new Map;for(const e of n.inputSources)o.set(Cf(e),e);n.addEventListener("inputsourceschange",this.onXRInputSourcesChanged),n.addEventListener("end",this.onXREnd),n.addEventListener("visibilitychange",this.onVisibilityStateChanged);const{gl:l,camera:A}=a.getState();await l.xr.setSession(n),e({mode:r,session:n,inputSources:o,initialCamera:A,trackedImages:new Map,visibilityState:n.visibilityState,requestedTrackedImages:i,layers:[{index:0,layer:l.xr.getBaseLayer()}],trackedPlanes:[]}),a.setState({camera:l.xr.getCamera()})}}))));function Ef(e,t){if(e===t)return!0;if(null==e||e.size!=(null===t||void 0===t?void 0:t.length))return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Bf(e,t){return(0,r.useCallback)((async()=>{const n=navigator.xr;if(null==n)return;const r=await n.requestSession(e,t);vf.getState().setSession(r,e,null===t||void 0===t?void 0:t.trackedImages)}),[e,t])}function yf(e,t,n,r,i,s){const a=e.gl.xr.getReferenceSpace();if(null==a||null==n)return void(r.visible=!1);const o=n.getPose(i,a);wf(e,t,n,r,o,s)}function wf(e,t,n,r,i,s){null!=i?(r.visible=!0,r.matrix.fromArray(i.transform.matrix),null!=s&&(r.updateMatrixWorld(),s(e,t,n,r))):r.visible=!1}const bf=(0,r.forwardRef)(((e,t)=>{let{space:n,children:i,initialPose:s,onFrame:a,as:o=Vl}=e;const l=(0,r.useMemo)((()=>{const e=new o;return e.matrixAutoUpdate=!1,e}),[]);return(0,r.useImperativeHandle)(t,(()=>l),[]),function(e,t,n,r){const i=vf.getState(),s=e instanceof Gi?e:e.current;null!=s&&null!=i.store&&null!=n&&wf(i.store.getState(),0,void 0,s,n,r),Lp(((n,i,s)=>{const a=e instanceof Gi?e:e.current;null!=a&&yf(n,i,s,a,t,r)}),-10)}(l,n,s,a),r.createElement("primitive",{object:l},i)}));new Ur,new Ur,new Ur,new Fr;function xf(e){let{children:t}=e;const n=vf((e=>e.visibilityState));return"visible"!=n&&null!=n?null:r.createElement(r.Fragment,null,t)}function Sf(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function Qf(e,t,n,i){const s=vf((e=>e.session));(0,r.useEffect)((()=>{if(null==s)return;const r=Cf(t),i=e=>{e.inputSource==t&&(e.pointerId=r,n(e))};return s.addEventListener(e,i),()=>{s.removeEventListener(e,i)}}),[s,e,t,...i])}function Mf(){return vf((e=>null!=e.inputSources?Array.from(e.inputSources.values()):[]),Sf)}const _f=[];function Df(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function Rf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(const s of _f)if(Df(t,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!n)throw s.promise}const i={keys:t,equal:r.equal,promise:e(...t).then((e=>i.response=e)).then((()=>{r.lifespan&&r.lifespan>0&&setTimeout((()=>{const e=_f.indexOf(i);-1!==e&&_f.splice(e,1)}),r.lifespan)})).catch((e=>i.error=e))};if(_f.push(i),!n)throw i.promise}const Tf=(e,t,n)=>Rf(e,t,!1,n);function Nf(e,t){if(t===Ht)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===zt||t===Ot){let n=e.getIndex();if(null===n){const t=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const r=n.count-2,i=[];if(t===zt)for(let e=1;e<=r;e++)i.push(n.getX(0)),i.push(n.getX(e)),i.push(n.getX(e+1));else for(let e=0;e<r;e++)e%2===0?(i.push(n.getX(e)),i.push(n.getX(e+1)),i.push(n.getX(e+2))):(i.push(n.getX(e+2)),i.push(n.getX(e+1)),i.push(n.getX(e)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=e.clone();return s.setIndex(i),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}class Lf extends Bh{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new Hf(e)})),this.register((function(e){return new qf(e)})),this.register((function(e){return new jf(e)})),this.register((function(e){return new Xf(e)})),this.register((function(e){return new zf(e)})),this.register((function(e){return new Yf(e)})),this.register((function(e){return new Wf(e)})),this.register((function(e){return new Vf(e)})),this.register((function(e){return new kf(e)})),this.register((function(e){return new Jf(e)})),this.register((function(e){return new Of(e)})),this.register((function(e){return new Kf(e)})),this.register((function(e){return new Uf(e)})),this.register((function(e){return new Zf(e)})),this.register((function(e){return new $f(e)}))}load(e,t,n,r){const i=this;let s;s=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Zh.extractUrlBase(e),this.manager.itemStart(e);const a=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},o=new bh(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{i.parse(n,s,(function(n){t(n),i.manager.itemEnd(e)}),a)}catch(r){a(r)}}),n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let i;const s={},a={},o=new TextDecoder;if("string"===typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer){if(o.decode(new Uint8Array(e,0,4))===em){try{s[Ff.KHR_BINARY_GLTF]=new rm(e)}catch(A){return void(r&&r(A))}i=JSON.parse(s[Ff.KHR_BINARY_GLTF].content)}else i=JSON.parse(o.decode(e))}else i=e;if(void 0===i.asset||i.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new Qm(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const e=this.pluginCallbacks[c](l);e.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[e.name]=e,s[e.name]=!0}if(i.extensionsUsed)for(let c=0;c<i.extensionsUsed.length;++c){const e=i.extensionsUsed[c],t=i.extensionsRequired||[];switch(e){case Ff.KHR_MATERIALS_UNLIT:s[e]=new Gf;break;case Ff.KHR_DRACO_MESH_COMPRESSION:s[e]=new im(i,this.dracoLoader);break;case Ff.KHR_TEXTURE_TRANSFORM:s[e]=new sm;break;case Ff.KHR_MESH_QUANTIZATION:s[e]=new am;break;default:t.indexOf(e)>=0&&void 0===a[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}l.setExtensions(s),l.setPlugins(a),l.parse(n,r)}parseAsync(e,t){const n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}function Pf(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const Ff={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Uf{constructor(e){this.parser=e,this.name=Ff.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const i=t.json,s=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let a;const o=new ns(16777215);void 0!==s.color&&o.setRGB(s.color[0],s.color[1],s.color[2],Zt);const l=void 0!==s.range?s.range:0;switch(s.type){case"directional":a=new Vh(o),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new Yh(o),a.distance=l;break;case"spot":a=new Gh(o),a.distance=l,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,a.angle=s.spot.outerConeAngle,a.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return a.position.set(0,0,0),a.decay=2,Bm(a,s),void 0!==s.intensity&&(a.intensity=s.intensity),a.name=t.createUniqueName(s.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}class Gf{constructor(){this.name=Ff.KHR_MATERIALS_UNLIT}getMaterialType(){return as}extendParams(e,t,n){const r=[];e.color=new ns(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],Zt),e.opacity=t[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,Xt))}return Promise.all(r)}}class kf{constructor(e){this.parser=e,this.name=Ff.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}class Hf{constructor(e){this.parser=e,this.name=Ff.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];if(void 0!==s.clearcoatFactor&&(t.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){const e=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new sr(e,e)}return Promise.all(i)}}class Of{constructor(e){this.parser=e,this.name=Ff.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return void 0!==s.iridescenceFactor&&(t.iridescence=s.iridescenceFactor),void 0!==s.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),void 0!==s.iridescenceIor&&(t.iridescenceIOR=s.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==s.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),void 0!==s.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),void 0!==s.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(i)}}class zf{constructor(e){this.parser=e,this.name=Ff.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new ns(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=r.extensions[this.name];if(void 0!==s.sheenColorFactor){const e=s.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],Zt)}return void 0!==s.sheenRoughnessFactor&&(t.sheenRoughness=s.sheenRoughnessFactor),void 0!==s.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Xt)),void 0!==s.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(i)}}class Yf{constructor(e){this.parser=e,this.name=Ff.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return void 0!==s.transmissionFactor&&(t.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(i)}}class Wf{constructor(e){this.parser=e,this.name=Ff.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];t.thickness=void 0!==s.thicknessFactor?s.thicknessFactor:0,void 0!==s.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return t.attenuationColor=(new ns).setRGB(a[0],a[1],a[2],Zt),Promise.all(i)}}class Vf{constructor(e){this.parser=e,this.name=Ff.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class Jf{constructor(e){this.parser=e,this.name=Ff.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];t.specularIntensity=void 0!==s.specularFactor?s.specularFactor:1,void 0!==s.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularColor=(new ns).setRGB(a[0],a[1],a[2],Zt),void 0!==s.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",s.specularColorTexture,Xt)),Promise.all(i)}}class Kf{constructor(e){this.parser=e,this.name=Ff.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return void 0!==s.anisotropyStrength&&(t.anisotropy=s.anisotropyStrength),void 0!==s.anisotropyRotation&&(t.anisotropyRotation=s.anisotropyRotation),void 0!==s.anisotropyTexture&&i.push(n.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(i)}}class qf{constructor(e){this.parser=e,this.name=Ff.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,s)}}class jf{constructor(e){this.parser=e,this.name=Ff.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const s=i.extensions[t],a=r.images[s.source];let o=n.textureLoader;if(a.uri){const e=n.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,s.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class Xf{constructor(e){this.parser=e,this.name=Ff.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const s=i.extensions[t],a=r.images[s.source];let o=n.textureLoader;if(a.uri){const e=n.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,s.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class Zf{constructor(e){this.name=Ff.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then((function(t){const n=e.byteOffset||0,r=e.byteLength||0,s=e.count,a=e.byteStride,o=new Uint8Array(t,n,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(s,a,o,e.mode,e.filter).then((function(e){return e.buffer})):i.ready.then((function(){const t=new ArrayBuffer(s*a);return i.decodeGltfBuffer(new Uint8Array(t),s,a,o,e.mode,e.filter),t}))}))}return null}}class $f{constructor(e){this.name=Ff.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const r=t.meshes[n.mesh];for(const o of r.primitives)if(o.mode!==cm.TRIANGLES&&o.mode!==cm.TRIANGLE_STRIP&&o.mode!==cm.TRIANGLE_FAN&&void 0!==o.mode)return null;const i=n.extensions[this.name].attributes,s=[],a={};for(const o in i)s.push(this.parser.getDependency("accessor",i[o]).then((e=>(a[o]=e,a[o]))));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then((e=>{const t=e.pop(),n=t.isGroup?t.children:[t],r=e[0].count,i=[];for(const s of n){const e=new gi,t=new Ur,n=new Fr,o=new Ur(1,1,1),l=new qA(s.geometry,s.material,r);for(let i=0;i<r;i++)a.TRANSLATION&&t.fromBufferAttribute(a.TRANSLATION,i),a.ROTATION&&n.fromBufferAttribute(a.ROTATION,i),a.SCALE&&o.fromBufferAttribute(a.SCALE,i),l.setMatrixAt(i,e.compose(t,n,o));for(const r in a)if("_COLOR_0"===r){const e=a[r];l.instanceColor=new HA(e.array,e.itemSize,e.normalized)}else"TRANSLATION"!==r&&"ROTATION"!==r&&"SCALE"!==r&&s.geometry.setAttribute(r,a[r]);Gi.prototype.copy.call(l,s),this.parser.assignFinalMaterial(l),i.push(l)}return t.isGroup?(t.clear(),t.add(...i),t):i[0]})))}}const em="glTF",tm=1313821514,nm=5130562;class rm{constructor(e){this.name=Ff.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==em)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-12,i=new DataView(e,12);let s=0;for(;s<r;){const t=i.getUint32(s,!0);s+=4;const r=i.getUint32(s,!0);if(s+=4,r===tm){const r=new Uint8Array(e,12+s,t);this.content=n.decode(r)}else if(r===nm){const n=12+s;this.body=e.slice(n,n+t)}s+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class im{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ff.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},o={},l={};for(const A in s){const e=pm[A]||A.toLowerCase();a[e]=s[A]}for(const A in e.attributes){const t=pm[A]||A.toLowerCase();if(void 0!==s[A]){const r=n.accessors[e.attributes[A]],i=um[r.componentType];l[t]=i.name,o[t]=!0===r.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],r=o[t];void 0!==r&&(n.normalized=r)}t(e)}),a,l)}))}))}}class sm{constructor(){this.name=Ff.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}class am{constructor(){this.name=Ff.KHR_MESH_QUANTIZATION}}class om extends sh{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let s=0;s!==r;s++)t[s]=n[i+s];return t}interpolate_(e,t,n,r){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=2*a,l=3*a,A=r-t,c=(n-t)/A,u=c*c,h=u*c,d=e*l,g=d-l,p=-2*h+3*u,f=h-u,m=1-p,C=f-u+c;for(let I=0;I!==a;I++){const e=s[g+I+a],t=s[g+I+o]*A,n=s[d+I+a],r=s[d+I]*A;i[I]=m*e+C*t+p*n+f*r}return i}}const lm=new Fr;class Am extends om{interpolate_(e,t,n,r){const i=super.interpolate_(e,t,n,r);return lm.fromArray(i).normalize().toArray(i),i}}const cm={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},um={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},hm={9728:ve,9729:be,9984:Ee,9985:xe,9986:ye,9987:Qe},dm={33071:Ce,33648:Ie,10497:me},gm={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},pm={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},fm={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},mm={CUBICSPLINE:void 0,LINEAR:Nt,STEP:Tt},Cm="OPAQUE",Im="MASK",vm="BLEND";function Em(e,t,n){for(const r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Bm(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function ym(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function wm(e){let t;const n=e.extensions&&e.extensions[Ff.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+bm(n.attributes):e.indices+":"+bm(e.attributes)+":"+e.mode,void 0!==e.targets)for(let r=0,i=e.targets.length;r<i;r++)t+=":"+bm(e.targets[r]);return t}function bm(e){let t="";const n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function xm(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Sm=new gi;class Qm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Pf,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=!1,i=-1;"undefined"!==typeof navigator&&(n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,i=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"===typeof createImageBitmap||n||r&&i<98?this.textureLoader=new Dh(this.options.manager):this.textureLoader=new sd(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new bh(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const s={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};return Em(i,s,r),Bm(s,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(s)}))).then((function(){e(s)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,i=t.length;r<i;r++){const n=t[r].joints;for(let t=0,r=n.length;t<r;t++)e[n[t]].isBone=!0}for(let r=0,i=e.length;r<i;r++){const t=e[r];void 0!==t.mesh&&(this._addNodeRef(this.meshCache,t.mesh),void 0!==t.skin&&(n[t.mesh].isSkinnedMesh=!0)),void 0!==t.camera&&this._addNodeRef(this.cameraCache,t.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),i=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[r,s]of e.children.entries())i(s,t.children[r])};return i(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})),!r)throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Ff.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(e,i){n.load(Zh.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){const e=gm[r.type],t=um[r.componentType],n=!0===r.normalized,i=new t(r.count*e);return Promise.resolve(new gs(i,e,n))}const i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){const i=e[0],s=gm[r.type],a=um[r.componentType],o=a.BYTES_PER_ELEMENT,l=o*s,A=r.byteOffset||0,c=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,u=!0===r.normalized;let h,d;if(c&&c!==l){const e=Math.floor(A/c),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count;let l=t.cache.get(n);l||(h=new a(i,e*c,r.count*c/o),l=new iA(h,c/o),t.cache.add(n,l)),d=new aA(l,s,A%c/o,u)}else h=null===i?new a(r.count*s):new a(i,A,r.count*s),d=new gs(h,s,u);if(void 0!==r.sparse){const t=gm.SCALAR,n=um[r.sparse.indices.componentType],o=r.sparse.indices.byteOffset||0,l=r.sparse.values.byteOffset||0,A=new n(e[1],o,r.sparse.count*t),c=new a(e[2],l,r.sparse.count*s);null!==i&&(d=new gs(d.array.slice(),d.itemSize,d.normalized));for(let e=0,r=A.length;e<r;e++){const t=A[e];if(d.setX(t,c[e*s]),s>=2&&d.setY(t,c[e*s+1]),s>=3&&d.setZ(t,c[e*s+2]),s>=4&&d.setW(t,c[e*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return d}))}loadTexture(e){const t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r];let s=this.textureLoader;if(i.uri){const e=n.manager.getHandler(i.uri);null!==e&&(s=e)}return this.loadTextureImage(e,r,s)}loadTextureImage(e,t,n){const r=this,i=this.json,s=i.textures[e],a=i.images[t],o=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[o])return this.textureCache[o];const l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=s.name||a.name||"",""===t.name&&"string"===typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(t.name=a.uri);const n=(i.samplers||{})[s.sampler]||{};return t.magFilter=hm[n.magFilter]||be,t.minFilter=hm[n.minFilter]||Qe,t.wrapS=dm[n.wrapS]||me,t.wrapT=dm[n.wrapT]||me,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[o]=l,l}loadImageSource(e,t){const n=this,r=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const s=r.images[e],a=self.URL||self.webkitURL;let o=s.uri||"",l=!1;if(void 0!==s.bufferView)o=n.getDependency("bufferView",s.bufferView).then((function(e){l=!0;const t=new Blob([e],{type:s.mimeType});return o=a.createObjectURL(t),o}));else if(void 0===s.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const A=Promise.resolve(o).then((function(e){return new Promise((function(n,r){let s=n;!0===t.isImageBitmapLoader&&(s=function(e){const t=new Qr(e);t.needsUpdate=!0,n(t)}),t.load(Zh.resolveURL(e,i.path),s,void 0,r)}))})).then((function(e){var t;return!0===l&&a.revokeObjectURL(o),e.userData.mimeType=s.mimeType||((t=s.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=A,A}assignTexture(e,t,n,r){const i=this;return this.getDependency("texture",n.index).then((function(s){if(!s)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((s=s.clone()).channel=n.texCoord),i.extensions[Ff.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[Ff.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=i.associations.get(s);s=i.extensions[Ff.KHR_TEXTURE_TRANSFORM].extendTexture(s,e),i.associations.set(s,t)}}return void 0!==r&&(s.colorSpace=r),e[t]=s,s}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,s=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new oc,ss.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new jA,ss.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,this.cache.add(e,t)),n=t}if(r||i||s){let e="ClonedMaterial:"+n.uuid+":";r&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),s&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),i&&(t.vertexColors=!0),s&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}e.material=n}getMaterialType(){return Wu}loadMaterial(e){const t=this,n=this.json,r=this.extensions,i=n.materials[e];let s;const a={},o=[];if((i.extensions||{})[Ff.KHR_MATERIALS_UNLIT]){const e=r[Ff.KHR_MATERIALS_UNLIT];s=e.getMaterialType(),o.push(e.extendParams(a,i,t))}else{const n=i.pbrMetallicRoughness||{};if(a.color=new ns(1,1,1),a.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;a.color.setRGB(e[0],e[1],e[2],Zt),a.opacity=e[3]}void 0!==n.baseColorTexture&&o.push(t.assignTexture(a,"map",n.baseColorTexture,Xt)),a.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,a.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(o.push(t.assignTexture(a,"metalnessMap",n.metallicRoughnessTexture)),o.push(t.assignTexture(a,"roughnessMap",n.metallicRoughnessTexture))),s=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),o.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,a)}))))}!0===i.doubleSided&&(a.side=C);const l=i.alphaMode||Cm;if(l===vm?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,l===Im&&(a.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&s!==as&&(o.push(t.assignTexture(a,"normalMap",i.normalTexture)),a.normalScale=new sr(1,1),void 0!==i.normalTexture.scale)){const e=i.normalTexture.scale;a.normalScale.set(e,e)}if(void 0!==i.occlusionTexture&&s!==as&&(o.push(t.assignTexture(a,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(a.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&s!==as){const e=i.emissiveFactor;a.emissive=(new ns).setRGB(e[0],e[1],e[2],Zt)}return void 0!==i.emissiveTexture&&s!==as&&o.push(t.assignTexture(a,"emissiveMap",i.emissiveTexture,Xt)),Promise.all(o).then((function(){const n=new s(a);return i.name&&(n.name=i.name),Bm(n,i),t.associations.set(n,{materials:e}),i.extensions&&Em(r,n,i),n}))}createUniqueName(e){const t=Nd.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[Ff.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return Mm(n,e,t)}))}const s=[];for(let a=0,o=e.length;a<o;a++){const n=e[a],o=wm(n),l=r[o];if(l)s.push(l.promise);else{let e;e=n.extensions&&n.extensions[Ff.KHR_DRACO_MESH_COMPRESSION]?i(n):Mm(new Rs,n,t),r[o]={primitive:n,promise:e},s.push(e)}}return Promise.all(s)}loadMesh(e){const t=this,n=this.json,r=this.extensions,i=n.meshes[e],s=i.primitives,a=[];for(let l=0,A=s.length;l<A;l++){const e=void 0===s[l].material?(void 0===(o=this.cache).DefaultMaterial&&(o.DefaultMaterial=new Wu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:f})),o.DefaultMaterial):this.getDependency("material",s[l].material);a.push(e)}var o;return a.push(t.loadGeometries(s)),Promise.all(a).then((function(n){const a=n.slice(0,n.length-1),o=n[n.length-1],l=[];for(let c=0,u=o.length;c<u;c++){const n=o[c],A=s[c];let u;const h=a[c];if(A.mode===cm.TRIANGLES||A.mode===cm.TRIANGLE_STRIP||A.mode===cm.TRIANGLE_FAN||void 0===A.mode)u=!0===i.isSkinnedMesh?new LA(n,h):new js(n,h),!0===u.isSkinnedMesh&&u.normalizeSkinWeights(),A.mode===cm.TRIANGLE_STRIP?u.geometry=Nf(u.geometry,Ot):A.mode===cm.TRIANGLE_FAN&&(u.geometry=Nf(u.geometry,zt));else if(A.mode===cm.LINES)u=new sc(n,h);else if(A.mode===cm.LINE_STRIP)u=new nc(n,h);else if(A.mode===cm.LINE_LOOP)u=new ac(n,h);else{if(A.mode!==cm.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);u=new hc(n,h)}Object.keys(u.geometry.morphAttributes).length>0&&ym(u,i),u.name=t.createUniqueName(i.name||"mesh_"+e),Bm(u,i),A.extensions&&Em(r,u,A),t.assignFinalMaterial(u),l.push(u)}for(let r=0,i=l.length;r<i;r++)t.associations.set(l[r],{meshes:e,primitives:r});if(1===l.length)return i.extensions&&Em(r,l[0],i),l[0];const A=new Vl;i.extensions&&Em(r,A,i),t.associations.set(A,{meshes:e});for(let e=0,t=l.length;e<t;e++)A.add(l[e]);return A}))}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new sa(ir.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new _a(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Bm(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,i=t.joints.length;r<i;r++)n.push(this._loadNodeShallow(t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){const n=e.pop(),r=e,i=[],s=[];for(let a=0,o=r.length;a<o;a++){const e=r[a];if(e){i.push(e);const t=new gi;null!==n&&t.fromArray(n.array,16*a),s.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}return new kA(i,s)}))}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],i=r.name?r.name:"animation_"+e,s=[],a=[],o=[],l=[],A=[];for(let c=0,u=r.channels.length;c<u;c++){const e=r.channels[c],t=r.samplers[e.sampler],n=e.target,i=n.node,u=void 0!==r.parameters?r.parameters[t.input]:t.input,h=void 0!==r.parameters?r.parameters[t.output]:t.output;void 0!==n.node&&(s.push(this.getDependency("node",i)),a.push(this.getDependency("accessor",u)),o.push(this.getDependency("accessor",h)),l.push(t),A.push(n))}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(A)]).then((function(e){const t=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=[];for(let i=0,A=t.length;i<A;i++){const e=t[i],A=r[i],c=s[i],u=a[i],h=o[i];if(void 0===e)continue;e.updateMatrix&&e.updateMatrix();const d=n._createAnimationTracks(e,A,c,u,h);if(d)for(let t=0;t<d.length;t++)l.push(d[t])}return new mh(i,void 0,l)}))}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}loadNode(e){const t=this,n=this.json.nodes[e],r=t._loadNodeShallow(e),i=[],s=n.children||[];for(let o=0,l=s.length;o<l;o++)i.push(t.getDependency("node",s[o]));const a=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([r,Promise.all(i),a]).then((function(e){const t=e[0],n=e[1],r=e[2];null!==r&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(r,Sm)}));for(let i=0,s=n.length;i<s;i++)t.add(n[i]);return t}))}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const i=t.nodes[e],s=i.name?r.createUniqueName(i.name):"",a=[],o=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return o&&a.push(o),void 0!==i.camera&&a.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){a.push(e)})),this.nodeCache[e]=Promise.all(a).then((function(t){let a;if(a=!0===i.isBone?new PA:t.length>1?new Vl:1===t.length?t[0]:new Gi,a!==t[0])for(let e=0,n=t.length;e<n;e++)a.add(t[e]);if(i.name&&(a.userData.name=i.name,a.name=s),Bm(a,i),i.extensions&&Em(n,a,i),void 0!==i.matrix){const e=new gi;e.fromArray(i.matrix),a.applyMatrix4(e)}else void 0!==i.translation&&a.position.fromArray(i.translation),void 0!==i.rotation&&a.quaternion.fromArray(i.rotation),void 0!==i.scale&&a.scale.fromArray(i.scale);return r.associations.has(a)||r.associations.set(a,{}),r.associations.get(a).nodes=e,a})),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,i=new Vl;n.name&&(i.name=r.createUniqueName(n.name)),Bm(i,n),n.extensions&&Em(t,i,n);const s=n.nodes||[],a=[];for(let o=0,l=s.length;o<l;o++)a.push(r.getDependency("node",s[o]));return Promise.all(a).then((function(e){for(let t=0,n=e.length;t<n;t++)i.add(e[t]);return r.associations=(e=>{const t=new Map;for(const[n,i]of r.associations)(n instanceof ss||n instanceof Qr)&&t.set(n,i);return e.traverse((e=>{const n=r.associations.get(e);null!=n&&t.set(e,n)})),t})(i),i}))}_createAnimationTracks(e,t,n,r,i){const s=[],a=e.name?e.name:e.uuid,o=[];let l;switch(fm[i.path]===fm.weights?e.traverse((function(e){e.morphTargetInfluences&&o.push(e.name?e.name:e.uuid)})):o.push(a),fm[i.path]){case fm.weights:l=hh;break;case fm.rotation:l=gh;break;case fm.position:case fm.scale:l=fh;break;default:if(1===n.itemSize)l=hh;else l=fh}const A=void 0!==r.interpolation?mm[r.interpolation]:Nt,c=this._getArrayFromAccessor(n);for(let u=0,h=o.length;u<h;u++){const e=new l(o[u]+"."+fm[i.path],t.array,c,A);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(e),s.push(e)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const e=xm(t.constructor),n=new Float32Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=t[r]*e;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof gh?Am:om)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Mm(e,t,n){const r=t.attributes,i=[];function s(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(const a in r){const t=pm[a]||a.toLowerCase();t in e.attributes||i.push(s(r[a],t))}if(void 0!==t.indices&&!e.index){const r=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(r)}return Ir.workingColorSpace!==Zt&&"COLOR_0"in r&&console.warn('THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "'.concat(Ir.workingColorSpace,'" not supported.')),Bm(e,t),function(e,t,n){const r=t.attributes,i=new Hr;if(void 0===r.POSITION)return;{const e=n.json.accessors[r.POSITION],t=e.min,s=e.max;if(void 0===t||void 0===s)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new Ur(t[0],t[1],t[2]),new Ur(s[0],s[1],s[2])),e.normalized){const t=xm(um[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}const s=t.targets;if(void 0!==s){const e=new Ur,t=new Ur;for(let r=0,i=s.length;r<i;r++){const i=s[r];if(void 0!==i.POSITION){const r=n.json.accessors[i.POSITION],s=r.min,a=r.max;if(void 0!==s&&void 0!==a){if(t.setX(Math.max(Math.abs(s[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(s[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(s[2]),Math.abs(a[2]))),r.normalized){const e=xm(um[r.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(e)}e.boundingBox=i;const a=new si;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=a}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){let r=!1,i=!1,s=!1;for(let A=0,c=t.length;A<c;A++){const e=t[A];if(void 0!==e.POSITION&&(r=!0),void 0!==e.NORMAL&&(i=!0),void 0!==e.COLOR_0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(e);const a=[],o=[],l=[];for(let A=0,c=t.length;A<c;A++){const c=t[A];if(r){const t=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):e.attributes.position;a.push(t)}if(i){const t=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):e.attributes.normal;o.push(t)}if(s){const t=void 0!==c.COLOR_0?n.getDependency("accessor",c.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then((function(t){const n=t[0],a=t[1],o=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=a),s&&(e.morphAttributes.color=o),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}const{MotionController:_m}=t,Dm=Symbol("fetchControllerProfile");function Rm(e,t,n){return Tf((()=>async function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ff,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gf,i=await fetch("".concat(n,"/").concat("profilesList.json"));if(!i.ok)return Promise.reject(new Error(i.statusText));const s=await i.json(),a=null!==(t=e.find((e=>null!=s[e])))&&void 0!==t?t:r;if(null==r)throw new Error("No matching profile name found");const o=s[a];if(null==o)throw new Error('No matching profile name found and default profile "'.concat(r,'" missing.'));const l="".concat(n,"/").concat(o.path);if(i=await fetch(l),!i.ok)throw new Error(i.statusText);return Object.assign(await i.json(),{profilePath:l})}(e,t,n)),[Dm,...e,t,n])}const Tm=(0,r.forwardRef)(((e,t)=>{let{inputSource:n,basePath:i,defaultProfileId:s}=e;const a=Rm(n.profiles,i,s),o=(0,r.useMemo)((()=>new _m(n,a,pf(a,n.handedness))),[n,a]),{scene:l}=Up(Lf,pf(a,n.handedness)),A=(0,r.useMemo)((()=>l.clone(!0)),[l]);return(0,r.useEffect)((()=>function(e,t){for(const n of Object.values(e.components)){const{type:e,touchPointNodeName:r,visualResponses:i}=n;if("touchpad"===e)if(n.touchPointNode=t.getObjectByName(r),null!=n.touchPointNode){const e=new Lu(.001),t=new as({color:255,toneMapped:!1}),r=new js(e,t);n.touchPointNode.add(r)}else console.warn("Could not find touch dot, ".concat(n.touchPointNodeName,", in touchpad component ").concat(n.id));for(const n of Object.values(i)){const{valueNodeName:e,minNodeName:r,maxNodeName:i,valueNodeProperty:s}=n;if(null!=r&&null!=i&&"transform"===s){if(n.minNode=t.getObjectByName(r),n.maxNode=t.getObjectByName(i),null==n.minNode)return void console.warn("Could not find ".concat(r," in the model"));if(null==n.maxNode)return void console.warn("Could not find ".concat(i," in the model"))}n.valueNode=t.getObjectByName(e),null==n.valueNode&&console.warn("Could not find ".concat(e," in the model"))}}}(o,A)),[o,A]),Lp(((e,t,r)=>{null!=r&&"hidden"!==r.session.visibilityState&&"visible-blurred"!==r.session.visibilityState?(A.visible=!0,null!=n.gamepad&&function(e){e.updateFromGamepad();for(const t of Object.values(e.components))for(const e of Object.values(t.visualResponses)){const{valueNode:t,minNode:n,maxNode:r,value:i,valueNodeProperty:s}=e;if(null==t||null==n||null==r)return;"visibility"===s?t.visible=i:"transform"===s&&(t.quaternion.slerpQuaternions(n.quaternion,r.quaternion,i),t.position.lerpVectors(n.position,r.position,i))}}(o)):A.visible=!1})),r.createElement("primitive",{ref:t,object:A})}));(0,r.forwardRef)(((e,t)=>{let{inputSource:n,basePath:i,defaultProfileId:s}=e;const a=Rm(n.profiles,i,s),{scene:o}=Up(Lf,pf(a,n.handedness)),l=(0,r.useMemo)((()=>o.clone(!0)),[o]);return r.createElement("primitive",{ref:t,object:l})}));function Nm(e){const t=new Map,n=new Map,r=e.clone();return Lm(e,r,(function(e,r){t.set(r,e),n.set(e,r)})),r.traverse((function(e){if(!e.isSkinnedMesh)return;const r=e,i=t.get(e),s=i.skeleton.bones;r.skeleton=i.skeleton.clone(),r.bindMatrix.copy(i.bindMatrix),r.skeleton.bones=s.map((function(e){return n.get(e)})),r.bind(r.skeleton,r.bindMatrix)})),r}function Lm(e,t,n){n(e,t);for(let r=0;r<e.children.length;r++)Lm(e.children[r],t.children[r],n)}const Pm=(0,r.forwardRef)(((e,t)=>{let{joint:n,rotationJoint:i,children:s}=e;const a=(0,r.useRef)(null);return Lp((()=>{if(null==a.current)return;const e=a.current.parent;if(null==e||!("boneMap"in e))throw new Error("HandBoneGroup can only be placed directly under DynamicHandModel");const t=Array.isArray(n)?n.map(Fm.bind(null,e)):Fm(e,n);if(Array.isArray(t)){a.current.position.set(0,0,0);for(const e of t)a.current.position.add(e.position);a.current.position.divideScalar(t.length)}else a.current.position.copy(t.position);const r=null==i?t:e.boneMap.get(i);if(null==r)throw new Error('unknown joint "'.concat(i,'" in ').concat(e.boneMap));if(Array.isArray(r))throw new Error("multiple rotation joints are not implemented");a.current.quaternion.copy(r.quaternion)})),(0,r.useImperativeHandle)(t,(()=>a.current),[]),r.createElement("group",{ref:a},s)}));function Fm(e,t){const n=e.boneMap.get(t);if(null==n)throw new Error('unknown joint "'.concat(t,'" in ').concat(e.boneMap));return n}const Um=(0,r.forwardRef)(((e,t)=>{let{children:n,handedness:i,basePath:s,defaultProfileId:a,hand:o}=e;const l=of(i,s,a),{scene:A}=Up(Lf,l),c=(0,r.useMemo)((()=>Nm(A)),[A]),u=(0,r.useMemo)((()=>function(e,t){const n=t.getObjectByProperty("type","SkinnedMesh");n.frustumCulled=!1,n.castShadow=!0,n.receiveShadow=!0;const r=new Map;for(const i of af){const e=t.getObjectByName(i);null!=e&&r.set(i,e)}return Object.assign(t,{boneMap:r,hand:e})}(o,c)),[c,o]);return Lp(((e,t,n)=>{if(null==n||"hidden"===n.session.visibilityState||"visible-blurred"===n.session.visibilityState)return void(u.visible=!1);const r=e.gl.xr.getReferenceSpace();if(null==r)return void(u.visible=!1);const i=function(e,t,n){let r=!0;for(const s of e.hand.values()){var i;const a=e.boneMap.get(s.jointName);if(null==a)continue;const o=null===(i=t.getJointPose)||void 0===i?void 0:i.call(t,s,n);if(null==o){if("wrist"===s.jointName){r=!1;break}}else{const{position:e,orientation:t}=o.transform;a.position.set(e.x,e.y,e.z),a.quaternion.set(t.x,t.y,t.z,t.w)}}return r}(u,n,r);u.visible=i})),(0,r.useImperativeHandle)(t,(()=>u.boneMap.get("wrist")),[]),r.createElement("primitive",{object:u},n)}));(0,r.forwardRef)(((e,t)=>{let{handedness:n,basePath:i,defaultProfileId:s}=e;const{scene:a}=Up(Lf,of(n,i,s)),o=(0,r.useMemo)((()=>Nm(a)),[a]);return r.createElement("primitive",{ref:t,object:o})}));(0,r.forwardRef)(((e,t)=>{let{cameraContent:n,children:i,...s}=e;const a=vf((e=>{let{session:t}=e;return null!=t})),o=Np((e=>e.camera));return null!=o&&a?r.createElement("group",{ref:t,...s},r.createElement("primitive",{object:o},n),i):null}));const Gm={manual:!0},km=(0,r.forwardRef)(((e,t)=>{const n=Tp(),i=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(()=>i.current),[]);const s=vf((e=>{let{mode:t}=e;return"none"===t}));return(0,r.useEffect)((()=>{if(!s)return;const e=i.current;if(null==e)return;const t=n.getState().camera;n.setState({camera:e});const r=n.subscribe(((t,n)=>{t.size.width===n.size.width&&t.size.height===n.size.height||(e.aspect=t.size.width/t.size.height,e.updateProjectionMatrix())})),{size:a}=n.getState();return e.aspect=a.width/a.height,e.updateProjectionMatrix(),()=>{r(),n.getState().camera==e&&n.setState({camera:t})}}),[n,s]),s?r.createElement("perspectiveCamera",{...Gm,ref:i,...e}):null}));function Hm(e){return Hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(e)}function Om(e){var t=function(e,t){if("object"!==Hm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Hm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hm(t)?t:String(t)}function zm(e,t,n){return(t=Om(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ym=new Yd,Wm=new $d,Vm=new da;const Jm=new Ur,Km=new di;function qm(e,t,n){for(let r=t.length-1;r>0;r--){const i=t[r-1],s=t[r];Km.origin.copy(i).applyMatrix4(e.matrixWorld),Km.direction.copy(s).applyMatrix4(e.matrixWorld).sub(Ym.ray.origin).normalize();if(null!=Km.intersectPlane(n,Jm))return Jm.clone()}}const jm=new gi;const Xm=new Yd,Zm=new Ur,$m=new da,eC=new di;function tC(e,t,n,r,i){Xm.setFromCamera(t,e),e.getWorldPosition(r),e.getWorldQuaternion(i),e.getWorldDirection(Zm);const s=[];for(const[o,l]of n){var a;$m.setFromNormalAndCoplanarPoint(Zm,Xm.ray.origin),$m.constant-=l.distanceViewPlane;const e=Xm.ray.intersectPlane($m,new Ur);if(null==e)continue;EC($m,l,o);const t=null!==(a=Xm.ray.intersectPlane($m,new Ur))&&void 0!==a?a:e;s.push({...l,intersections:s,point:e,pointOnFace:t,inputDevicePosition:r.clone(),inputDeviceRotation:i.clone(),capturedObject:o})}return s}const nC=new gi;function rC(e,t,n,r,i,s,a){Xm.setFromCamera(t,e),e.getWorldPosition(s),e.getWorldQuaternion(a),$m.setFromNormalAndCoplanarPoint(e.getWorldDirection(Zm),Xm.ray.origin);const o=[];return IC(n,r.hasEventHandlers.bind(r),(e=>{const t=Xm.intersectObject(e,!0);for(const n of t)i&&!vC(n)||(nC.copy(e.matrixWorld).invert(),o.push(Object.assign(n,{intersections:o,pointOnFace:n.point,inputDevicePosition:s.clone(),inputDeviceRotation:a.clone(),distanceViewPlane:$m.distanceToPoint(n.point),localPoint:n.point.clone().applyMatrix4(nC)})))})),o.sort(((e,t)=>e.distance-t.distance))}const iC=new Ur,sC=new Fr,aC=new da;const oC=new si;function lC(e,t,n,r,i,s){oC.center.copy(e),oC.radius=n;const a=[];return IC(r,i.hasEventHandlers.bind(i),(e=>AC(e,t,s,a))),a.sort(((e,t)=>e.distance-t.distance))}function AC(e,t,n,r){!function(e,t,n,r){if(e.updateWorldMatrix(!0,!1),function(e){return"spherecast"in e}(e)){const i=[];e.spherecast(oC,i);for(const e of i)n&&!vC(e)||r.push({...e,pointOnFace:e.point,intersections:r,inputDevicePosition:oC.center.clone(),inputDeviceRotation:t.clone(),localPoint:e.point.clone().applyMatrix4(cC.copy(e.object.matrixWorld).invert())})}if(e instanceof qA){null==e.geometry.boundingSphere&&e.geometry.computeBoundingSphere(),null==e.geometry.boundingBox&&e.geometry.computeBoundingBox();const r=[];for(let i=0;i<e.count;i++)e.getMatrixAt(i,uC),uC.premultiply(e.matrixWorld),dC(uC,e.geometry)&&(cC.copy(uC).invert(),CC(e,oC.center,t,uC,cC,e.geometry,n,r))}if(!(e instanceof js))return;null==e.geometry.boundingSphere&&e.geometry.computeBoundingSphere();if(!dC(e.matrixWorld,e.geometry))return;null==e.geometry.boundingBox&&e.geometry.computeBoundingBox();cC.copy(e.matrixWorld).invert(),CC(e,oC.center,t,e.matrixWorld,cC,e.geometry,n,r)}(e,t,n,r);for(const i of e.children)AC(i,t,n,r)}const cC=new gi,uC=new gi;const hC=new si;function dC(e,t){return hC.copy(t.boundingSphere).applyMatrix4(e),hC.center.distanceToSquared(oC.center)<(oC.radius+hC.radius)**2}const gC=new Ur,pC=new Ur,fC=new Ur,mC=new Ur(1e-4,1e-4,1e-4);function CC(e,t,n,r,i,s,a,o,l){hC.copy(oC).applyMatrix4(i),s.boundingBox.getSize(pC),s.boundingBox.getCenter(fC),s.boundingBox.clampPoint(hC.center,gC),gC.applyMatrix4(r);const A=gC.distanceToSquared(oC.center);if(A>oC.radius*oC.radius)return;pC.max(mC);const c=hC.center.clone().sub(fC);c.divide(pC),function(e){const t=Math.abs(e.x),n=Math.abs(e.y),r=Math.abs(e.z);if(t>=n&&t>=r)return void e.set(e.x<0?-1:1,0,0);if(n>=t&&n>=r)return void e.set(0,e.y<0?-1:1,0);e.set(0,0,e.z<0?-1:1)}(c);const u=gC.clone();a&&!function(e,t){if(!(e instanceof js)||null==e.material.clippingPlanes)return!0;const n=e.material.clippingPlanes;for(const r of n)if(r.distanceToPoint(t)<0)return!1;return!0}(e,u)||o.push({intersections:o,distance:Math.sqrt(A),object:e,face:{a:0,b:0,c:0,materialIndex:0,normal:c},pointOnFace:u,point:u,instanceId:l,inputDevicePosition:t.clone(),inputDeviceRotation:n.clone(),localPoint:u.clone().applyMatrix4(i)})}function IC(e,t,n){if(t(e))return n(e);for(const r of e.children)IC(r,t,n)}function vC(e){if(!(e.object instanceof js)||null==e.object.material.clippingPlanes)return!0;const t=e.object.material.clippingPlanes;for(const n of t)if(n.distanceToPoint(e.point)<0)return!1;return!0}function EC(e,t,n){return null!=t.face&&(e.setFromNormalAndCoplanarPoint(t.face.normal,t.localPoint),e.applyMatrix4(n.matrixWorld),!0)}function BC(e){return"inputDevicePosition"in e}const yC=new Ur,wC=new Fr,bC=Symbol("traversal-id"),xC=[],SC=new Gi;class QC{constructor(e,t,n,r,i,s,a,o,l,A,c){zm(this,"inputDeviceId",void 0),zm(this,"dispatchPressAlways",void 0),zm(this,"eventDispatcher",void 0),zm(this,"computeIntersections",void 0),zm(this,"getPressedElementIds",void 0),zm(this,"getInputDeviceTransformation",void 0),zm(this,"wasDragged",void 0),zm(this,"onIntersections",void 0),zm(this,"filterIntersections",void 0),zm(this,"onStartEventCaptures",void 0),zm(this,"onEndEventCaptures",void 0),zm(this,"intersections",[]),zm(this,"lastPositionChangeTime",void 0),zm(this,"capturedEvents",void 0),zm(this,"objectInteractionStateMap",new Map),this.inputDeviceId=e,this.dispatchPressAlways=t,this.eventDispatcher=n,this.computeIntersections=r,this.getPressedElementIds=i,this.getInputDeviceTransformation=s,this.wasDragged=a,this.onIntersections=o,this.filterIntersections=l,this.onStartEventCaptures=A,this.onEndEventCaptures=c}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];this.eventDispatcher.bind(e,this);const a=performance.now(),o=this.intersections;var l;t&&(this.intersections=this.computeIntersections(e,this.capturedEvents),null==this.capturedEvents&&null!=this.filterIntersections&&(this.intersections=this.filterIntersections(this.intersections)),null===(l=this.onIntersections)||void 0===l||l.call(this,this.intersections),0===this.intersections.length&&(this.getInputDeviceTransformation(yC,wC),this.intersections=[{distance:1/0,inputDevicePosition:yC.clone(),inputDeviceRotation:wC.clone(),object:SC,point:yC.clone()}]));if(this.traverseIntersections(this.intersections,((r,s,o,l,A)=>(t&&(this.dispatchEnterOrMove(r,s,o),s.lastIntersectedTime=a),n&&(this.dispatchPress(r,o,A,i),this.dispatchRelease(e,r,o,s,A),this.updateElementStateMap(o,s,A,i,a)),s.lastPressedElementIds=A,s.blockFollowingIntersections&&(this.intersections.length=l+1),!0)),(e=>this.getPressedElementIds(e))),t){const t=this.getPressedElementIds();this.traverseIntersections(o,((n,r,i)=>r.lastIntersectedTime!==a&&(this.dispatchRelease(e,n,i,r,t),this.eventDispatcher.leave(n,i),r.lastLeftTime=a,r.lastPressedElementIds=xC,!0))),this.lastPositionChangeTime=a}}cancel(e){this.eventDispatcher.bind(e,this),this.traverseIntersections(this.intersections,((e,t,n)=>(this.eventDispatcher.cancel(e,n),!0)))}wheel(e){this.eventDispatcher.bind(e,this),this.traverseIntersections(this.intersections,((e,t,n)=>(this.eventDispatcher.wheel(e,n),!0)))}leave(e){var t;(this.eventDispatcher.bind(e,this),this.traverseIntersections(this.intersections,((e,t,n)=>(this.eventDispatcher.leave(e,n),!0))),null!=this.capturedEvents)&&(null===(t=this.onEndEventCaptures)||void 0===t||t.call(this,e));this.lastPositionChangeTime=void 0,this.intersections.length=0,this.capturedEvents=void 0}updateElementStateMap(e,t,n,r,i){for(const s of n)(r.includes(s)||this.dispatchPressAlways)&&t.elementStateMap.set(s,{lastPressEventTime:i,lastPressEventIntersection:e})}dispatchPress(e,t,n,r){for(const i of n)(this.dispatchPressAlways||r.includes(i))&&this.eventDispatcher.press(e,t,i)}dispatchRelease(e,t,n,r,i){for(const s of r.lastPressedElementIds){if(i.includes(s))continue;this.eventDispatcher.release(t,n,s),this.removeEventCapture(e,t);const a=r.elementStateMap.get(s);null==a||!(null==r.lastLeftTime||r.lastLeftTime<a.lastPressEventTime)||null!=this.wasDragged&&this.wasDragged(s)||this.eventDispatcher.select(t,n,s)}}dispatchEnterOrMove(e,t,n){null!=t.lastIntersectedTime&&t.lastIntersectedTime===this.lastPositionChangeTime?this.eventDispatcher.move(e,n):(t.blockFollowingIntersections=!1,this.eventDispatcher.enter(e,n))}addEventCapture(e,t,n){var r;null==this.capturedEvents&&(this.capturedEvents=new Map,null===(r=this.onStartEventCaptures)||void 0===r||r.call(this,e));this.capturedEvents.set(t,n)}removeEventCapture(e,t){var n;null!=this.capturedEvents&&(this.eventDispatcher.losteventcapture(t,void 0),this.capturedEvents.delete(t)&&0===this.capturedEvents.size&&(this.capturedEvents=void 0,null===(n=this.onEndEventCaptures)||void 0===n||n.call(this,e)))}hasEventCapture(e){var t,n;return null!==(t=null===(n=this.capturedEvents)||void 0===n?void 0:n.has(e))&&void 0!==t&&t}traverseIntersections(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const r=Math.random();e:for(let s=0;s<e.length;s++){var i;const a=e[s];let o=null!==(i=a.capturedObject)&&void 0!==i?i:a.object;const l=n(a);for(;null!=o;){if(!MC(o,r))continue e;if(this.eventDispatcher.hasEventHandlers(o)){if(!t(o,this.getInteractionState(o),a,s,l))continue e}o=o.parent}}}blockFollowingIntersections(e){this.getInteractionState(e).blockFollowingIntersections=!0}getInteractionState(e){let t=this.objectInteractionStateMap.get(e);return null==t&&this.objectInteractionStateMap.set(e,t={elementStateMap:new Map,lastPressedElementIds:xC,blockFollowingIntersections:!1}),t}}function MC(e,t){return e[bC]!==t&&(e[bC]=t,!0)}function _C(e,t,n,i,s,a,o,l,A,c){const u=(0,r.useMemo)((()=>new Map),[]),h=(0,r.useMemo)((()=>new nI),[]);h.onPointerDownMissed=s,h.onPointerUpMissed=a,h.onClickMissed=o;const d=(0,r.useMemo)((()=>({filterClipped:null===c||void 0===c||c,computeIntersections:e,isDrag:t,onIntersections:n,filterIntersections:i,onStartEventCaptures:l,onEndEventCaptures:A})),[]);d.filterClipped=null===c||void 0===c||c,d.computeIntersections=e,d.isDrag=t,d.onIntersections=n,d.filterIntersections=i,d.onStartEventCaptures=l,d.onEndEventCaptures=A;for(const[r,g]of u)DC(g.translator,r,d);return(0,r.useEffect)((()=>()=>{for(const{translator:e}of u.values())e.leave({});u.clear()}),[]),(0,r.useMemo)((()=>{const e=e=>function(e,t,n,r){let i=e.get(r);if(null==i){const s=new Ur,a=new Fr,o={inputDeviceElementPressSet:new Set,inputDeviceElementPressMap:new Map,translator:new QC(r,!1,t,((e,r)=>n.computeIntersections(e,r,n.filterClipped,t,s,a)),(()=>[...o.inputDeviceElementPressSet]),((e,t)=>{e.copy(s),t.copy(a)}),(e=>o.inputDeviceElementDragSet.has(e))),inputDeviceElementDragSet:new Set};DC(o.translator,r,n),e.set(r,i=o)}return i}(u,h,d,e);return{cancel:(t,n)=>{const{translator:r}=e(t);r.cancel(n)},enter:(t,n)=>{const{translator:r}=e(t);r.update(n,!0,!0)},leave:(t,n)=>{const{translator:r}=e(t);r.leave(n),u.delete(t)},press:function(t,n){const{inputDeviceElementPressMap:r,inputDeviceElementPressSet:i,translator:s}=e(t);for(var a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];for(const e of o)i.add(e),r.set(e,n);s.update(n,!1,!0,...o)},release:function(t,n){const{inputDeviceElementPressMap:r,inputDeviceElementPressSet:i,inputDeviceElementDragSet:s,translator:a}=e(t);for(var o=arguments.length,l=new Array(o>2?o-2:0),A=2;A<o;A++)l[A-2]=arguments[A];for(const e of l)i.delete(e),r.delete(e);a.update(n,!1,!0);for(const e of l)s.delete(e)},move:(t,n)=>{const{translator:r,inputDeviceElementPressMap:i,inputDeviceElementDragSet:s}=e(t);for(const[e,a]of i)d.isDrag(a,n)&&s.add(e);r.update(n,!0,!1)},wheel:e=>{for(const{translator:t}of u.values())t.wheel(e)},blur:e=>{for(const{translator:t}of u.values())t.leave(e);u.clear()}}}),[])}function DC(e,t,n){let{filterIntersections:r,onEndEventCaptures:i,onIntersections:s,onStartEventCaptures:a}=n;e.onIntersections=null===s||void 0===s?void 0:s.bind(null,t),e.filterIntersections=null===r||void 0===r?void 0:r.bind(null,t),e.onStartEventCaptures=null===a||void 0===a?void 0:a.bind(null,t),e.onEndEventCaptures=null===i||void 0===i?void 0:i.bind(null,t)}function RC(e,t,n,i,s,a,o){const l=(0,r.useRef)(null),A=_C(UC.bind(null,e,l),LC.bind(null,null==t?void 0:t*t),n,i,s,a,o,TC,NC);return(0,r.useMemo)((()=>({ref:l,onPointerDown:e=>A.press(e.pointerId,e,e.button),onPointerUp:e=>A.release(e.pointerId,e,e.button),onPointerCancel:e=>A.cancel(e.pointerId,e),onPointerEnter:e=>{e.stopPropagation(),A.enter(e.pointerId,e)},onPointerLeave:e=>A.leave(e.pointerId,e),onPointerMove:e=>A.move(e.pointerId,e),onWheel:A.wheel})),[])}function TC(e,t){t.target.setPointerCapture(e)}function NC(e,t){t.target.releasePointerCapture(e)}function LC(e,t,n){return null!=e&&t.point.distanceToSquared(n.point)>e}const PC=[],FC=new Ur;function UC(e,t,n,r,i,s,a,o){const{camera:l,scene:A}="function"===typeof e?e():e;if(null==t.current||null==l||null==A)return PC;FC.copy(n.point),t.current.worldToLocal(FC);const c=new sr(FC.x,FC.y).multiplyScalar(2);return null==r?rC(l,c,A,s,i,a,o):tC(l,c,r,a,o)}const GC=[];function kC(e,t,n){if(null==e.current)return!1;const r=e.current*e.current,i=t.offsetX-n.offsetX,s=t.offsetY-n.offsetY;return i*i+s*s>r}function HC(e){let{filterClipped:t,filterIntersections:n,onClickMissed:i,onIntersections:s,onPointerDownMissed:a,onPointerUpMissed:o,dragDistance:l}=e;const A=Tp(),c=Np((e=>{let{gl:t}=e;return t.domElement})),u=(0,r.useMemo)((()=>OC.bind(null,A)),[A]),h=(0,r.useRef)(l);h.current=l;const d=_C(u,kC.bind(null,h),s,n,a,o,i,zC,YC,t);return(0,r.useEffect)((()=>{const e=e=>d.cancel(e.pointerId,e),t=e=>d.press(e.pointerId,e,e.button),n=e=>d.release(e.pointerId,e,e.button),r=e=>d.enter(e.pointerId,e),i=e=>d.leave(e.pointerId,e),s=e=>d.move(e.pointerId,e);return c.addEventListener("pointercancel",e),c.addEventListener("pointerdown",t),c.addEventListener("pointerup",n),c.addEventListener("pointerover",r),c.addEventListener("pointerout",i),c.addEventListener("pointermove",s),c.addEventListener("wheel",d.wheel),c.addEventListener("blur",d.blur),()=>{c.removeEventListener("pointercancel",e),c.removeEventListener("pointerdown",t),c.removeEventListener("pointerup",n),c.removeEventListener("pointerover",r),c.removeEventListener("pointerout",i),c.removeEventListener("pointermove",s),c.removeEventListener("wheel",d.wheel),c.removeEventListener("blur",d.blur)}}),[c,d]),null}function OC(e,t,n,r,i,s,a){if(!(t.target instanceof HTMLCanvasElement))return GC;const{camera:o,scene:l,size:A}=e.getState(),c=new sr(t.offsetX/A.width*2-1,-t.offsetY/A.height*2+1);return null==n?rC(o,c,l,i,r,s,a):tC(o,c,n,s,a)}function zC(e,t){t.target instanceof HTMLCanvasElement&&t.target.setPointerCapture(e)}function YC(e,t){t.target instanceof HTMLCanvasElement&&t.target.releasePointerCapture(e)}const WC=new Ur,VC=new Fr,JC=new Ur(0,0,1),KC=(0,r.forwardRef)(((e,t)=>{let{id:n,onIntersections:i,filterIntersections:s,onClickMissed:a,onPointerDownMissed:o,onPointerUpMissed:l,filterClipped:A=!0,direction:c=JC,initialPressedElementIds:u}=e;const h=Tp(),d=(0,r.useMemo)((()=>new Gi),[]),g=(0,r.useMemo)((()=>new nI),[]);g.onPointerDownMissed=o,g.onPointerUpMissed=l,g.onClickMissed=a;const p=(0,r.useMemo)((()=>new Set(u)),[]),f=(0,r.useMemo)((()=>({filterClipped:A,direction:c})),[]);f.filterClipped=A,f.direction=c;const m=(0,r.useMemo)((()=>new QC(n,!1,g,((e,t)=>(d.getWorldPosition(WC),d.getWorldQuaternion(VC),null==t?function(e,t,n,r,i,s){Xm.ray.origin.copy(e),Xm.ray.direction.copy(s).applyQuaternion(t);const a=[];return IC(n,r.hasEventHandlers.bind(r),(n=>{const r=Xm.intersectObject(n,!0);for(const s of r)i&&!vC(s)||(nC.copy(n.matrixWorld).invert(),a.push(Object.assign(s,{intersections:a,inputDevicePosition:e.clone(),inputDeviceRotation:t.clone(),pointOnFace:s.point,localPoint:s.point.clone().applyMatrix4(nC)})))})),a.sort(((e,t)=>e.distance-t.distance))}(WC,VC,h.getState().scene,g,f.filterClipped,f.direction):function(e,t,n,r){Zm.copy(r).applyQuaternion(t);const i=[];for(const[a,o]of n){var s;eC.set(e,Zm),EC($m,o,a);const n=null!==(s=eC.intersectPlane($m,new Ur))&&void 0!==s?s:o.point;i.push({...o,intersections:i,pointOnFace:n,point:Zm.clone().multiplyScalar(o.distance).add(e),inputDevicePosition:e.clone(),inputDeviceRotation:t.clone(),capturedObject:a})}return i}(WC,VC,t,f.direction))),(()=>[...p]),((e,t)=>{d.getWorldPosition(e),d.getWorldQuaternion(t)}))),[n,h]);m.onIntersections=i,m.filterIntersections=s,(0,r.useImperativeHandle)(t,(()=>({press:(e,t)=>{p.add(e),m.update(t,!1,!0,e)},release:(e,t)=>{p.delete(e),m.update(t,!1,!0)},cancel:m.cancel.bind(m),wheel(e){m.wheel(e)}})),[m]),(0,r.useEffect)((()=>m.leave.bind(m,{})),[m]);const C=(0,r.useRef)(p.size>0);return Lp((()=>{m.update({},!0,C.current,...p),C.current=!1})),r.createElement("primitive",{object:d})})),qC=new Ur,jC=new Fr,XC=(0,r.forwardRef)(((e,t)=>{let{id:n,distanceElement:i,radius:s,onIntersections:a,filterIntersections:o,onClickMissed:l,onPointerDownMissed:A,onPointerUpMissed:c,filterClipped:u=!0,initialPressedElementIds:h}=e;const d=(0,r.useMemo)((()=>new Gi),[]),g=Tp(),p=(0,r.useMemo)((()=>new Set(h)),[]),f=(0,r.useMemo)((()=>new nI),[]);f.onPointerDownMissed=A,f.onPointerUpMissed=c,f.onClickMissed=l;const m=(0,r.useMemo)((()=>({distanceElement:i,radius:s,filterClipped:u})),[]);m.distanceElement=i,m.radius=s,m.filterClipped=u;const C=(0,r.useMemo)((()=>new QC(n,!0,f,((e,t)=>(d.getWorldPosition(qC),d.getWorldQuaternion(jC),null==t?lC(qC,jC,m.radius,g.getState().scene,f,m.filterClipped):function(e,t,n){const r=[];for(const[i,s]of n){iC.copy(s.point).sub(s.inputDevicePosition),sC.copy(s.inputDeviceRotation).invert().multiply(t);const n=iC.clone().applyQuaternion(sC).add(e);EC(aC,s,i);const a=aC.projectPoint(e,new Ur);r.push({distance:s.distance,intersections:r,inputDevicePosition:e.clone(),inputDeviceRotation:t.clone(),object:s.object,point:n,pointOnFace:a,face:s.face,capturedObject:i,distanceToFace:a.distanceTo(e),localPoint:s.localPoint})}return r}(qC,jC,t))),(e=>null!=e&&null!=m.distanceElement&&e.distance<=m.distanceElement.downRadius&&(null==e.distanceToFace||e.distanceToFace<2*m.distanceElement.downRadius*2)?[...p,m.distanceElement.id]:[...p]),((e,t)=>{d.getWorldPosition(e),d.getWorldQuaternion(t)}))),[n,g]);C.onIntersections=a,C.filterIntersections=o,(0,r.useImperativeHandle)(t,(()=>({press:(e,t)=>{p.add(e),C.update(t,!1,!0,e)},release:(e,t)=>{p.delete(e),C.update(t,!1,!0)},cancel:C.cancel.bind(C),wheel(e){C.wheel(e)}})),[C]),(0,r.useEffect)((()=>C.leave.bind(C,{})),[C]);const I=(0,r.useRef)(p.size>0);return Lp((()=>{C.update({},!0,I.current||null!=i,...p),I.current=!1})),r.createElement("primitive",{object:d})})),ZC=new Ur,$C=new Fr,eI=(0,r.forwardRef)(((e,t)=>{let{id:n,points:i,onIntersections:s,filterIntersections:a,onClickMissed:o,onPointerDownMissed:l,onPointerUpMissed:A,filterClipped:c=!0,initialPressedElementIds:u}=e;const h=(0,r.useMemo)((()=>new Gi),[]),d=Tp(),g=(0,r.useMemo)((()=>new nI),[]);g.onPointerDownMissed=l,g.onPointerUpMissed=A,g.onClickMissed=o;const p=(0,r.useMemo)((()=>new Set(u)),[]),f=(0,r.useMemo)((()=>({points:i,filterClipped:c})),[]);f.points=i,f.filterClipped=c;const m=(0,r.useMemo)((()=>new QC(n,!1,g,((e,t)=>(h.getWorldPosition(ZC),h.getWorldQuaternion($C),null==t?function(e,t,n,r,i,s,a){const o=[];return IC(i,s.hasEventHandlers.bind(s),(i=>{let s=0;for(let l=1;l<r.length;l++){const A=r[l-1],c=r[l];Ym.ray.origin.copy(A).applyMatrix4(e.matrixWorld),Ym.ray.direction.copy(c).applyMatrix4(e.matrixWorld),Ym.ray.direction.sub(Ym.ray.origin);const u=Ym.ray.direction.length();Ym.ray.direction.divideScalar(u),Ym.far=u;const h=Ym.intersectObject(i,!0);for(const e of h){if(a&&!vC(e))continue;const r=o.findIndex((t=>{let{object:n}=t;return n===e.object}));if(-1!=r)continue;const i=e.distance;e.distance+=s,o.push(Object.assign(e,{intersections:o,inputDevicePosition:t.clone(),inputDeviceRotation:n.clone(),lineIndex:l-1,distanceOnLine:i,pointOnFace:e.point,localPoint:e.point.clone().applyMatrix4(jm.copy(e.object.matrixWorld).invert())}))}s+=u}})),o.sort(((e,t)=>e.distance-t.distance))}(h,ZC,$C,f.points,d.getState().scene,g,f.filterClipped):function(e,t,n,r,i){const s=[];for(const[o,l]of i){var a;Wm.set(r[l.lineIndex],r[l.lineIndex+1]).applyMatrix4(e.matrixWorld);const i=Wm.at(l.distanceOnLine/Wm.distance(),new Ur);EC(Vm,l,o);const A=null!==(a=qm(e,r,Vm))&&void 0!==a?a:i;s.push({...l,intersections:s,pointOnFace:A,point:i,inputDevicePosition:t.clone(),inputDeviceRotation:n.clone(),capturedObject:o})}return s}(h,ZC,$C,f.points,t))),(()=>[...p]),((e,t)=>{h.getWorldPosition(e),h.getWorldQuaternion(t)}))),[n,d]);m.onIntersections=s,m.filterIntersections=a,(0,r.useImperativeHandle)(t,(()=>({press:(e,t)=>{p.add(e),m.update(t,!1,!0,e)},release:(e,t)=>{p.delete(e),m.update(t,!1,!0)},cancel:m.cancel.bind(m),wheel(e){m.wheel(e)}})),[m]),(0,r.useEffect)((()=>m.leave.bind(m,{})),[m]);const C=(0,r.useRef)(p.size>0);return Lp((()=>{m.update({},!0,C.current,...p),C.current=!1})),r.createElement("primitive",{object:h})})),tI=()=>({enabled:!1,priority:0});class nI{constructor(e,t,n){zm(this,"onPointerDownMissed",void 0),zm(this,"onPointerUpMissed",void 0),zm(this,"onClickMissed",void 0),zm(this,"stoppedEventTypeSet",void 0),zm(this,"event",void 0),zm(this,"translator",void 0),zm(this,"press",this.dispatch.bind(this,["onPointerDown"])),zm(this,"release",this.dispatch.bind(this,["onPointerUp"])),zm(this,"cancel",this.dispatch.bind(this,["onPointerCancel"])),zm(this,"select",this.dispatch.bind(this,["onClick"])),zm(this,"move",this.dispatch.bind(this,["onPointerMove"])),zm(this,"enter",this.dispatch.bind(this,["onPointerEnter","onPointerOver"])),zm(this,"leave",this.dispatch.bind(this,["onPointerLeave","onPointerOut"])),zm(this,"wheel",this.dispatch.bind(this,["onWheel"])),zm(this,"losteventcapture",(()=>{})),this.onPointerDownMissed=e,this.onPointerUpMissed=t,this.onClickMissed=n}dispatch(e,t,n,r){for(const a of e){var i,s;if(this.stoppedEventTypeSet.has(a))return;if(t==SC){switch(a){case"onClick":case"onPointerDown":case"onPointerUp":{const e=this["".concat(a,"Missed")];if(null==e)return;e(this.createEvent(a,t,n,r))}}return}null===(i=(s=t.__r3f.handlers)[a])||void 0===i||i.call(s,this.createEvent(a,t,n,r))}}createEvent(e,t,n,r){const i=this.stoppedEventTypeSet,s=this.translator,a={setPointerCapture:this.translator.addEventCapture.bind(this.translator,this.event,t,n),releasePointerCapture:this.translator.removeEventCapture.bind(this.translator,this.event,t),hasPointerCapture:this.translator.hasEventCapture.bind(this.translator,t)},o={};for(const l in this.event){const e=this.event[l];"function"!==typeof e&&(o[l]=e)}return Object.assign(o,n,{eventObject:t,pointer:null,stopped:null,delta:0,unprojectedPoint:null,ray:null,camera:null,stopPropagation(){i.add(e),"onPointerEnter"==e&&s.blockFollowingIntersections(t)},pointerId:this.translator.inputDeviceId,target:a,currentTarget:a,nativeEvent:this.event,inputDeviceElementId:r,inputDeviceId:this.translator.inputDeviceId}),o}bind(e,t){this.stoppedEventTypeSet=new Set,this.event=e,this.translator=t}hasEventHandlers(e){if(e===SC)return!0;const t=e.__r3f;return null!=t&&t.eventCount>0}}const rI=new Ia,iI=(0,r.forwardRef)(((e,t)=>{let{colorFormat:n,depthFormat:i,texture:s,index:a=-1,pixelHeight:o,pixelWidth:l,updateTarget:A,geometry:c=rI,transparent:u=!1,...h}=e;const d=(0,r.useRef)(null),g=null==A,p=uI((0,r.useCallback)(((e,t)=>e.createQuadLayer({space:t,viewPixelHeight:o,viewPixelWidth:l,width:0,height:0,isStatic:g,colorFormat:n,depthFormat:i,transform:new XRRigidTransform})),[n,i,g,o,l]),u,a),f=fI(d,p,s,u,l,o,sI,A);return(0,r.useImperativeHandle)(t,(()=>d.current),[]),r.createElement("mesh",{renderOrder:null!=p?-1e3:void 0,ref:d,visible:null==p||!u,geometry:c,...h},r.createElement("meshBasicMaterial",{transparent:u,map:f,depthWrite:!0,colorWrite:null==p,toneMapped:!1}))}));function sI(e,t){e.width=t.x/2,e.height=t.y/2}const aI=(0,r.forwardRef)(((e,t)=>{let{children:n,dragDistance:i,...s}=e;const a=Tp(),o=(0,r.useMemo)((()=>{const e=new rA,t=new sa(void 0,s.pixelWidth/s.pixelHeight);return t.userData.helloWorld=!0,e.add(t),sf(((n,r)=>({...a.getState(),set:n,get:r,scene:e,camera:t,size:{left:0,top:0,width:s.pixelWidth,height:s.pixelHeight}})))}),[a,s.pixelHeight,s.pixelWidth]),l=(0,r.useCallback)(((e,t)=>{const{camera:n,scene:r}=o.getState(),i=e.getRenderTarget(),s=e.xr.enabled;e.xr.enabled=!1,e.setRenderTarget(t),e.render(r,n),e.xr.enabled=s,e.setRenderTarget(i)}),[]),A=RC(o.getState,i);return(0,r.useImperativeHandle)(t,(()=>A.ref.current),[]),r.createElement(r.Fragment,null,Op.createPortal(r.createElement(Bp.Provider,{value:o},n),o,null),r.createElement(iI,{...s,updateTarget:l,...A}))})),oI=60*Math.PI/180,lI=(0,r.forwardRef)(((e,t)=>{var n;let{colorFormat:i,depthFormat:s,radius:a=2,centralAngle:o=oI,texture:l,index:A=-1,pixelHeight:c,pixelWidth:u,updateTarget:h,geometry:d,transparent:g=!1,...p}=e;const f=(0,r.useRef)(null),m=null==h,C=uI((0,r.useCallback)(((e,t)=>e.createCylinderLayer({space:t,viewPixelWidth:u,viewPixelHeight:c,aspectRatio:u/c,centralAngle:o,radius:0,colorFormat:i,depthFormat:s,transform:new XRRigidTransform,isStatic:m})),[o,i,s,c,u,m]),g,A),I=fI(f,C,l,g,u,c,AI.bind(null,a),h);(0,r.useImperativeHandle)(t,(()=>f.current),[]);const v=null!=d,E=null!==(n=(0,r.useMemo)((()=>{if(v)return;const e=new Wc(a,a,a*o*c/u,32,1,!0,0,o).rotateY(Math.PI-o/2);return e.scale(-1,1,1),e}),[v,a,o,c,u]))&&void 0!==n?n:d;return r.createElement("mesh",{renderOrder:null!=C?-1e3:void 0,visible:null==C||!g,geometry:E,ref:f,...p},r.createElement("meshBasicMaterial",{map:I,colorWrite:null==C,transparent:g,toneMapped:!1}))}));function AI(e,t,n){t.radius=n.x*e}const cI=(0,r.forwardRef)(((e,t)=>{let{children:n,dragDistance:i,...s}=e;const a=Tp(),o=(0,r.useMemo)((()=>{const e=new rA,t=new sa(void 0,s.pixelWidth/s.pixelHeight);return t.userData.helloWorld=!0,e.add(t),sf(((n,r)=>({...a.getState(),set:n,get:r,scene:e,camera:t,size:{left:0,top:0,width:s.pixelWidth,height:s.pixelHeight}})))}),[a,s.pixelHeight,s.pixelWidth]),l=(0,r.useCallback)(((e,t)=>{const{camera:n,scene:r}=o.getState(),i=e.getRenderTarget(),s=e.xr.enabled;e.xr.enabled=!1,e.setRenderTarget(t),e.render(r,n),e.xr.enabled=s,e.setRenderTarget(i)}),[]),A=RC(o.getState,i);return(0,r.useImperativeHandle)(t,(()=>A.ref.current),[]),r.createElement(r.Fragment,null,Op.createPortal(r.createElement(Bp.Provider,{value:o},n),o,null),r.createElement(lI,{...s,updateTarget:l,...A}))}));function uI(e,t,n){const i=Tp(),s=vf((e=>{var t,n;let{session:r}=e;return null!==(t=null===r||void 0===r||null===(n=r.enabledFeatures)||void 0===n?void 0:n.includes("layers"))&&void 0!==t&&t})),a=vf((e=>{var t,n;let{session:r}=e;return null!==(t=null===r||void 0===r||null===(n=r.enabledFeatures)||void 0===n?void 0:n.includes("depth-sorted-layers"))&&void 0!==t&&t})),o=s&&(!t||a),l=(0,r.useMemo)((()=>{if(!o)return;const t=i.getState().gl.xr,n=t.getBinding(),r=t.getReferenceSpace();return null!=r?e(n,r):void 0}),[o,i,e]);return(0,r.useEffect)((()=>{if(null!=l)return vf.getState().addLayer(n,l),()=>{l.destroy(),vf.getState().removeLayer(l)}}),[l,n]),l}const hI=new Ur,dI=new Fr,gI=new Ur,pI=new gi;function fI(e,t,n,i,s,a,o,l){const A=Tp(),c=(0,r.useMemo)((()=>{if(null!=t||null!=n)return;const e=A.getState().gl,r=e.getContext().getContextAttributes();return new Dr(s,a,{type:_e,format:Oe,stencilBuffer:null===r||void 0===r?void 0:r.stencil,colorSpace:e.outputColorSpace,samples:null!==r&&void 0!==r&&r.antialias?4:1})}),[t,n,s,a,A]);return(0,r.useEffect)((()=>()=>null===c||void 0===c?void 0:c.dispose()),[c]),Lp(((r,A,u)=>{if(null!=t&&null!=e.current&&(pI.multiplyMatrices(r.camera.matrix,r.camera.matrixWorldInverse).multiply(e.current.matrixWorld).decompose(hI,dI,gI),t.transform=new XRRigidTransform(hI,dI),o(t,gI)),null!=c&&null!=l)return void l(r.gl,c);if(null==u||null==t)return;if(null!=n&&t.needsRedraw)return void function(e,t,n,r){const i=e.getContext(),s=e.xr.getBinding().getSubImage(t,n);e.state.bindTexture(i.TEXTURE_2D,s.colorTexture),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.texSubImage2D(i.TEXTURE_2D,0,0,0,r.width,r.height,i.RGBA,i.UNSIGNED_BYTE,r)}(r.gl,t,u,n.image);if(null==l)return;const h=r.gl,d=h.getContext().getContextAttributes(),g=new Dr(s,a,{type:_e,format:Oe,depthTexture:i?new ql(s,a,null!==d&&void 0!==d&&d.stencil?ke:Le,void 0,void 0,void 0,void 0,void 0,void 0,null!==d&&void 0!==d&&d.stencil?Ve:We):void 0,stencilBuffer:null===d||void 0===d?void 0:d.stencil,colorSpace:h.outputColorSpace,samples:null!==d&&void 0!==d&&d.antialias?4:1});h.initTexture(g.texture),null!=g.depthTexture&&h.initTexture(g.depthTexture);const p=h.xr.getBinding().getSubImage(t,u);h.properties.get(g.texture).__webglTexture=p.colorTexture,null!=g.depthTexture&&(h.properties.get(g.depthTexture).__webglTexture=p.depthStencilTexture),l(h,g)})),null!==n&&void 0!==n?n:null===c||void 0===c?void 0:c.texture}const mI=new jd,CI=new sr;function II(e,t,n){return null!=e&&null!=t.current&&t.current>=n.lastChangedTime?e:(t.current=n.lastChangedTime,function(e){const t=new eu,n=e.map((e=>{let{x:t,z:n}=e;return new sr(t,n)}));mI.setFromPoints(n),mI.getSize(CI);for(const i of n)i.sub(mI.min),i.divide(CI);t.setFromPoints(n);const r=new Nu(t);return r.scale(CI.x,CI.y,1),r.translate(mI.min.x,mI.min.y,0),r.rotateX(Math.PI/2),r}(n.polygon))}(0,r.forwardRef)(((e,t)=>{let{plane:n,children:i,onFrame:s}=e;return r.createElement(bf,{space:n.planeSpace,initialPose:n.initialPose,onFrame:s,as:js,ref:t},r.createElement(vI,{plane:n}),i)})),new Ur;const vI=(0,r.forwardRef)(((e,t)=>{let{plane:n}=e;const i=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,r.useRef)(void 0),[i,s]=(0,r.useState)(II(void 0,n,e));return Lp((()=>s((t=>II(t,n,e))))),(0,r.useEffect)((()=>{if(t)return()=>null===i||void 0===i?void 0:i.dispose()}),[i]),i}(n);return(0,r.useImperativeHandle)(t,(()=>i),[i]),r.createElement("primitive",{object:i})}));function EI(e,t,n){if(null!=e&&null!=t.current&&t.current>=n.lastChangedTime)return e;t.current=n.lastChangedTime;const r=new Rs;return r.setIndex(new gs(n.indices,1)),r.setAttribute("position",new gs(n.vertices,3)),r}(0,r.forwardRef)(((e,t)=>{let{mesh:n,children:i,onFrame:s}=e;return r.createElement(bf,{space:n.meshSpace,initialPose:n.initialPose,as:js,onFrame:s,ref:t},r.createElement(BI,{mesh:n}),i)})),new Ur;const BI=(0,r.forwardRef)(((e,t)=>{let{mesh:n}=e;const i=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,r.useRef)(void 0),[i,s]=(0,r.useState)(EI(void 0,n,e));return Lp((()=>s((t=>EI(t,n,e))))),(0,r.useEffect)((()=>{if(t)return()=>i.dispose()}),[i]),i}(n);return(0,r.useImperativeHandle)(t,(()=>i),[]),r.createElement("primitive",{object:i})})),yI=((0,r.forwardRef)(((e,t)=>{var n;let{onFrame:i,image:s,children:a}=e;const o=(0,r.useMemo)((()=>new Vl),[]),l=vf((e=>{let{requestedTrackedImages:t}=e;return t})),A=(0,r.useMemo)((()=>{if(null==l)return;const e=l.findIndex((e=>{let{image:t}=e;return t===s}));if(-1===e)throw new Error('Unknown image provided to TrackedImage. Images that should be tracked must be provided to "trackedImages" inside the XRSessionInit options');return e}),[s,l]),c=vf.getState(),u=null==A||null===(n=c.trackedImages)||void 0===n?void 0:n.get(A);return null!=c.store&&null!=(null===u||void 0===u?void 0:u.initialPose)&&wf(c.store.getState(),0,void 0,o,u.initialPose,i),Lp(((e,t,n)=>{var r;if(null==A)return;const s=null===(r=vf.getState().trackedImages)||void 0===r||null===(r=r.get(A))||void 0===r?void 0:r.imageSpace;null!=s&&yf(e,t,n,o,s,i)}),-10),(0,r.useImperativeHandle)(t,(()=>o),[]),null==A?null:r.createElement("primitive",{object:o},a)})),new Rs),wI=new Float32Array([-1,-1,3,-1,-1,3]);var bI;yI.setAttribute("position",new gs(wI,2)),function(e){e.DEFAULT="default",e.TOUCHED="touched",e.PRESSED="pressed"}(bI||(bI={}));const xI=(e,t,n)=>{const i=Rm(e.profiles,t,n),s=(0,r.useMemo)((()=>{var t;return null===i||void 0===i||null===(t=i.layouts)||void 0===t||null===(t=t[e.handedness])||void 0===t?void 0:t.components}),[e.handedness,null===i||void 0===i?void 0:i.layouts]),a=(0,r.useCallback)((t=>{var n;const r=e.gamepad;if(!r||!s)return;const i=null===(n=s[t])||void 0===n?void 0:n.gamepadIndices;return void 0!==(null===i||void 0===i?void 0:i.button)?r.buttons[i.button]:void 0}),[e.gamepad,s]),o=(0,r.useCallback)((e=>{const t=a(e);return t?Math.min(1,Math.max(0,t.value)):0}),[a]),l=(0,r.useCallback)((e=>{const t=a(e);return t?t.pressed||1===t.value?bI.PRESSED:t.touched||t.value>.05?bI.TOUCHED:bI.DEFAULT:bI.DEFAULT}),[a]),A=(0,r.useCallback)(((t,n)=>{var r;const i=e.gamepad;if(!i||!s)return!1;const a=null===(r=s[t])||void 0===r?void 0:r.gamepadIndices,o=void 0!==(null===a||void 0===a?void 0:a.xAxis)?i.axes[a.xAxis]:0,l=void 0!==(null===a||void 0===a?void 0:a.yAxis)?i.axes[a.yAxis]:0;return n.set(o,l),!0}),[e.gamepad,s]);return(0,r.useMemo)((()=>({readButtonValue:o,readButton:a,readButtonState:l,readAxes:A})),[A,o,l,a])};function SI(e){let{foveation:t=0,frameRate:n,referenceSpace:i="local-floor",frameBufferScaling:s}=e;const a=Np((e=>e.gl.xr)),o=Tp();return(0,r.useEffect)((()=>vf.getState().setStore(o)),[o]),(0,r.useEffect)((()=>{a.setFoveation(t)}),[a,t]),(0,r.useEffect)((()=>{if(null!=n)return vf.subscribe(((e,t)=>{e.session!==t.session&&null!=e.session&&e.session.updateTargetFrameRate(n).catch(console.error)}))}),[n]),(0,r.useEffect)((()=>{null!=s&&a.setFramebufferScaleFactor(s)}),[a,s]),(0,r.useEffect)((()=>{a.setReferenceSpaceType(i)}),[a,i]),Lp(vf.getState().onFrame),null}function QI(){return QI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QI.apply(this,arguments)}var MI=n(494),_I=n.n(MI);function DI(e){let{debounce:t,scroll:n,polyfill:i,offsetSize:s}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e;const a=i||("undefined"===typeof window?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,l]=(0,r.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),A=(0,r.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=t?"number"===typeof t?t:t.scroll:null,u=t?"number"===typeof t?t:t.resize:null,h=(0,r.useRef)(!1);(0,r.useEffect)((()=>(h.current=!0,()=>{h.current=!1})));const[d,g,p]=(0,r.useMemo)((()=>{const e=()=>{if(!A.current.element)return;const{left:e,top:t,width:n,height:r,bottom:i,right:a,x:o,y:c}=A.current.element.getBoundingClientRect(),u={left:e,top:t,width:n,height:r,bottom:i,right:a,x:o,y:c};A.current.element instanceof HTMLElement&&s&&(u.height=A.current.element.offsetHeight,u.width=A.current.element.offsetWidth),Object.freeze(u),h.current&&!NI(A.current.lastBounds,u)&&l(A.current.lastBounds=u)};return[e,u?_I()(e,u):e,c?_I()(e,c):e]}),[l,s,c,u]);function f(){A.current.scrollContainers&&(A.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",p,!0))),A.current.scrollContainers=null),A.current.resizeObserver&&(A.current.resizeObserver.disconnect(),A.current.resizeObserver=null)}function m(){A.current.element&&(A.current.resizeObserver=new a(p),A.current.resizeObserver.observe(A.current.element),n&&A.current.scrollContainers&&A.current.scrollContainers.forEach((e=>e.addEventListener("scroll",p,{capture:!0,passive:!0}))))}var C,I,v;return C=p,I=Boolean(n),(0,r.useEffect)((()=>{if(I){const e=C;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[C,I]),v=g,(0,r.useEffect)((()=>{const e=v;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[v]),(0,r.useEffect)((()=>{f(),m()}),[n,p,g]),(0,r.useEffect)((()=>f),[]),[e=>{e&&e!==A.current.element&&(f(),A.current.element=e,A.current.scrollContainers=RI(e),m())},o,d]}function RI(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...RI(e.parentElement)]}const TI=["x","y","top","bottom","left","right","width","height"],NI=(e,t)=>TI.every((n=>e[n]===t[n]));var LI=Object.defineProperty,PI=Object.defineProperties,FI=Object.getOwnPropertyDescriptors,UI=Object.getOwnPropertySymbols,GI=Object.prototype.hasOwnProperty,kI=Object.prototype.propertyIsEnumerable,HI=(e,t,n)=>t in e?LI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OI=(e,t)=>{for(var n in t||(t={}))GI.call(t,n)&&HI(e,n,t[n]);if(UI)for(var n of UI(t))kI.call(t,n)&&HI(e,n,t[n]);return e};function zI(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=zI(r,t,n);if(e)return e;r=t?null:r.sibling}}function YI(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}const WI=YI(r.createContext(null));class VI extends r.Component{render(){return r.createElement(WI.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:JI,ReactCurrentDispatcher:KI}=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function qI(){const e=r.useContext(WI);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=r.useId();return r.useMemo((()=>{for(const n of[null==JI?void 0:JI.current,e,null==e?void 0:e.alternate]){if(!n)continue;const e=zI(n,!1,(e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(e)return e}}),[e,t])}function jI(){const e=function(){var e,t;const n=qI(),[i]=r.useState((()=>new Map));i.clear();let s=n;for(;s;){const n=null==(e=s.type)?void 0:e._context;n&&n!==WI&&!i.has(n)&&i.set(n,null==(t=null==KI?void 0:KI.current)?void 0:t.readContext(YI(n))),s=s.return}return i}();return r.useMemo((()=>Array.from(e.keys()).reduce(((t,n)=>i=>{return r.createElement(t,null,r.createElement(n.Provider,(s=OI({},i),a={value:e.get(n)},PI(s,FI(a)))));var s,a}),(e=>r.createElement(VI,OI({},e))))),[e])}const XI={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ZI(e){const{handlePointer:t}=Ip(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(XI).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=i.handlers)?n:[]).forEach((e=>{let[n,r]=e;const[i,s]=XI[n];t.addEventListener(i,r,{passive:s})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((e=>{let[t,r]=e;if(n&&n.connected instanceof HTMLElement){const[e]=XI[t];n.connected.removeEventListener(e,r)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}const $I=r.forwardRef((function(t,n){let{children:i,fallback:s,resize:a,style:o,gl:l,events:A=ZI,eventSource:c,eventPrefix:u,shadows:h,linear:d,flat:g,legacy:p,orthographic:f,frameloop:m,dpr:C,performance:I,raycaster:v,camera:E,scene:B,onPointerMissed:y,onCreated:w,...b}=t;r.useMemo((()=>{return t=e,void Object.assign(zg,t);var t}),[]);const x=jI(),[S,Q]=DI({scroll:!0,debounce:{scroll:50,resize:0},...a}),M=r.useRef(null),_=r.useRef(null);r.useImperativeHandle(n,(()=>M.current));const D=jg(y),[R,T]=r.useState(!1),[N,L]=r.useState(!1);if(R)throw R;if(N)throw N;const P=r.useRef(null);qg((()=>{const e=M.current;Q.width>0&&Q.height>0&&e&&(P.current||(P.current=Vp(e)),P.current.configure({gl:l,events:A,shadows:h,linear:d,flat:g,legacy:p,orthographic:f,frameloop:m,dpr:C,performance:I,raycaster:v,camera:E,scene:B,size:Q,onPointerMissed:function(){return null==D.current?void 0:D.current(...arguments)},onCreated:e=>{var t;null==e.events.connect||e.events.connect(c?(t=c)&&t.hasOwnProperty("current")?c.current:c:_.current),u&&e.setEvents({compute:(e,t)=>{const n=e[u+"X"],r=e[u+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==w||w(e)}}),P.current.render(r.createElement(x,null,r.createElement(Zg,{set:L},r.createElement(r.Suspense,{fallback:r.createElement(Xg,{set:T})},i)))))})),r.useEffect((()=>{const e=M.current;if(e)return()=>Kp(e)}),[]);const F=c?"none":"auto";return r.createElement("div",QI({ref:_,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:F,...o}},b),r.createElement("div",{ref:S,style:{width:"100%",height:"100%"}},r.createElement("canvas",{ref:M,style:{display:"block"}},s)))})),ev=r.forwardRef((function(e,t){return r.createElement(VI,null,r.createElement($I,QI({},e,{ref:t})))}));function tv(e){let{foveation:t,frameRate:n,referenceSpace:i,frameBufferScaling:s,filterClipped:a,filterIntersections:o,onClickMissed:l,onIntersections:A,onPointerDownMissed:c,onPointerUpMissed:u,dragDistance:h,children:d,...g}=e;return r.createElement(ev,{...g,events:tI},r.createElement(SI,{foveation:t,frameBufferScaling:s,frameRate:n,referenceSpace:i}),r.createElement(HC,{filterClipped:a,filterIntersections:o,onClickMissed:l,onIntersections:A,onPointerDownMissed:c,onPointerUpMissed:u,dragDistance:h}),d)}function nv(e){let{inputSource:t,children:n,filterIntersections:i,id:s,cursorColor:a="black",cursorOpacity:o=.5,cursorPressColor:l="white",cursorSize:A=.1,cursorVisible:c=!0,radius:u=.07,cursorOffset:h=.01,pressSoundUrl:d="https://coconut-xr.github.io/xsounds/plop.mp3",pressSoundVolume:g=.3,...p}=e;const f=(0,r.useRef)(null),m=(0,r.useRef)(null),C=(0,r.useRef)(1/0),I=(0,r.useRef)(!1),v=(0,r.useRef)(!1);Qf("squeezestart",t,(e=>{var t,n;null!==(t=E.current)&&void 0!==t&&t.visible&&null!=f.current&&f.current.play(),I.current=!0,lw(I.current,B,a,l),null===(n=m.current)||void 0===n||n.press(0,e)}),[]),Qf("squeezeend",t,(e=>{var t;I.current=!1,lw(I.current,B,a,l),null===(t=m.current)||void 0===t||t.release(0,e)}),[]);const E=(0,r.useRef)(null),B=(0,r.useMemo)((()=>new $y({transparent:!0,toneMapped:!1})),[]);lw(I.current,B,a,l),Aw(B,C.current,u/2,u,o);const y=Np((e=>{let{scene:t}=e;return t}));return null==t.gripSpace?null:r.createElement(xf,null,r.createElement(bf,{space:t.gripSpace},r.createElement(XC,{id:s,filterIntersections:i,onIntersections:e=>{sw(t,e,E,h),ow(e,t,v),0!==e.length&&(C.current=e[0].distance,Aw(B,C.current,u/2,u,o))},ref:m,radius:u,...p}),n,r.createElement(r.Suspense,{fallback:null},r.createElement(Tm,{inputSource:t}))),qp(r.createElement("mesh",{renderOrder:"left"===t.handedness?1:2,visible:c,scale:A,ref:E,material:B},r.createElement(r.Suspense,null,r.createElement(cw,{url:d,volume:g,ref:f})),r.createElement("planeGeometry",null)),y))}function rv(e){let{hand:t,inputSource:n,id:i,children:s,filterIntersections:a,cursorColor:o="black",cursorOpacity:l=.5,cursorPressColor:A="white",cursorSize:c=.1,cursorVisible:u=!0,radius:h=.07,cursorOffset:d=.01,childrenAtJoint:g="wrist",pressSoundUrl:p="https://coconut-xr.github.io/xsounds/plop.mp3",pressSoundVolume:f=.3,...m}=e;const C=(0,r.useRef)(null),I=(0,r.useRef)(null),v=(0,r.useRef)(1/0),E=(0,r.useRef)(!1),B=(0,r.useRef)(null),y=(0,r.useMemo)((()=>new $y({transparent:!0,toneMapped:!1})),[]);Qf("selectstart",n,(e=>{var t,n;null!==(t=B.current)&&void 0!==t&&t.visible&&null!=C.current&&C.current.play(),E.current=!0,lw(E.current,y,o,A),null===(n=I.current)||void 0===n||n.press(0,e)}),[]),Qf("selectend",n,(e=>{var t;E.current=!1,lw(E.current,y,o,A),null===(t=I.current)||void 0===t||t.release(0,e)}),[]),lw(E.current,y,o,A),Aw(y,v.current,h/2,h,l);const w=Np((e=>{let{scene:t}=e;return t}));return r.createElement(xf,null,r.createElement(r.Suspense,{fallback:null},r.createElement(Um,{hand:t,handedness:n.handedness},r.createElement(Pm,{rotationJoint:"wrist",joint:["thumb-tip","index-finger-tip"]},r.createElement(XC,{ref:I,radius:h,id:i,filterIntersections:a,onIntersections:e=>{sw(n,e,B,d),0!==e.length&&(v.current=e[0].distance,Aw(y,v.current,h/2,h,l))},...m})),null!=s&&r.createElement(Pm,{joint:g},s))),qp(r.createElement("mesh",{renderOrder:"left"===n.handedness?1:2,visible:u,scale:c,ref:B,material:y},r.createElement(r.Suspense,null,r.createElement(cw,{url:p,volume:f,ref:C})),r.createElement("planeGeometry",null)),w))}const iv=new Ur(0,0,-1),sv=new sr;function av(e){let{inputSource:t,children:n,filterIntersections:i,id:s,cursorColor:a="white",cursorPressColor:o="blue",cursorOpacity:l=.5,cursorSize:A=.1,cursorVisible:c=!0,rayColor:u="white",rayPressColor:h="blue",rayMaxLength:d=1,rayVisibile:g=!0,raySize:p=.005,cursorOffset:f=.01,pressSoundUrl:m="https://coconut-xr.github.io/xsounds/plop.mp3",pressSoundVolume:C=.3,scrollSpeed:I,...v}=e;const E=(0,r.useRef)(null),B=iw(t),y=(0,r.useRef)(null),w=(0,r.useRef)(!1),b=(0,r.useRef)(null),x=(0,r.useRef)(null),S=(0,r.useRef)(!1),Q=xI(t);Lp(((e,t)=>{var n;if(null!==(n=null===I)&&void 0!==n?n:null==y.current)return;if(!Q.readAxes("xr-standard-thumbstick",sv))return;const r=null!==I&&void 0!==I?I:300,i=new WheelEvent("wheel",{deltaX:sv.x*t*r,deltaY:sv.y*t*r});y.current.wheel(i)}));const M=(0,r.useMemo)((()=>new $y({transparent:!0,toneMapped:!1})),[]);M.opacity=l,lw(w.current||B,M,a,o);const _=(0,r.useMemo)((()=>new ew({transparent:!0,toneMapped:!1})),[]);lw(w.current,_,u,h),Qf("selectstart",t,(e=>{var t,n;null!==(t=b.current)&&void 0!==t&&t.visible&&null!=E.current&&E.current.play(),w.current=!0,lw(w.current||B,M,a,o),lw(w.current,_,u,h),null===(n=y.current)||void 0===n||n.press(0,e)}),[]),Qf("selectend",t,(e=>{var t;w.current=!1,lw(w.current,M,a,o),lw(w.current,_,u,h),null===(t=y.current)||void 0===t||t.release(0,e)}),[]);const D=Np((e=>{let{scene:t}=e;return t}));return r.createElement(xf,null,null!=t.gripSpace&&r.createElement(bf,{space:t.gripSpace},n,r.createElement(r.Suspense,{fallback:null},r.createElement(Tm,{inputSource:t}))),r.createElement(bf,{space:t.targetRaySpace},r.createElement(KC,{onIntersections:e=>{sw(t,e,b,f),aw(e,d,x),ow(e,t,S)},initialPressedElementIds:B?[0]:void 0,id:s,direction:iv,ref:y,filterIntersections:i,...v}),r.createElement("mesh",{visible:g&&!B,"scale-x":p,"scale-y":p,material:_,ref:x,renderOrder:"left"===t.handedness?3:4},r.createElement("boxGeometry",null))),qp(r.createElement("mesh",{renderOrder:"left"===t.handedness?1:2,visible:c,scale:A,ref:b,material:M},r.createElement(r.Suspense,null,r.createElement(cw,{url:m,volume:C,ref:E})),r.createElement("planeGeometry",null)),D))}const ov=new Ur(0,0,-1);function lv(e){let{hand:t,inputSource:n,id:i,children:s,filterIntersections:a,cursorColor:o="white",cursorPressColor:l="blue",cursorOpacity:A=.5,cursorSize:c=.1,cursorVisible:u=!0,rayColor:h="white",rayPressColor:d="blue",rayMaxLength:g=1,rayVisibile:p=!0,raySize:f=.005,cursorOffset:m=.01,childrenAtJoint:C="wrist",pressSoundUrl:I="https://coconut-xr.github.io/xsounds/plop.mp3",pressSoundVolume:v=.3,...E}=e;const B=(0,r.useRef)(null),y=(0,r.useRef)(null),w=(0,r.useRef)(!1),b=(0,r.useRef)(null),x=(0,r.useRef)(null),S=(0,r.useMemo)((()=>new $y({transparent:!0,toneMapped:!1})),[]);S.opacity=A,lw(w.current,S,o,l);const Q=(0,r.useMemo)((()=>new ew({transparent:!0,toneMapped:!1})),[]);lw(w.current,Q,h,d),Qf("selectstart",n,(e=>{var t,n;null!==(t=b.current)&&void 0!==t&&t.visible&&null!=B.current&&B.current.play(),w.current=!0,lw(w.current,Q,h,d),lw(w.current,S,o,l),null===(n=y.current)||void 0===n||n.press(0,e)}),[]),Qf("selectend",n,(e=>{var t;w.current=!1,lw(w.current,Q,h,d),lw(w.current,S,o,l),null===(t=y.current)||void 0===t||t.release(0,e)}),[]);const M=Np((e=>{let{scene:t}=e;return t}));return r.createElement(xf,null,r.createElement(r.Suspense,null,r.createElement(Um,{hand:t,handedness:n.handedness},null!=s&&r.createElement(Pm,{joint:C},s))),r.createElement(bf,{space:n.targetRaySpace},r.createElement(KC,{onIntersections:e=>{u&&sw(n,e,b,m),p&&aw(e,g,x)},direction:ov,filterIntersections:a,id:i,ref:y,...E}),r.createElement("mesh",{visible:p,"scale-x":f,"scale-y":f,material:Q,ref:x,renderOrder:"left"===n.handedness?3:4},r.createElement("boxGeometry",null))),qp(r.createElement("mesh",{renderOrder:"left"===n.handedness?1:2,visible:u,scale:c,ref:b,material:S},r.createElement(r.Suspense,null,r.createElement(cw,{url:I,volume:v,ref:B})),r.createElement("planeGeometry",null)),M))}function Av(e){let{hand:t,inputSource:n,id:i,children:s,filterIntersections:a,cursorSize:o=.1,cursorVisible:l=!0,hoverRadius:A=.1,pressRadius:c=.03,cursorColor:u="black",cursorPressColor:h="white",cursorOpacity:d=.5,cursorOffset:g=.01,childrenAtJoint:p="wrist",pressSoundUrl:f="https://coconut-xr.github.io/xsounds/plop.mp3",pressSoundVolume:m=.3,...C}=e;const I=(0,r.useRef)(null),v=Np((e=>{let{scene:t}=e;return t})),E=(0,r.useRef)(1/0),B=(0,r.useRef)(!1),y=(0,r.useRef)(null),w=(0,r.useMemo)((()=>new $y({transparent:!0,toneMapped:!1})),[]);return B.current=cv(E.current,w,u,h,d,B.current,(()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.play()}),A,c),r.createElement(xf,null,r.createElement(r.Suspense,null,r.createElement(Um,{hand:t,handedness:n.handedness},r.createElement(Pm,{joint:"index-finger-tip"},r.createElement(XC,{radius:A,distanceElement:{id:0,downRadius:c},id:i,filterIntersections:a,onIntersections:e=>{sw(n,e,y,g),0!==e.length&&(E.current=e[0].distance,B.current=cv(E.current,w,u,h,d,B.current,(()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.play()}),A,c))},...C})),null!=s&&r.createElement(Pm,{joint:p},s))),qp(r.createElement("mesh",{renderOrder:"left"===n.handedness?1:2,visible:l,scale:o,ref:y,material:w},r.createElement(r.Suspense,null,r.createElement(cw,{url:f,volume:m,ref:I})),r.createElement("planeGeometry",null)),v))}function cv(e,t,n,r,i,s,a,o,l){return null!=l&&e<l?(t.color.set(r),t.opacity=i,s||a(),!0):(Aw(t,e,null!==l&&void 0!==l?l:0,o,i),t.color.set(n),!1)}var uv=Object.defineProperty,hv=(e,t,n)=>(((e,t,n)=>{t in e?uv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);function dv(e,t,n,r,i){let s;if(e=e.subarray||e.slice?e:e.buffer,n=n.subarray||n.slice?n:n.buffer,e=t?e.subarray?e.subarray(t,i&&t+i):e.slice(t,i&&t+i):e,n.set)n.set(e,r);else for(s=0;s<e.length;s++)n[s+r]=e[s];return n}class gv extends ra{constructor(e){super({uniforms:{...Ea.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new ns(16777215)},opacity:{value:1},resolution:{value:new sr(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new sr(1,1)}},vertexShader:"\n  #include <common>\n  #include <logdepthbuf_pars_vertex>\n  #include <fog_pars_vertex>\n\n  attribute vec3 previous;\n  attribute vec3 next;\n  attribute float side;\n  attribute float width;\n  attribute float counters;\n  \n  uniform vec2 resolution;\n  uniform float lineWidth;\n  uniform vec3 color;\n  uniform float opacity;\n  uniform float sizeAttenuation;\n  \n  varying vec2 vUV;\n  varying vec4 vColor;\n  varying float vCounters;\n  \n  vec2 fix(vec4 i, float aspect) {\n    vec2 res = i.xy / i.w;\n    res.x *= aspect;\n  \tvCounters = counters;\n    return res;\n  }\n  \n  void main() {\n    float aspect = resolution.x / resolution.y;\n    vColor = vec4(color, opacity);\n    vUV = uv;\n  \n    mat4 m = projectionMatrix * modelViewMatrix;\n    vec4 finalPosition = m * vec4(position, 1.0);\n    vec4 prevPos = m * vec4(previous, 1.0);\n    vec4 nextPos = m * vec4(next, 1.0);\n  \n    vec2 currentP = fix(finalPosition, aspect);\n    vec2 prevP = fix(prevPos, aspect);\n    vec2 nextP = fix(nextPos, aspect);\n  \n    float w = lineWidth * width;\n  \n    vec2 dir;\n    if (nextP == currentP) dir = normalize(currentP - prevP);\n    else if (prevP == currentP) dir = normalize(nextP - currentP);\n    else {\n      vec2 dir1 = normalize(currentP - prevP);\n      vec2 dir2 = normalize(nextP - currentP);\n      dir = normalize(dir1 + dir2);\n  \n      vec2 perp = vec2(-dir1.y, dir1.x);\n      vec2 miter = vec2(-dir.y, dir.x);\n      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);\n    }\n  \n    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;\n    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);\n    normal.xy *= .5 * w;\n    //normal *= projectionMatrix;\n    if (sizeAttenuation == 0.) {\n      normal.xy *= finalPosition.w;\n      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy;\n    }\n  \n    finalPosition.xy += normal.xy * side;\n    gl_Position = finalPosition;\n    #include <logdepthbuf_vertex>\n    #include <fog_vertex>\n    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n    #include <fog_vertex>\n  }\n",fragmentShader:"\n  #include <fog_pars_fragment>\n  #include <logdepthbuf_pars_fragment>\n  \n  uniform sampler2D map;\n  uniform sampler2D alphaMap;\n  uniform float useMap;\n  uniform float useAlphaMap;\n  uniform float useDash;\n  uniform float dashArray;\n  uniform float dashOffset;\n  uniform float dashRatio;\n  uniform float visibility;\n  uniform float alphaTest;\n  uniform vec2 repeat;\n  \n  varying vec2 vUV;\n  varying vec4 vColor;\n  varying float vCounters;\n  \n  void main() {\n    #include <logdepthbuf_fragment>\n    vec4 c = vColor;\n    if (useMap == 1.) c *= texture2D(map, vUV * repeat);\n    if (useAlphaMap == 1.) c.a *= texture2D(alphaMap, vUV * repeat).a;\n    if (c.a < alphaTest) discard;\n    if (useDash == 1.) {\n      c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));\n    }\n    gl_FragColor = c;\n    gl_FragColor.a *= step(vCounters, visibility);\n    #include <fog_fragment>\n    #include <tonemapping_fragment>\n    #include <encodings_fragment>\n  }\n"}),hv(this,"lineWidth"),hv(this,"map"),hv(this,"useMap"),hv(this,"alphaMap"),hv(this,"useAlphaMap"),hv(this,"color"),hv(this,"resolution"),hv(this,"sizeAttenuation"),hv(this,"dashArray"),hv(this,"dashOffset"),hv(this,"dashRatio"),hv(this,"useDash"),hv(this,"visibility"),hv(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(e){this.uniforms.lineWidth.value=e}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(e){this.uniforms.map.value=e}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(e){this.uniforms.useMap.value=e}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(e){this.uniforms.alphaMap.value=e}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(e){this.uniforms.useAlphaMap.value=e}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(e){this.uniforms.color.value=e}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(e){this.uniforms.resolution.value.copy(e)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(e){this.uniforms.sizeAttenuation.value=e}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(e){this.uniforms.dashArray.value=e,this.useDash=0!==e?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(e){this.uniforms.dashOffset.value=e}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(e){this.uniforms.dashRatio.value=e}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(e){this.uniforms.useDash.value=e}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(e){this.uniforms.visibility.value=e}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(e){this.uniforms.alphaTest.value=e}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(e){this.uniforms.repeat.value.copy(e)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}const pv=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];Math.PI,Math.PI;function fv(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(pv[255&e]+pv[e>>8&255]+pv[e>>16&255]+pv[e>>24&255]+"-"+pv[255&t]+pv[t>>8&255]+"-"+pv[t>>16&15|64]+pv[t>>24&255]+"-"+pv[63&n|128]+pv[n>>8&255]+"-"+pv[n>>16&255]+pv[n>>24&255]+pv[255&r]+pv[r>>8&255]+pv[r>>16&255]+pv[r>>24&255]).toLowerCase()}function mv(e,t,n){return Math.max(t,Math.min(n,e))}const Cv=new Fc(new Ur(0,0,0),new Ur(0,0,-8),new Ur(0,-20,-15)).getPoints(20),Iv=(3*Cv.length-3)/(3*Cv.length-1),vv=new Float32Array(3*Cv.length);for(let n=0;n<Cv.length;n++)Cv[n].toArray(vv,3*n);const Ev=new class extends Rs{constructor(){super(),hv(this,"type","MeshLine"),hv(this,"isMeshLine",!0),hv(this,"positions",[]),hv(this,"previous",[]),hv(this,"next",[]),hv(this,"side",[]),hv(this,"width",[]),hv(this,"indices_array",[]),hv(this,"uvs",[]),hv(this,"counters",[]),hv(this,"widthCallback",null),hv(this,"_attributes"),hv(this,"_points",[]),hv(this,"points"),hv(this,"matrixWorld",new gi),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(e,t){if(e=function(e){return e instanceof Float32Array?e:e instanceof Rs?e.getAttribute("position").array:e.map((e=>{const t=Array.isArray(e);return e instanceof Ur?[e.x,e.y,e.z]:e instanceof sr?[e.x,e.y,0]:t&&3===e.length?[e[0],e[1],e[2]]:t&&2===e.length?[e[0],e[1],0]:e})).flat()}(e),this._points=e,this.widthCallback=null!=t?t:null,this.positions=[],this.counters=[],e.length&&e[0]instanceof Ur)for(let n=0;n<e.length;n++){const t=e[n],r=n/(e.length-1);this.positions.push(t.x,t.y,t.z),this.positions.push(t.x,t.y,t.z),this.counters.push(r),this.counters.push(r)}else for(let n=0;n<e.length;n+=3){const t=n/(e.length-1);this.positions.push(e[n],e[n+1],e[n+2]),this.positions.push(e[n],e[n+1],e[n+2]),this.counters.push(t),this.counters.push(t)}this.process()}compareV3(e,t){const n=6*e,r=6*t;return this.positions[n]===this.positions[r]&&this.positions[n+1]===this.positions[r+1]&&this.positions[n+2]===this.positions[r+2]}copyV3(e){const t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]}process(){const e=this.positions.length/6;let t,n;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],n=this.compareV3(0,e-1)?this.copyV3(e-2):this.copyV3(0),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);for(let r=0;r<e;r++){if(this.side.push(1),this.side.push(-1),t=this.widthCallback?this.widthCallback(r/(e-1)):1,this.width.push(t),this.width.push(t),this.uvs.push(r/(e-1),0),this.uvs.push(r/(e-1),1),r<e-1){n=this.copyV3(r),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);const e=2*r;this.indices_array.push(e,e+1,e+2),this.indices_array.push(e+2,e+1,e+3)}r>0&&(n=this.copyV3(r),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]))}n=this.compareV3(e-1,0)?this.copyV3(1):this.copyV3(e-1),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]),this._attributes&&this._attributes.position.count===this.positions.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new gs(new Float32Array(this.positions),3),previous:new gs(new Float32Array(this.previous),3),next:new gs(new Float32Array(this.next),3),side:new gs(new Float32Array(this.side),1),width:new gs(new Float32Array(this.width),1),uv:new gs(new Float32Array(this.uvs),2),index:new gs(new Uint16Array(this.indices_array),1),counters:new gs(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance(e){let{x:t,y:n,z:r}=e;const i=this._attributes.position.array,s=this._attributes.previous.array,a=this._attributes.next.array,o=i.length;dv(i,0,s,0,o),dv(i,6,i,0,o-6),i[o-6]=t,i[o-5]=n,i[o-4]=r,i[o-3]=t,i[o-2]=n,i[o-1]=r,dv(i,6,a,0,o-6),a[o-6]=t,a[o-5]=n,a[o-4]=r,a[o-3]=t,a[o-2]=n,a[o-1]=r,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}};Ev.setPoints(vv);const Bv=Cv.slice(0,-1).map(((e,t)=>e.distanceTo(Cv[t+1]))),yv=new Ia(1,1);yv.rotateX(-Math.PI/2);const wv=new Ur(0,1,0),bv=new Ur,xv=new Fr;const Sv=new wi(0,0,0,"YXZ");function Qv(e){return!0===e.object.userData.teleportTarget}const Mv=new Ur;function _v(e){let{hand:t,inputSource:n,children:i,onTeleport:s,teleportSoundUrl:a="https://coconut-xr.github.io/xsounds/plop.mp3",teleportSoundVolume:o=.3,...l}=e;const A=(0,r.useRef)(null),c=(0,r.useRef)(null),u=(0,r.useRef)(null),h=(0,r.useRef)(),d=(0,r.useRef)(s);d.current=s;const[g,p]=(0,r.useState)(!1),f=Tp();return Qf("selectstart",n,(()=>p(!0)),[]),Qf("selectend",n,(()=>{var e;(null!=A.current&&A.current.play(),null!=h.current)&&(f.getState().camera.getWorldPosition(Mv),Mv.setFromMatrixPosition(f.getState().camera.matrix).negate().setComponent(1,0).add(h.current.point),null===(e=d.current)||void 0===e||e.call(d,Mv.clone()));p(!1)}),[f]),Lp(((e,t)=>{const r=c.current,i=u.current;null!=r&&null!=i&&(r.position.copy(i.position),Sv.setFromQuaternion(i.quaternion),Sv.z=0,Sv.y+=("right"===n.handedness?1:-1)*(20*Math.PI)/180,Sv.x=mv(Sv.x-10*Math.PI/180,-Math.PI/2,1.1*Math.PI/4),xv.setFromEuler(Sv),r.quaternion.slerp(xv,10*t))})),r.createElement(xf,null,r.createElement(r.Suspense,{fallback:null},r.createElement(Um,{ref:u,hand:t,handedness:n.handedness},i)),r.createElement("group",{ref:c},r.createElement(r.Suspense,null,r.createElement(cw,{url:a,volume:o,ref:A})),g&&r.createElement(Rv,{inputSource:n,...l,currentIntersectionRef:h})))}function Dv(e){let{inputSource:t,children:n,onTeleport:i,teleportSoundUrl:s="https://coconut-xr.github.io/xsounds/plop.mp3",teleportSoundVolume:a=.3,...o}=e;const l=(0,r.useRef)(null),A=(0,r.useRef)(null),c=(0,r.useRef)(),u=(0,r.useRef)(i);u.current=i;const[h,d]=(0,r.useState)(!1),g=Tp();return Qf("selectstart",t,(()=>d(!0)),[]),Qf("selectend",t,(()=>{var e;(null!=l.current&&l.current.play(),null!=c.current)&&(g.getState().camera.getWorldPosition(Mv),Mv.setFromMatrixPosition(g.getState().camera.matrix).negate().setComponent(1,0).add(c.current.point),null===(e=u.current)||void 0===e||e.call(u,Mv.clone()));d(!1)}),[g]),Lp(((e,n,r)=>{const i=A.current;if(null==i)return;const s=e.gl.xr.getReferenceSpace();if(null==s||null==r)return void(i.visible=!1);const a=r.getPose(t.targetRaySpace,s);if(null!=a){i.visible=!0;{const{x:e,y:t,z:n}=a.transform.position;i.position.set(e,t,n)}{const{x:e,y:t,z:n,w:r}=a.transform.orientation;xv.set(e,t,n,r),i.rotation.setFromQuaternion(xv)}i.rotation.z=0,i.rotation.x=mv(i.rotation.x,-Math.PI/2,1.1*Math.PI/4)}else i.visible=!1})),r.createElement(xf,null,null!=t.gripSpace&&r.createElement(bf,{space:t.gripSpace},n,r.createElement(r.Suspense,{fallback:null},r.createElement(Tm,{inputSource:t}))),r.createElement("group",{"rotation-order":"YXZ",ref:A},r.createElement(r.Suspense,null,r.createElement(cw,{url:s,volume:a,ref:l})),h&&r.createElement(Rv,{inputSource:t,...o,currentIntersectionRef:c})))}function Rv(e){let{rayColor:t,raySize:n,filterIntersections:i,id:s,currentIntersectionRef:a,cursorColor:o="blue",cursorSize:l=.3,cursorOpacity:A=1,inputSource:c}=e;const u=iw(c),h=(0,r.useRef)(null),d=(0,r.useMemo)((()=>new gv({toneMapped:!1,lineWidth:.1,transparent:!0,visibility:1*Iv})),[]);d.color.set(null!==t&&void 0!==t?t:"blue"),d.lineWidth=null!==n&&void 0!==n?n:.01;const g=(0,r.useMemo)((()=>new $y({toneMapped:!1,transparent:!0})),[]);g.color.set(o),g.opacity=A;const p=(0,r.useCallback)((e=>{let t=1*Iv;if(e.length>0){const n=Bv[e[0].lineIndex];t=Iv*(e[0].lineIndex+e[0].distanceOnLine/n)/(Cv.length-1),a.current=e[0]}else a.current=void 0;if(d.visibility=t,null!=h.current&&(h.current.visible=e.length>0,e.length>0)){const t=e[0];h.current.position.copy(t.point),null!=t.face&&(h.current.quaternion.setFromUnitVectors(wv,t.face.normal),t.object.getWorldQuaternion(xv),h.current.quaternion.multiply(xv),bv.set(0,.01,0),bv.applyQuaternion(h.current.quaternion),h.current.position.add(bv))}}),[]),f=(0,r.useCallback)((e=>{const t=e.filter(Qv);return null==i?t:i(t)}),[i]),m=Np((e=>{let{scene:t}=e;return t}));return r.createElement(r.Fragment,null,r.createElement(eI,{points:Cv,onIntersections:p,filterIntersections:f,initialPressedElementIds:u?[0]:void 0,id:s}),r.createElement("mesh",{geometry:Ev,material:d}),qp(r.createElement("mesh",{scale:l,ref:h,geometry:yv,material:g}),m))}class Tv extends Vl{constructor(){super(...arguments),zm(this,"screenSpaceZ",void 0),zm(this,"pointerStateMap",new Map),zm(this,"pixelDragThresholdSquared",0)}}function Nv(e,t){return e.divide(t),isFinite(e.x)||(e.x=0),"y"in e&&!isFinite(e.y)&&(e.y=0),"z"in e&&!isFinite(e.z)&&(e.z=0),e}function Lv(e,t){return 0===t?0:e/t}function Pv(e,t){return 0===t?e.set(0,0,0,0):e.divideScalar(t),e}const Fv=new Ur;function Uv(e,t){return Fv.set(e.x,e.y,t)}function Gv(e,t,n){t.position.copy(e.translate),e.translate=t.position,t.scale.copy(e.scale),e.scale=t.scale,n.borderColor.copy(e.borderColor),e.borderColor=n.borderColor}const kv=new Mr(.5,.5,.5,.5);function Hv(e,t,n){n.opacity=e.backgroundOpacity.x,n.color.setRGB(e.backgroundColor.x,e.backgroundColor.y,e.backgroundColor.z),t.visible=e.borderOpacity.x>.001||e.backgroundOpacity.x>.001,n.borderOpacity=e.borderOpacity.x,n.borderBend=e.borderBend.x,n.ratio=Lv(e.scale.x,e.scale.y),Pv(n.borderRadius.copy(e.borderRadius),e.scale.y).min(kv),Pv(n.borderSize.copy(e.borderSize),e.scale.y)}const Ov=new Ur,zv=new Ur;function Yv(e){const t=Object.assign(e,{defaultPrevented:!1});return Object.assign(t,{preventDefault:()=>t.defaultPrevented=!0})}class Wv{constructor(){zm(this,"isDying",!1),zm(this,"prevInteractionMap",new Map),zm(this,"scrollVelocity",new sr),zm(this,"customEvents",{}),zm(this,"onContextMenu",(e=>{var t,n;this.isDying||null===(t=(n=this.customEvents).onContextMenu)||void 0===t||t.call(n,Yv(e))})),zm(this,"onDoubleClick",(e=>{var t,n;this.isDying||null===(t=(n=this.customEvents).onDoubleClick)||void 0===t||t.call(n,Yv(e))})),zm(this,"onPointerOver",(e=>{var t,n;this.isDying||null===(t=(n=this.customEvents).onPointerOver)||void 0===t||t.call(n,Yv(e))})),zm(this,"onPointerLeave",(e=>{var t,n;this.isDying||null===(t=(n=this.customEvents).onPointerLeave)||void 0===t||t.call(n,Yv(e))})),zm(this,"onPointerCancel",(e=>{var t,n;this.isDying||null===(t=(n=this.customEvents).onPointerCancel)||void 0===t||t.call(n,Yv(e))})),zm(this,"onPointerNotPressed",(e=>{const t=this.bucket.pointerStateMap.get(e.pointerId);null!=t&&(t.pressedHandlers.delete(this),0===t.pressedHandlers.size&&this.bucket.pointerStateMap.delete(e.pointerId))})),zm(this,"onPointerUp",(e=>{var t,n;this.isDying||(this.prevInteractionMap.delete(e.pointerId),null===(t=(n=this.customEvents).onPointerUp)||void 0===t||t.call(n,Yv(e)),this.onPointerNotPressed(e))})),zm(this,"onPointerOut",(e=>{var t,n;this.isDying||(this.prevInteractionMap.delete(e.pointerId),null===(t=(n=this.customEvents).onPointerOut)||void 0===t||t.call(n,Yv(e)),this.onPointerNotPressed(e))})),zm(this,"onPointerDown",(e=>{var t,n;if(this.isDying)return;if(null===(t=(n=this.customEvents).onPointerDown)||void 0===t||t.call(n,Yv(e)),e.defaultPrevented)return;let r=this.prevInteractionMap.get(e.pointerId);null==r&&this.prevInteractionMap.set(e.pointerId,r={timestamp:0,point:new Ur}),r.timestamp=performance.now()/1e3,this.bucket.worldToLocal(r.point.copy(e.point));let i=this.bucket.pointerStateMap.get(e.pointerId);null==i&&this.bucket.pointerStateMap.set(e.pointerId,i={isDrag:!1,pressedHandlers:new Set,pressPoint:r.point.clone()}),i.pressedHandlers.add(this)})),zm(this,"onPointerEnter",(e=>{var t,n;if(this.isDying)return;if(null===(t=(n=this.customEvents).onPointerEnter)||void 0===t||t.call(n,Yv(e)),e.defaultPrevented||1!=e.buttons)return;let r=this.prevInteractionMap.get(e.pointerId);null==r&&this.prevInteractionMap.set(e.pointerId,r={timestamp:0,point:new Ur}),r.timestamp=performance.now()/1e3,this.bucket.worldToLocal(r.point.copy(e.point))})),zm(this,"onPointerMove",(e=>{var t,n;if(this.isDying)return;const r=this.prevInteractionMap.get(e.pointerId);if(null===(t=(n=this.customEvents).onPointerMove)||void 0===t||t.call(n,Yv(e)),e.defaultPrevented||null==r)return;if(!("pointerId"in e))return;const i=this.bucket.pointerStateMap.get(e.pointerId);if(null==i)return;if(this.bucket.worldToLocal(zv.copy(e.point)),!i.isDrag&&function(e,t){const n=t.x-t.x,r=e.y-t.y;return n*n+r*r}(zv,i.pressPoint)>this.bucket.pixelDragThresholdSquared&&(i.isDrag=!0),!i.isDrag)return;Ov.copy(zv).sub(r.point);const s=performance.now()/1e3,a=s-r.timestamp;r.point.copy(zv),r.timestamp=s,this.onScroll(Ov.x,Ov.y)&&(a>.01&&this.scrollVelocity.set(Ov.x,Ov.y).divideScalar(a),e.stopPropagation())})),zm(this,"onWheel",(e=>{var t,n;if(this.isDying)return;if(this.scrollVelocity.set(0,0),null===(t=(n=this.customEvents).onWheel)||void 0===t||t.call(n,Yv(e)),e.defaultPrevented)return;const r=-e.deltaX,i=e.deltaY;this.onScroll(r,i)&&e.stopPropagation()})),zm(this,"onClick",(e=>{var t,n,r;this.isDying||"pointerId"in e&&null!==(t=this.bucket.pointerStateMap.get(e.pointerId))&&void 0!==t&&t.isDrag||null===(n=(r=this.customEvents).onClick)||void 0===n||n.call(r,Yv(e))}))}onPointerMissed(e){var t,n;this.isDying||null===(t=(n=this.customEvents).onPointerMissed)||void 0===t||t.call(n,e)}cleanupHandler(){for(const[e,t]of this.bucket.pointerStateMap)t.pressedHandlers.delete(this),0==t.pressedHandlers.size&&this.bucket.pointerStateMap.delete(e)}applyScrollVelocity(e){this.prevInteractionMap.size>0||0===this.scrollVelocity.y&&0===this.scrollVelocity.x||(this.onScroll(this.scrollVelocity.x*e,this.scrollVelocity.y*e),this.scrollVelocity.multiplyScalar(.9),Math.abs(this.scrollVelocity.x)<.01&&(this.scrollVelocity.x=0),Math.abs(this.scrollVelocity.y)<.01&&(this.scrollVelocity.y=0))}}const Vv=new Ur(0,0,0),Jv=new Ur(1,1,1),Kv={translate:Vv,scale:Jv},qv=new Ur;const jv=new Ur;function Xv(e){return jv.copy(e),jv.z=1,jv}function Zv(e,t){let{translate:n,scale:r}=e,{translate:i,scale:s}=t,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kv;const o=Xv(a.scale);var l,A;!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vv,r=arguments.length>3?arguments[3]:void 0;Nv(e.copy(t).sub(n),r)}(n,i,a.translate,o),l=s,A=o,Nv(r.copy(l),A)}function $v(e,t){let{translate:n,scale:r}=e,{translate:i,scale:s}=t,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kv;const o=Xv(a.scale);var l,A;!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vv,r=arguments.length>3?arguments[3]:void 0;e.copy(t).multiply(r).add(n)}(n,i,a.translate,o),l=s,A=o,r.copy(l).multiply(A)}const eE=new Map;function tE(e){let t=eE.get(e.constructor);return null==t?(t=e.clone(),eE.set(e.constructor,t)):t.copy(e),t}const nE=["x","y","z","w"];function rE(e,t,n){if(null==t)return n;const r=e[t];if(null==r)throw new Error("unexpected value ".concat(t,", expected ").concat(Object.keys(e).join(", ")));return r}function iE(e,t,n){return"number"===typeof e?Math.round(e/t):null!==e&&void 0!==e?e:n}const sE={static:0,relative:1,absolute:2},aE={auto:0,"flex-start":1,center:2,"flex-end":3,stretch:4,baseline:5,"space-between":6,"space-around":7},oE={column:0,"column-reverse":1,row:2,"row-reverse":3},lE={"no-wrap":0,wrap:1,"wrap-reverse":2},AE={"flex-start":0,center:1,"flex-end":2,"space-between":3,"space-around":4,"space-evenly":5},cE={visible:0,hidden:1,scroll:2},uE={flex:0,none:1},hE={positionType:(e,t,n)=>e.setPositionType(rE(sE,n,0)),positionTop:(e,t,n)=>e.setPosition(1,iE(n,t,NaN)),positionLeft:(e,t,n)=>e.setPosition(0,iE(n,t,NaN)),positionRight:(e,t,n)=>e.setPosition(2,iE(n,t,NaN)),positionBottom:(e,t,n)=>e.setPosition(3,iE(n,t,NaN)),alignContent:(e,t,n)=>e.setAlignContent(rE(aE,n,1)),alignItems:(e,t,n)=>e.setAlignItems(rE(aE,n,4)),alignSelf:(e,t,n)=>e.setAlignSelf(rE(aE,n,0)),flexDirection:(e,t,n)=>e.setFlexDirection(rE(oE,n,0)),flexWrap:(e,t,n)=>e.setFlexWrap(rE(lE,n,0)),justifyContent:(e,t,n)=>e.setJustifyContent(rE(AE,n,0)),marginTop:(e,t,n)=>e.setMargin(1,iE(n,t,NaN)),marginLeft:(e,t,n)=>e.setMargin(0,iE(n,t,NaN)),marginRight:(e,t,n)=>e.setMargin(2,iE(n,t,NaN)),marginBottom:(e,t,n)=>e.setMargin(3,iE(n,t,NaN)),flexBasis:(e,t,n)=>e.setFlexBasis(iE(n,t,NaN)),flexGrow:(e,t,n)=>e.setFlexGrow(null!==n&&void 0!==n?n:0),flexShrink:(e,t,n)=>e.setFlexShrink(null!==n&&void 0!==n?n:0),width:(e,t,n)=>e.setWidth(iE(n,t,NaN)),height:(e,t,n)=>e.setHeight(iE(n,t,NaN)),minWidth:(e,t,n)=>e.setMinWidth(iE(n,t,NaN)),minHeight:(e,t,n)=>e.setMinHeight(iE(n,t,NaN)),maxWidth:(e,t,n)=>e.setMaxWidth(iE(n,t,NaN)),maxHeight:(e,t,n)=>e.setMaxHeight(iE(n,t,NaN)),aspectRatio:(e,t,n)=>e.setAspectRatio(null!==n&&void 0!==n?n:NaN),borderTop:(e,t,n)=>e.setBorder(1,iE(n,t,NaN)),borderLeft:(e,t,n)=>e.setBorder(0,iE(n,t,NaN)),borderRight:(e,t,n)=>e.setBorder(2,iE(n,t,NaN)),borderBottom:(e,t,n)=>e.setBorder(3,iE(n,t,NaN)),overflow:(e,t,n)=>e.setOverflow(rE(cE,n,0)),display:(e,t,n)=>e.setDisplay(rE(uE,n,0)),paddingTop:(e,t,n)=>e.setPadding(1,iE(n,t,NaN)),paddingLeft:(e,t,n)=>e.setPadding(0,iE(n,t,NaN)),paddingRight:(e,t,n)=>e.setPadding(2,iE(n,t,NaN)),paddingBottom:(e,t,n)=>e.setPadding(3,iE(n,t,NaN)),gapRow:(e,t,n)=>e.setGap(1,iE(n,t,NaN)),gapColumn:(e,t,n)=>e.setGap(0,iE(n,t,NaN))};var dE={},gE=(dE.ALIGN_AUTO=0,dE.ALIGN_FLEX_START=1,dE.ALIGN_CENTER=2,dE.ALIGN_FLEX_END=3,dE.ALIGN_STRETCH=4,dE.ALIGN_BASELINE=5,dE.ALIGN_SPACE_BETWEEN=6,dE.ALIGN_SPACE_AROUND=7,dE.DIMENSION_WIDTH=0,dE.DIMENSION_HEIGHT=1,dE.DIRECTION_INHERIT=0,dE.DIRECTION_LTR=1,dE.DIRECTION_RTL=2,dE.DISPLAY_FLEX=0,dE.DISPLAY_NONE=1,dE.EDGE_LEFT=0),pE=dE.EDGE_TOP=1,fE=dE.EDGE_RIGHT=2,mE=dE.EDGE_BOTTOM=3,CE=(dE.EDGE_START=4,dE.EDGE_END=5,dE.EDGE_HORIZONTAL=6,dE.EDGE_VERTICAL=7,dE.EDGE_ALL=8,dE.EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS=0,dE.EXPERIMENTAL_FEATURE_ABSOLUTE_PERCENTAGE_AGAINST_PADDING_EDGE=1,dE.EXPERIMENTAL_FEATURE_FIX_ABSOLUTE_TRAILING_COLUMN_MARGIN=2,dE.FLEX_DIRECTION_COLUMN=0,dE.FLEX_DIRECTION_COLUMN_REVERSE=1,dE.FLEX_DIRECTION_ROW=2,dE.FLEX_DIRECTION_ROW_REVERSE=3,dE.GUTTER_COLUMN=0,dE.GUTTER_ROW=1,dE.GUTTER_ALL=2,dE.JUSTIFY_FLEX_START=0,dE.JUSTIFY_CENTER=1,dE.JUSTIFY_FLEX_END=2,dE.JUSTIFY_SPACE_BETWEEN=3,dE.JUSTIFY_SPACE_AROUND=4,dE.JUSTIFY_SPACE_EVENLY=5,dE.LOG_LEVEL_ERROR=0,dE.LOG_LEVEL_WARN=1,dE.LOG_LEVEL_INFO=2,dE.LOG_LEVEL_DEBUG=3,dE.LOG_LEVEL_VERBOSE=4,dE.LOG_LEVEL_FATAL=5,dE.MEASURE_MODE_UNDEFINED=0,dE.MEASURE_MODE_EXACTLY=1,dE.MEASURE_MODE_AT_MOST=2,dE.NODE_TYPE_DEFAULT=0,dE.NODE_TYPE_TEXT=1,dE.OVERFLOW_VISIBLE=0),IE=(dE.OVERFLOW_HIDDEN=1,dE.OVERFLOW_SCROLL=2);dE.POSITION_TYPE_STATIC=0,dE.POSITION_TYPE_RELATIVE=1,dE.POSITION_TYPE_ABSOLUTE=2,dE.PRINT_OPTIONS_LAYOUT=1,dE.PRINT_OPTIONS_STYLE=2,dE.PRINT_OPTIONS_CHILDREN=4,dE.UNIT_UNDEFINED=0,dE.UNIT_POINT=1,dE.UNIT_PERCENT=2,dE.UNIT_AUTO=3,dE.WRAP_NO_WRAP=0,dE.WRAP_WRAP=1,dE.WRAP_WRAP_REVERSE=2;var vE=e=>{function t(e,t,n){let r=e[t];e[t]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.call(this,r,...t)}}for(let i of["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding"]){let n={[dE.UNIT_POINT]:e.Node.prototype[i],[dE.UNIT_PERCENT]:e.Node.prototype["".concat(i,"Percent")],[dE.UNIT_AUTO]:e.Node.prototype["".concat(i,"Auto")]};t(e.Node.prototype,i,(function(e){let t,r;for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];let l=a.pop();if("auto"===l)t=dE.UNIT_AUTO,r=void 0;else if("object"==typeof l)t=l.unit,r=l.valueOf();else if(t="string"==typeof l&&l.endsWith("%")?dE.UNIT_PERCENT:dE.UNIT_POINT,r=parseFloat(l),!Number.isNaN(l)&&Number.isNaN(r))throw Error("Invalid value ".concat(l," for ").concat(i));if(!n[t])throw Error('Failed to execute "'.concat(i,"\": Unsupported unit '").concat(l,"'"));return void 0!==r?n[t].call(this,...a,r):n[t].call(this,...a)}))}function n(t){return e.MeasureCallback.implement({measure:function(){let{width:e,height:n}=t(...arguments);return{width:null!==e&&void 0!==e?e:NaN,height:null!==n&&void 0!==n?n:NaN}}})}function r(t){return e.DirtiedCallback.implement({dirtied:t})}return t(e.Node.prototype,"setMeasureFunc",(function(e,t){return t?e.call(this,n(t)):this.unsetMeasureFunc()})),t(e.Node.prototype,"setDirtiedFunc",(function(e,t){e.call(this,r(t))})),t(e.Config.prototype,"free",(function(){e.Config.destroy(this)})),t(e.Node,"create",((t,n)=>n?e.Node.createWithConfig(n):e.Node.createDefault())),t(e.Node.prototype,"free",(function(){e.Node.destroy(this)})),t(e.Node.prototype,"freeRecursive",(function(){for(let e=0,t=this.getChildCount();e<t;++e)this.getChild(0).freeRecursive();this.free()})),t(e.Node.prototype,"calculateLayout",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dE.DIRECTION_LTR;return e.call(this,t,n,r)})),{Config:e.Config,Node:e.Node,...dE}},EE=(()=>{var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l||(l=void 0!==t?t:{}),l.ready=new Promise((function(e,t){A=e,c=t}));var n,r,i=Object.assign({},l),s="";"undefined"!=typeof document&&document.currentScript&&(s=document.currentScript.src),e&&(s=e),s=0!==s.indexOf("blob:")?s.substr(0,s.replace(/[?#].*/,"").lastIndexOf("/")+1):"";var a=console.log.bind(console),o=console.warn.bind(console);Object.assign(l,i),i=null,"object"!=typeof WebAssembly&&M("no native wasm support detected");var l,A,c,u,h=!1;function d(e,t,n){n=t+n;for(var r="";!(t>=n);){var i=e[t++];if(!i)break;if(128&i){var s=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|s);else{var a=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|s<<6|a:(7&i)<<18|s<<12|a<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function g(){var e=u.buffer;l.HEAP8=p=new Int8Array(e),l.HEAP16=m=new Int16Array(e),l.HEAP32=I=new Int32Array(e),l.HEAPU8=f=new Uint8Array(e),l.HEAPU16=C=new Uint16Array(e),l.HEAPU32=v=new Uint32Array(e),l.HEAPF32=E=new Float32Array(e),l.HEAPF64=B=new Float64Array(e)}var p,f,m,C,I,v,E,B,y,w=[],b=[],x=[],S=0,Q=null;function M(e){throw o(e="Aborted("+e+")"),h=!0,c(e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info.")),e}function _(){return n.startsWith("data:application/octet-stream;base64,")}function D(){try{throw"both async and sync fetching of the wasm failed"}catch(e){M(e)}}function R(e){for(;0<e.length;)e.shift()(l)}function T(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?"_"+e:e}function N(e,t){return e=T(e),function(){return t.apply(this,arguments)}}n="yoga.wasm",_()||(n=s+n);var L=[{},{value:void 0},{value:null},{value:!0},{value:!1}],P=[];function F(e){var t=Error,n=N(e,(function(t){this.name=e,this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var U=void 0;function G(e){throw new U(e)}var k=e=>(e||G("Cannot use deleted val. handle = "+e),L[e].value),H=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=P.length?P.pop():L.length;return L[t]={fa:1,value:e},t}},O=void 0,z=void 0;function Y(e){for(var t="";f[e];)t+=z[f[e++]];return t}var W=[];function V(){for(;W.length;){var e=W.pop();e.L.Z=!1,e.delete()}}var J=void 0,K={};function q(e,t){for(void 0===t&&G("ptr should not be undefined");e.P;)t=e.aa(t),e=e.P;return t}var j={};function X(e){var t=Y(e=Je(e));return qe(e),t}function Z(e,t){var n=j[e];return void 0===n&&G(t+" has unknown type "+X(e)),n}function $(){}var ee=!1;function te(e){--e.count.value,0===e.count.value&&(e.S?e.T.V(e.S):e.O.M.V(e.N))}var ne={},re=void 0;function ie(e){throw new re(e)}function se(e,t){return t.O&&t.N||ie("makeClassHandle requires ptr and ptrType"),!!t.T!=!!t.S&&ie("Both smartPtrType and smartPtr must be specified"),t.count={value:1},ae(Object.create(e,{L:{value:t}}))}function ae(e){return"undefined"==typeof FinalizationRegistry?(ae=e=>e,e):(ee=new FinalizationRegistry((e=>{te(e.L)})),ae=e=>{var t=e.L;return t.S&&ee.register(e,{L:t},e),e},$=e=>{ee.unregister(e)},ae(e))}var oe={};function le(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Ae(e){return this.fromWireType(I[e>>2])}var ce={},ue={};function he(e,t,n){function r(t){(t=n(t)).length!==e.length&&ie("Mismatched type converter count");for(var r=0;r<e.length;++r)ge(e[r],t[r])}e.forEach((function(e){ue[e]=t}));var i=Array(t.length),s=[],a=0;t.forEach(((e,t)=>{j.hasOwnProperty(e)?i[t]=j[e]:(s.push(e),ce.hasOwnProperty(e)||(ce[e]=[]),ce[e].push((()=>{i[t]=j[e],++a===s.length&&r(i)})))})),0===s.length&&r(i)}function de(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw TypeError("Unknown type size: "+e)}}function ge(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("argPackAdvance"in t))throw TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||G('type "'+r+'" must have a positive integer typeid pointer'),j.hasOwnProperty(e)){if(n.ta)return;G("Cannot register type '"+r+"' twice")}j[e]=t,delete ue[e],ce.hasOwnProperty(e)&&(t=ce[e],delete ce[e],t.forEach((e=>e())))}function pe(e){G(e.L.O.M.name+" instance already deleted")}function fe(){}function me(e,t,n){if(void 0===e[t].R){var r=e[t];e[t]=function(){return e[t].R.hasOwnProperty(arguments.length)||G("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].R+")!"),e[t].R[arguments.length].apply(this,arguments)},e[t].R=[],e[t].R[r.Y]=r}}function Ce(e,t,n,r,i,s,a,o){this.name=e,this.constructor=t,this.W=n,this.V=r,this.P=i,this.oa=s,this.aa=a,this.ma=o,this.ia=[]}function Ie(e,t,n){for(;t!==n;)t.aa||G("Expected null or instance of "+n.name+", got an instance of "+t.name),e=t.aa(e),t=t.P;return e}function ve(e,t){return null===t?(this.da&&G("null is not a valid "+this.name),0):(t.L||G('Cannot pass "'+Re(t)+'" as a '+this.name),t.L.N||G("Cannot pass deleted object as a pointer of type "+this.name),Ie(t.L.N,t.L.O.M,this.M))}function Ee(e,t){if(null===t){if(this.da&&G("null is not a valid "+this.name),this.ca){var n=this.ea();return null!==e&&e.push(this.V,n),n}return 0}if(t.L||G('Cannot pass "'+Re(t)+'" as a '+this.name),t.L.N||G("Cannot pass deleted object as a pointer of type "+this.name),!this.ba&&t.L.O.ba&&G("Cannot convert argument of type "+(t.L.T?t.L.T.name:t.L.O.name)+" to parameter type "+this.name),n=Ie(t.L.N,t.L.O.M,this.M),this.ca)switch(void 0===t.L.S&&G("Passing raw pointer to smart pointer is illegal"),this.Aa){case 0:t.L.T===this?n=t.L.S:G("Cannot convert argument of type "+(t.L.T?t.L.T.name:t.L.O.name)+" to parameter type "+this.name);break;case 1:n=t.L.S;break;case 2:if(t.L.T===this)n=t.L.S;else{var r=t.clone();n=this.wa(n,H((function(){r.delete()}))),null!==e&&e.push(this.V,n)}break;default:G("Unsupporting sharing policy")}return n}function Be(e,t){return null===t?(this.da&&G("null is not a valid "+this.name),0):(t.L||G('Cannot pass "'+Re(t)+'" as a '+this.name),t.L.N||G("Cannot pass deleted object as a pointer of type "+this.name),t.L.O.ba&&G("Cannot convert argument of type "+t.L.O.name+" to parameter type "+this.name),Ie(t.L.N,t.L.O.M,this.M))}function ye(e,t,n,r){this.name=e,this.M=t,this.da=n,this.ba=r,this.ca=!1,this.V=this.wa=this.ea=this.ja=this.Aa=this.va=void 0,void 0!==t.P?this.toWireType=Ee:(this.toWireType=r?ve:Be,this.U=null)}var we=[];function be(e){var t=we[e];return t||(e>=we.length&&(we.length=e+1),we[e]=t=y.get(e)),t}function xe(e,t){var n,r,i=(e=Y(e)).includes("j")?(n=e,r=[],function(){if(r.length=0,Object.assign(r,arguments),n.includes("j")){var e=l["dynCall_"+n];e=r&&r.length?e.apply(null,[t].concat(r)):e.call(null,t)}else e=be(t).apply(null,r);return e}):be(t);return"function"!=typeof i&&G("unknown function pointer with signature "+e+": "+t),i}var Se=void 0;function Qe(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||j[t]||(ue[t]?ue[t].forEach(e):(n.push(t),r[t]=!0))})),new Se(e+": "+n.map(X).join([", "]))}function Me(e,t,n,r,i){var s=t.length;2>s&&G("argTypes array size mismatch! Must at least get return value and 'this' types!");var a=null!==t[1]&&null!==n,o=!1;for(n=1;n<t.length;++n)if(null!==t[n]&&void 0===t[n].U){o=!0;break}var l="void"!==t[0].name,A=s-2,c=Array(A),u=[],h=[];return function(){if(arguments.length!==A&&G("function "+e+" called with "+arguments.length+" arguments, expected "+A+" args!"),h.length=0,u.length=a?2:1,u[0]=i,a){var n=t[1].toWireType(h,this);u[1]=n}for(var s=0;s<A;++s)c[s]=t[s+2].toWireType(h,arguments[s]),u.push(c[s]);if(s=r.apply(null,u),o)le(h);else for(var d=a?1:2;d<t.length;d++){var g=1===d?n:c[d-2];null!==t[d].U&&t[d].U(g)}return l?t[0].fromWireType(s):void 0}}function _e(e,t){for(var n=[],r=0;r<e;r++)n.push(v[t+4*r>>2]);return n}function De(e){4<e&&0==--L[e].fa&&(L[e]=void 0,P.push(e))}function Re(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Te(e,t){for(var n="",r=0;!(r>=t/2);++r){var i=m[e+2*r>>1];if(0==i)break;n+=String.fromCharCode(i)}return n}function Ne(e,t,n){if(void 0===n&&(n=2147483647),2>n)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var i=0;i<n;++i)m[t>>1]=e.charCodeAt(i),t+=2;return m[t>>1]=0,t-r}function Le(e){return 2*e.length}function Pe(e,t){for(var n=0,r="";!(n>=t/4);){var i=I[e+4*n>>2];if(0==i)break;++n,65536<=i?(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i)):r+=String.fromCharCode(i)}return r}function Fe(e,t,n){if(void 0===n&&(n=2147483647),4>n)return 0;var r=t;n=r+n-4;for(var i=0;i<e.length;++i){var s=e.charCodeAt(i);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),I[t>>2]=s,(t+=4)+4>n)break}return I[t>>2]=0,t-r}function Ue(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t}var Ge={};function ke(e){var t=Ge[e];return void 0===t?Y(e):t}var He=[],Oe=[],ze=[null,[],[]];U=l.BindingError=F("BindingError"),l.count_emval_handles=function(){for(var e=0,t=5;t<L.length;++t)void 0!==L[t]&&++e;return e},l.get_first_emval=function(){for(var e=5;e<L.length;++e)if(void 0!==L[e])return L[e];return null},O=l.PureVirtualError=F("PureVirtualError");for(var Ye=Array(256),We=0;256>We;++We)Ye[We]=String.fromCharCode(We);z=Ye,l.getInheritedInstanceCount=function(){return Object.keys(K).length},l.getLiveInheritedInstances=function(){var e,t=[];for(e in K)K.hasOwnProperty(e)&&t.push(K[e]);return t},l.flushPendingDeletes=V,l.setDelayFunction=function(e){J=e,W.length&&J&&J(V)},re=l.InternalError=F("InternalError"),fe.prototype.isAliasOf=function(e){if(!(this instanceof fe&&e instanceof fe))return!1;var t=this.L.O.M,n=this.L.N,r=e.L.O.M;for(e=e.L.N;t.P;)n=t.aa(n),t=t.P;for(;r.P;)e=r.aa(e),r=r.P;return t===r&&n===e},fe.prototype.clone=function(){if(this.L.N||pe(this),this.L.$)return this.L.count.value+=1,this;var e=ae,t=Object,n=t.create,r=Object.getPrototypeOf(this),i=this.L;return(e=e(n.call(t,r,{L:{value:{count:i.count,Z:i.Z,$:i.$,N:i.N,O:i.O,S:i.S,T:i.T}}}))).L.count.value+=1,e.L.Z=!1,e},fe.prototype.delete=function(){this.L.N||pe(this),this.L.Z&&!this.L.$&&G("Object already scheduled for deletion"),$(this),te(this.L),this.L.$||(this.L.S=void 0,this.L.N=void 0)},fe.prototype.isDeleted=function(){return!this.L.N},fe.prototype.deleteLater=function(){return this.L.N||pe(this),this.L.Z&&!this.L.$&&G("Object already scheduled for deletion"),W.push(this),1===W.length&&J&&J(V),this.L.Z=!0,this},ye.prototype.pa=function(e){return this.ja&&(e=this.ja(e)),e},ye.prototype.ga=function(e){this.V&&this.V(e)},ye.prototype.argPackAdvance=8,ye.prototype.readValueFromPointer=Ae,ye.prototype.deleteObject=function(e){null!==e&&e.delete()},ye.prototype.fromWireType=function(e){function t(){return this.ca?se(this.M.W,{O:this.va,N:n,T:this,S:e}):se(this.M.W,{O:this,N:e})}var n=this.pa(e);if(!n)return this.ga(e),null;var r=K[q(this.M,n)];if(void 0!==r)return 0===r.L.count.value?(r.L.N=n,r.L.S=e,r.clone()):(r=r.clone(),this.ga(e),r);if(!(r=ne[r=this.M.oa(n)]))return t.call(this);r=this.ba?r.ka:r.pointerType;var i=function e(t,n,r){return n===r?t:void 0===r.P||null===(t=e(t,n,r.P))?null:r.ma(t)}(n,this.M,r.M);return null===i?t.call(this):this.ca?se(r.M.W,{O:r,N:i,T:this,S:e}):se(r.M.W,{O:r,N:i})},Se=l.UnboundTypeError=F("UnboundTypeError");var Ve={q:function(e,t,n){e=Y(e),t=Z(t,"wrapper"),n=k(n);var r=[].slice,i=t.M,s=i.W,a=i.P.W,o=i.P.constructor;for(var l in e=N(e,(function(){i.P.ia.forEach(function(e){if(this[e]===a[e])throw new O("Pure virtual function "+e+" must be implemented in JavaScript")}.bind(this)),Object.defineProperty(this,"__parent",{value:s}),this.__construct.apply(this,r.call(arguments))})),s.__construct=function(){this===s&&G("Pass correct 'this' to __construct");var e=o.implement.apply(void 0,[this].concat(r.call(arguments)));$(e);var t=e.L;e.notifyOnDestruction(),t.$=!0,Object.defineProperties(this,{L:{value:t}}),ae(this),e=q(i,e=t.N),K.hasOwnProperty(e)?G("Tried to register registered instance: "+e):K[e]=this},s.__destruct=function(){this===s&&G("Pass correct 'this' to __destruct"),$(this);var e=this.L.N;e=q(i,e),K.hasOwnProperty(e)?delete K[e]:G("Tried to unregister unregistered instance: "+e)},e.prototype=Object.create(s),n)e.prototype[l]=n[l];return H(e)},l:function(e){var t=oe[e];delete oe[e];var n=t.ea,r=t.V,i=t.ha;he([e],i.map((e=>e.sa)).concat(i.map((e=>e.ya))),(e=>{var s={};return i.forEach(((t,n)=>{var r=e[n],a=t.qa,o=t.ra,l=e[n+i.length],A=t.xa,c=t.za;s[t.na]={read:e=>r.fromWireType(a(o,e)),write:(e,t)=>{var n=[];A(c,e,l.toWireType(n,t)),le(n)}}})),[{name:t.name,fromWireType:function(e){var t,n={};for(t in s)n[t]=s[t].read(e);return r(e),n},toWireType:function(e,t){for(var i in s)if(!(i in t))throw TypeError('Missing field:  "'+i+'"');var a=n();for(i in s)s[i].write(a,t[i]);return null!==e&&e.push(r,a),a},argPackAdvance:8,readValueFromPointer:Ae,U:r}]}))},v:function(){},B:function(e,t,n,r,i){var s=de(n);ge(e,{name:t=Y(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){if(1===n)var r=p;else if(2===n)r=m;else{if(4!==n)throw TypeError("Unknown boolean type size: "+t);r=I}return this.fromWireType(r[e>>s])},U:null})},h:function(e,t,n,r,i,s,a,o,A,c,u,h,d){u=Y(u),s=xe(i,s),o&&(o=xe(a,o)),c&&(c=xe(A,c)),d=xe(h,d);var g,p=T(u);g=function(){Qe("Cannot construct "+u+" due to unbound types",[r])},l.hasOwnProperty(p)?(G("Cannot register public name '"+p+"' twice"),me(l,p,p),l.hasOwnProperty(void 0)&&G("Cannot register multiple overloads of a function with the same number of arguments (undefined)!"),l[p].R[void 0]=g):l[p]=g,he([e,t,n],r?[r]:[],(function(t){if(t=t[0],r)var n,i=t.M,a=i.W;else a=fe.prototype;t=N(p,(function(){if(Object.getPrototypeOf(this)!==A)throw new U("Use 'new' to construct "+u);if(void 0===h.X)throw new U(u+" has no accessible constructor");var e=h.X[arguments.length];if(void 0===e)throw new U("Tried to invoke ctor of "+u+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(h.X).toString()+") parameters instead!");return e.apply(this,arguments)}));var A=Object.create(a,{constructor:{value:t}});t.prototype=A;var h=new Ce(u,t,A,d,i,s,o,c);i=new ye(u,h,!0,!1),a=new ye(u+"*",h,!1,!1);var g=new ye(u+" const*",h,!1,!0);return ne[e]={pointerType:a,ka:g},n=t,l.hasOwnProperty(p)||ie("Replacing nonexistant public symbol"),l[p]=n,l[p].Y=void 0,[i,a,g]}))},d:function(e,t,n,r,i,s,a){var o=_e(n,r);t=Y(t),s=xe(i,s),he([],[e],(function(e){function r(){Qe("Cannot call "+i+" due to unbound types",o)}var i=(e=e[0]).name+"."+t;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var l=e.M.constructor;return void 0===l[t]?(r.Y=n-1,l[t]=r):(me(l,t,i),l[t].R[n-1]=r),he([],o,(function(e){return e=Me(i,[e[0],null].concat(e.slice(1)),null,s,a),void 0===l[t].R?(e.Y=n-1,l[t]=e):l[t].R[n-1]=e,[]})),[]}))},p:function(e,t,n,r,i,s){0<t||M();var a=_e(t,n);i=xe(r,i),he([],[e],(function(e){var n="constructor "+(e=e[0]).name;if(void 0===e.M.X&&(e.M.X=[]),void 0!==e.M.X[t-1])throw new U("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.M.X[t-1]=()=>{Qe("Cannot construct "+e.name+" due to unbound types",a)},he([],a,(function(r){return r.splice(1,0,null),e.M.X[t-1]=Me(n,r,null,i,s),[]})),[]}))},a:function(e,t,n,r,i,s,a,o){var l=_e(n,r);t=Y(t),s=xe(i,s),he([],[e],(function(e){function r(){Qe("Cannot call "+i+" due to unbound types",l)}var i=(e=e[0]).name+"."+t;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),o&&e.M.ia.push(t);var A=e.M.W,c=A[t];return void 0===c||void 0===c.R&&c.className!==e.name&&c.Y===n-2?(r.Y=n-2,r.className=e.name,A[t]=r):(me(A,t,i),A[t].R[n-2]=r),he([],l,(function(r){return r=Me(i,r,e,s,a),void 0===A[t].R?(r.Y=n-2,A[t]=r):A[t].R[n-2]=r,[]})),[]}))},A:function(e,t){ge(e,{name:t=Y(t),fromWireType:function(e){var t=k(e);return De(e),t},toWireType:function(e,t){return H(t)},argPackAdvance:8,readValueFromPointer:Ae,U:null})},n:function(e,t,n){n=de(n),ge(e,{name:t=Y(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:function(e,t){switch(t){case 2:return function(e){return this.fromWireType(E[e>>2])};case 3:return function(e){return this.fromWireType(B[e>>3])};default:throw TypeError("Unknown float type: "+e)}}(t,n),U:null})},e:function(e,t,n,r,i){t=Y(t),-1===i&&(i=4294967295),i=de(n);var s=e=>e;if(0===r){var a=32-8*n;s=e=>e<<a>>>a}n=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t},ge(e,{name:t,fromWireType:s,toWireType:n,argPackAdvance:8,readValueFromPointer:function(e,t,n){switch(t){case 0:return n?function(e){return p[e]}:function(e){return f[e]};case 1:return n?function(e){return m[e>>1]}:function(e){return C[e>>1]};case 2:return n?function(e){return I[e>>2]}:function(e){return v[e>>2]};default:throw TypeError("Unknown integer type: "+e)}}(t,i,0!==r),U:null})},b:function(e,t,n){function r(e){e>>=2;var t=v;return new i(t.buffer,t[e+1],t[e])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];ge(e,{name:n=Y(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ta:!0})},o:function(e,t){var n="std::string"===(t=Y(t));ge(e,{name:t,fromWireType:function(e){var t=v[e>>2],r=e+4;if(n)for(var i=r,s=0;s<=t;++s){var a=r+s;if(s==t||0==f[a]){if(i=i?d(f,i,a-i):"",void 0===o)var o=i;else o+="\0"+i;i=a+1}}else{for(s=0,o=Array(t);s<t;++s)o[s]=String.fromCharCode(f[r+s]);o=o.join("")}return qe(e),o},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,i="string"==typeof t;if(i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||G("Cannot pass non-string to std::string"),n&&i){var s=0;for(r=0;r<t.length;++r){var a=t.charCodeAt(r);127>=a?s++:2047>=a?s+=2:55296<=a&&57343>=a?(s+=4,++r):s+=3}r=s}else r=t.length;if(a=(s=Ke(4+r+1))+4,v[s>>2]=r,n&&i){if(i=a,a=r+1,r=f,0<a){a=i+a-1;for(var o=0;o<t.length;++o){var l=t.charCodeAt(o);if(55296<=l&&57343>=l&&(l=65536+((1023&l)<<10)|1023&t.charCodeAt(++o)),127>=l){if(i>=a)break;r[i++]=l}else{if(2047>=l){if(i+1>=a)break;r[i++]=192|l>>6}else{if(65535>=l){if(i+2>=a)break;r[i++]=224|l>>12}else{if(i+3>=a)break;r[i++]=240|l>>18,r[i++]=128|l>>12&63}r[i++]=128|l>>6&63}r[i++]=128|63&l}}r[i]=0}}else if(i)for(i=0;i<r;++i)255<(o=t.charCodeAt(i))&&(qe(a),G("String has UTF-16 code units that do not fit in 8 bits")),f[a+i]=o;else for(i=0;i<r;++i)f[a+i]=t[i];return null!==e&&e.push(qe,s),s},argPackAdvance:8,readValueFromPointer:Ae,U:function(e){qe(e)}})},k:function(e,t,n){if(n=Y(n),2===t)var r=Te,i=Ne,s=Le,a=()=>C,o=1;else 4===t&&(r=Pe,i=Fe,s=Ue,a=()=>v,o=2);ge(e,{name:n,fromWireType:function(e){for(var n,i=v[e>>2],s=a(),l=e+4,A=0;A<=i;++A){var c=e+4+A*t;(A==i||0==s[c>>o])&&(l=r(l,c-l),void 0===n?n=l:n+="\0"+l,l=c+t)}return qe(e),n},toWireType:function(e,r){"string"!=typeof r&&G("Cannot pass non-string to C++ string type "+n);var a=s(r),l=Ke(4+a+t);return v[l>>2]=a>>o,i(r,l+4,a+t),null!==e&&e.push(qe,l),l},argPackAdvance:8,readValueFromPointer:Ae,U:function(e){qe(e)}})},m:function(e,t,n,r,i,s){oe[e]={name:Y(t),ea:xe(n,r),V:xe(i,s),ha:[]}},c:function(e,t,n,r,i,s,a,o,l,A){oe[e].ha.push({na:Y(t),sa:n,qa:xe(r,i),ra:s,ya:a,xa:xe(o,l),za:A})},C:function(e,t){ge(e,{ua:!0,name:t=Y(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},t:function(e,t,n,r,i){e=He[e],t=k(t),n=ke(n);var s=[];return v[r>>2]=H(s),e(t,n,s,i)},j:function(e,t,n,r){(e=He[e])(t=k(t),n=ke(n),null,r)},f:De,g:function(e,t){var n,r,i=function(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=Z(v[t+4*r>>2],"parameter "+r);return n}(e,t),s=i[0],a=Oe[t=s.name+"_$"+i.slice(1).map((function(e){return e.name})).join("_")+"$"];if(void 0!==a)return a;var o=Array(e-1);return n=(t,n,r,a)=>{for(var l=0,A=0;A<e-1;++A)o[A]=i[A+1].readValueFromPointer(a+l),l+=i[A+1].argPackAdvance;for(A=0,t=t[n].apply(t,o);A<e-1;++A)i[A+1].la&&i[A+1].la(o[A]);if(!s.ua)return s.toWireType(r,t)},r=He.length,He.push(n),a=r,Oe[t]=a},r:function(e){4<e&&(L[e].fa+=1)},s:function(e){le(k(e)),De(e)},i:function(){M("")},x:function(e,t,n){f.copyWithin(e,t,t+n)},w:function(e){var t=f.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var i=Math,s=i.min;r=Math.max(e,r),r+=(65536-r%65536)%65536;e:{var a=u.buffer;try{u.grow(s.call(i,2147483648,r)-a.byteLength+65535>>>16),g();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},z:function(){return 52},u:function(){return 70},y:function(e,t,n,r){for(var i=0,s=0;s<n;s++){var l=v[t>>2],A=v[t+4>>2];t+=8;for(var c=0;c<A;c++){var u=f[l+c],h=ze[e];0===u||10===u?((1===e?a:o)(d(h,0)),h.length=0):h.push(u)}i+=A}return v[r>>2]=i,0}};!function(){function e(e){l.asm=e.exports,u=l.asm.D,g(),y=l.asm.I,b.unshift(l.asm.E),0==--S&&Q&&(e=Q,Q=null,e())}function t(t){e(t.instance)}function r(e){return("function"==typeof fetch?fetch(n,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+n+"'";return e.arrayBuffer()})).catch((function(){return D()})):Promise.resolve().then((function(){return D()}))).then((function(e){return WebAssembly.instantiate(e,i)})).then((function(e){return e})).then(e,(function(e){o("failed to asynchronously prepare wasm: "+e),M(e)}))}var i={a:Ve};if(S++,l.instantiateWasm)try{return l.instantiateWasm(i,e)}catch(e){o("Module.instantiateWasm callback failed with error: "+e),c(e)}("function"!=typeof WebAssembly.instantiateStreaming||_()||"function"!=typeof fetch?r(t):fetch(n,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,i).then(t,(function(e){return o("wasm streaming compile failed: "+e),o("falling back to ArrayBuffer instantiation"),r(t)}))}))).catch(c)}();var Je=l.___getTypeName=function(){return(Je=l.___getTypeName=l.asm.F).apply(null,arguments)};function Ke(){return(Ke=l.asm.H).apply(null,arguments)}function qe(){return(qe=l.asm.J).apply(null,arguments)}function je(){0<S||(R(w),0<S||r||(r=!0,l.calledRun=!0,h||(R(b),A(l),R(x))))}return l.__embind_initialize_bindings=function(){return(l.__embind_initialize_bindings=l.asm.G).apply(null,arguments)},l.dynCall_jiji=function(){return(l.dynCall_jiji=l.asm.K).apply(null,arguments)},Q=function e(){r||je(),r||(Q=e)},je(),t.ready}})();const BE="AGFzbQEAAAABogM0YAF/AGABfwF/YAJ/fwBgAn98AGADf39/AGACf38Bf2ADf39/AX9gAABgA39/fABgAX8BfGAFf39/f38Bf2ADf399AX1gAn9/AXxgAAF/YAZ/f31/fX8AYAJ/fwF9YAV/f39/fwBgBH9/f38AYAZ/f39/f38Bf2ADf35/AX5gB39/f39/f38AYAZ/f39/f38AYAR/f39/AX9gBn98f39/fwF/YAJ/fQBgBH98fH8AYAh/f39/f39/fwBgCn9/f39/f39/f38AYA1/f39/f39/f39/f39/AGAFf39/f38BfGAEf399fQF9YAF8AXxgDn99fX9/f319f39/f39/AX9gAn5/AX9gAX8BfWAEf319fwF9YAN/fX0BfWAEf3x8fABgBX9/fX19AX1gDn99fX9/f319f39/f39/AGAHf399f31/fwBgDX99f31/fX99fX19fX8Bf2AFf399fX0AYAR/f35+AGAHf39/f39/fwF/YAJ8fwF8YAV/f3x8fwBgA39/fwF9YAN/f38BfGAEf39/fABgA39/fQBgBn9/fX99fwF/Aq8BHQFhAWEAGgFhAWIABAFhAWMAGwFhAWQAFAFhAWUAEAFhAWYAAAFhAWcABQFhAWgAHAFhAWkABwFhAWoAEQFhAWsABAFhAWwAAAFhAW0AFQFhAW4ABAFhAW8AAgFhAXAAFQFhAXEABgFhAXIAAAFhAXMAAAFhAXQAHQFhAXUACgFhAXYAFAFhAXcAAQFhAXgABAFhAXkAFgFhAXoAAQFhAUEAAgFhAUIAEAFhAUMAAgPdAdsBAQsLCwsPHg8EEAAHAgUfBgsgBCEFCwYiBwsBAAEGAQAECAwABwAFACUAJicpBgUAKisHBREBCywKLQEHAAUGEQIBAgUCAAcKAQgCCAgIAwMDAwMDAwMDAAMDAAMDAwMAAwMDAgICCAgCAgICAgIICAICAAENAQEFAgIYBA0KCgYTAQIXEwYBBwEOAAEAAAEFLi8wDAUGCDEFAQQFDQ0NMgEEAQEBBAYBATMBDAwMAgkJCQkJCRkBAAAAAgAOAgUBAQIEAQ8EDAkCAgICAgIJCQIBAQQBAQEBAQEEBAcBcAHJAckBBQcBAYACgIACBg0CfwFBoL8EC38BQQALByQIAUQCAAFFAEEBRgClAQFHAKQBAUgAOQFJAQABSgAnAUsAmwEJxAIBAEEBC8gBoAGfAZoB2QHWAWPHATjGAcUBNzc4YmFgxAHDAcIBwQE4X8ABNzc4YmFgvwG+Ab0BRF6ZAV1EmAFclwG8AZYBL5UBlAFbkwExkgG7AUA/ProBQD8+uQFAPz64AbcBtgFCXpEBtQGQAV1CjwFfjgEvjQEvjAG0AYsBigGJAYgBhwGGAYUBhAGDAYIBgQGAAX+zAX59fHt6eXh3dnV0c3JxcG9ubWxramloZmUx9wGyAfYB9QH0AfMB8gHxAfAB7QGxAewBsAHrAeoB6QHoAecB5gHlAeQB4wGvAe8B7gHiAeEBrgHfAVzeAS/dATHcATHbAVvgATFnL9oBL9gB1wEv1QHUAdMBMdIBrQHRAdABzwHOAc0BzAHLAawBygHJAcgBWKgBpwGmAVlPqwGqAakBWaMBogGhAZ4BnQGcAU8KgIkF2wEyAQF/IABBASAAGyEAAkADQCAAEDkiAQ0BQZg/KAIAIgEEQCABEQcADAELCxAIAAsgAQv8AwIBfQJ/IABBLGohBCABQQJ0QfwgaigCACEFAkAgAUF+cUECRgRAIAAoAjwiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADWw0BIAQgBUECdGooAgAiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADWw0BIAAoAkQiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADWw0BIAAoAkwiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADWw0BQwAAAAAPCyAEIAVBAnRqKAIAIgFB8OGD/AdGDQAgAUGPnrz8B0YNACABQarVqv0HRg0AIAG+IgMgA1sNACAAKAJIIgFB8OGD/AdGDQAgAUGPnrz8B0YNACABQarVqv0HRg0AIAG+IgMgA1sNACAAKAJMIgFB8OGD/AdGDQAgAUGPnrz8B0YNACABQarVqv0HRg0AIAG+IgMgA1sNAEMAAAAADwtDAAAAACEDAkAgAUHw4YP8B0cEQCABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADXARAQwAAwH8PCyABQf////97cUGAgICAAmq+IQMgAUGAgICABHFFDQELIAMgApRDCtcjPJQhAwsgAwv/AwIBfQJ/IABBLGohBCABQQJ0QYwhaigCACEFAkAgAUF+cUECRgRAIABBQGsoAgAiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADWw0BIAQgBUECdGooAgAiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADWw0BIAAoAkQiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADWw0BIAAoAkwiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADWw0BQwAAAAAPCyAEIAVBAnRqKAIAIgFB8OGD/AdGDQAgAUGPnrz8B0YNACABQarVqv0HRg0AIAG+IgMgA1sNACAAKAJIIgFB8OGD/AdGDQAgAUGPnrz8B0YNACABQarVqv0HRg0AIAG+IgMgA1sNACAAKAJMIgFB8OGD/AdGDQAgAUGPnrz8B0YNACABQarVqv0HRg0AIAG+IgMgA1sNAEMAAAAADwtDAAAAACEDAkAgAUHw4YP8B0cEQCABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADXARAQwAAwH8PCyABQf////97cUGAgICAAmq+IQMgAUGAgICABHFFDQELIAMgApRDCtcjPJQhAwsgAwvRBAIDfQJ/IABB9ABqIQYgAUECdEGMIWooAgAhBwJAIAFBfnFBAkYEQCAAKAKIASIBQfDhg/wHRg0BIAFBj568/AdGDQEgAUGq1ar9B0YNASABviIDIANbDQEgBiAHQQJ0aigCACIBQfDhg/wHRg0BIAFBj568/AdGDQEgAUGq1ar9B0YNASABviIDIANbDQEgACgCjAEiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADWw0BIAAoApQBIgFB8OGD/AdGDQEgAUGPnrz8B0YNASABQarVqv0HRg0BIAG+IgMgA1sNAUMAAAAADwsgBiAHQQJ0aigCACIBQfDhg/wHRg0AIAFBj568/AdGDQAgAUGq1ar9B0YNACABviIDIANbDQAgACgCkAEiAUHw4YP8B0YNACABQY+evPwHRg0AIAFBqtWq/QdGDQAgAb4iAyADWw0AIAAoApQBIgFB8OGD/AdGDQAgAUGPnrz8B0YNACABQarVqv0HRg0AIAG+IgMgA1sNAEMAAAAADwsCQAJAAkACQCABQfDhg/wHRgRADAELIAFBj568/AdGDQNBtCEhAAJAIAFBqtWq/QdHBEAgAb4iAyADWw0BQawhIQALIAAqAgAhBEMAAMB/IQMgACgCBEEBaw4CAgEDCyABQf////97cUGAgICAAmq+IQQgAUGAgICABHFFDQELIAQgApRDCtcjPJQhBAsgBEMAAAAAYARAIAQPCyAEIgNDAAAAAF0NAQsgA0MAAAAAIAMgA1sbIQULIAUL0QQCA30CfyAAQfQAaiEGIAFBAnRB/CBqKAIAIQcCQCABQX5xQQJGBEAgACgChAEiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADWw0BIAYgB0ECdGooAgAiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAyADWw0BIAAoAowBIgFB8OGD/AdGDQEgAUGPnrz8B0YNASABQarVqv0HRg0BIAG+IgMgA1sNASAAKAKUASIBQfDhg/wHRg0BIAFBj568/AdGDQEgAUGq1ar9B0YNASABviIDIANbDQFDAAAAAA8LIAYgB0ECdGooAgAiAUHw4YP8B0YNACABQY+evPwHRg0AIAFBqtWq/QdGDQAgAb4iAyADWw0AIAAoApABIgFB8OGD/AdGDQAgAUGPnrz8B0YNACABQarVqv0HRg0AIAG+IgMgA1sNACAAKAKUASIBQfDhg/wHRg0AIAFBj568/AdGDQAgAUGq1ar9B0YNACABviIDIANbDQBDAAAAAA8LAkACQAJAAkAgAUHw4YP8B0YEQAwBCyABQY+evPwHRg0DQbQhIQACQCABQarVqv0HRwRAIAG+IgMgA1sNAUGsISEACyAAKgIAIQRDAADAfyEDIAAoAgRBAWsOAgIBAwsgAUH/////e3FBgICAgAJqviEEIAFBgICAgARxRQ0BCyAEIAKUQwrXIzyUIQQLIARDAAAAAGAEQCAEDwsgBCIDQwAAAABdDQELIANDAAAAACADIANbGyEFCyAFC5gEAgF9An8gAEGYAWohAyABQQJ0QfwgaigCACEEAkACQCABQX5xQQJGBEAgACgCqAEiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAiACWw0BIAMgBEECdGooAgAiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAiACWw0BIAAoArABIgFB8OGD/AdGDQEgAUGPnrz8B0YNASABQarVqv0HRg0BIAG+IgIgAlsNASAAKAK4ASIBQfDhg/wHRg0BIAFBj568/AdGDQEgAUGq1ar9B0YNASABviICIAJbDQFDAAAAACECDAILIAMgBEECdGooAgAiAUHw4YP8B0YNACABQY+evPwHRg0AIAFBqtWq/QdGDQAgAb4iAiACWw0AIAAoArQBIgFB8OGD/AdGDQAgAUGPnrz8B0YNACABQarVqv0HRg0AIAG+IgIgAlsNACAAKAK4ASIBQfDhg/wHRg0AIAFBj568/AdGDQAgAUGq1ar9B0YNACABviICIAJbDQBDAAAAACECDAELQwAAAAAhAiABQfDhg/wHRg0AIAFBj568/AdGDQAgAUGq1ar9B0YEQEMAAMB/IQIMAQsgAb4iAiACXARAQwAAwH8hAgwBCyABQf////97cUGAgICAAmq+IQILIAJDAAAAAJdDAAAAACACvEH/////B3FBgICA/AdNGwuHBQICfQF/AkACQAJAAkACQAJAIAFBAU0EQAJAIAAoAtQBIgFB8OGD/AdGDQAgAUGPnrz8B0YNAkG0ISEGAkAgAUGq1ar9B0cEQCABviIFIAVbDQFBrCEhBgsgBioCACEEQwAAwH8hBSAGKAIEQQFrDgIDAQQLIAFB/////3txQYCAgIACar4hBCABQYCAgIAEcUUNAgsgBCADlEMK1yM8lCEFDAILAkACQAJAIAAoAtABIgFB8OGD/AdGDQAgAUGPnrz8B0YNAUG0ISEGAkAgAUGq1ar9B0cEQCABviIFIAVbDQFBrCEhBgsgBioCACEEQwAAwH8hBSAGKAIEQQFrDgICAQMLIAFB/////3txQYCAgIACar4hBCABQYCAgIAEcUUNAQsgBCADlEMK1yM8lCEFDAELIAQhBQtDAAAAACEEAkAgACgC2AEiAEHw4YP8B0YNACAAQY+evPwHRg0EQbQhIQECQCAAQarVqv0HRwRAIAC+IgQgBFsNAUGsISEBCyABKgIAIQQgASgCBEEBaw4CBAEGCyAAQf////97cUGAgICAAmq+IQQgAEGAgICABHFFDQMLIAQgA5RDCtcjPJQhBAwCCyAEIQULQwAAAAAhBAJAIAAoAtwBIgBB8OGD/AdGDQAgAEGPnrz8B0YNAkG0ISEBAkAgAEGq1ar9B0cEQCAAviIEIARbDQFBrCEhAQsgASoCACEEIAEoAgRBAWsOAgIBBAsgAEH/////e3FBgICAgAJqviEEIABBgICAgARxRQ0BCyAEIAOUQwrXIzyUIQQLIARDAAAAAGBFDQELIAIgBF4NAQsgBUMAAAAAYEUEQCACDwsgBSACIAIgBV0bIQQLIAQLmAQCAX0CfyAAQZgBaiEDIAFBAnRBjCFqKAIAIQQCQAJAIAFBfnFBAkYEQCAAKAKsASIBQfDhg/wHRg0BIAFBj568/AdGDQEgAUGq1ar9B0YNASABviICIAJbDQEgAyAEQQJ0aigCACIBQfDhg/wHRg0BIAFBj568/AdGDQEgAUGq1ar9B0YNASABviICIAJbDQEgACgCsAEiAUHw4YP8B0YNASABQY+evPwHRg0BIAFBqtWq/QdGDQEgAb4iAiACWw0BIAAoArgBIgFB8OGD/AdGDQEgAUGPnrz8B0YNASABQarVqv0HRg0BIAG+IgIgAlsNAUMAAAAAIQIMAgsgAyAEQQJ0aigCACIBQfDhg/wHRg0AIAFBj568/AdGDQAgAUGq1ar9B0YNACABviICIAJbDQAgACgCtAEiAUHw4YP8B0YNACABQY+evPwHRg0AIAFBqtWq/QdGDQAgAb4iAiACWw0AIAAoArgBIgFB8OGD/AdGDQAgAUGPnrz8B0YNACABQarVqv0HRg0AIAG+IgIgAlsNAEMAAAAAIQIMAQtDAAAAACECIAFB8OGD/AdGDQAgAUGPnrz8B0YNACABQarVqv0HRgRAQwAAwH8hAgwBCyABviICIAJcBEBDAADAfyECDAELIAFB/////3txQYCAgIACar4hAgsgAkMAAAAAl0MAAAAAIAK8Qf////8HcUGAgID8B00bC74BAQN/IAAtAABBIHFFBEACQCABIQMCQCACIAAiASgCECIABH8gAAUgARBXDQEgASgCEAsgASgCFCIFa0sEQCABIAMgAiABKAIkEQYAGgwCCwJAIAEoAlBBAEgNACACIQADQCAAIgRFDQEgAyAEQQFrIgBqLQAAQQpHDQALIAEgAyAEIAEoAiQRBgAgBEkNASADIARqIQMgAiAEayECIAEoAhQhBQsgBSADIAIQLBogASABKAIUIAJqNgIUCwsLC24BAX8jAEGAAmsiBSQAAkAgAiADTA0AIARBgMAEcQ0AIAUgAUH/AXEgAiADayIDQYACIANBgAJJIgEbED0gAUUEQANAIAAgBUGAAhAlIANBgAJrIgNB/wFLDQALCyAAIAUgAxAlCyAFQYACaiQAC8wCAQV/IAAEQCAAQQRrIgEoAgAiBSEDIAEhAiAAQQhrKAIAIgAgAEF+cSIERwRAIAEgBGsiAigCBCIAIAIoAgg2AgggAigCCCAANgIEIAQgBWohAwsgASAFaiIEKAIAIgEgASAEakEEaygCAEcEQCAEKAIEIgAgBCgCCDYCCCAEKAIIIAA2AgQgASADaiEDCyACIAM2AgAgA0F8cSACakEEayADQQFyNgIAIAICfyACKAIAQQhrIgFB/wBNBEAgAUEDdkEBawwBCyABQR0gAWciAGt2QQRzIABBAnRrQe4AaiABQf8fTQ0AGkE/IAFBHiAAa3ZBAnMgAEEBdGtBxwBqIgAgAEE/TxsLIgFBBHQiAEGALmo2AgQgAiAAQYguaiIAKAIANgIIIAAgAjYCACACKAIIIAI2AgRBiDZBiDYpAwBCASABrYaENwMACwsOAEH4LSgCABEHABA1AAuVAwEDfyMAQRBrIgMkACADIAE2AgwCQAJAIABFBEAgAygCDCECQZg2LQAARQRAQRwQHSIAQQA7ARQgAEGAgID8AzYCECAAQQA2AQogAEEANgIAIABBADYCGCAAQQA6AAlBAyEBIABBAzYCBCAAQQA6ABZBlDYgADYCAEGYNkEBOgAAQZA2QZA2KAIAQQFqNgIADAILQZQ2KAIAIgAoAgQhASAALQAJRQ0BIABBAEEFQQBB9yAgAiABERIAGgwCCyADKAIMIQICQCAAKAK4BCIBDQBBmDYtAAAEQEGUNigCACEBDAELQRwQHSIBQQA7ARQgAUGAgID8AzYCECABQQA2AQogAUEANgIAIAFBADYCGCABQQA6AAkgAUEDNgIEIAFBADoAFkGUNiABNgIAQZg2QQE6AABBkDZBkDYoAgBBAWo2AgALIAEoAgQhBCABLQAJBEAgASAAQQVBAEH3ICACIAQREgAaDAILIAEgAEEFQfcgIAIgBBEKABoMAQsgAEEAQQVB9yAgAiABEQoAGgsgA0EQaiQAC9EDAgF9An8gAEHQAGohAyABQQJ0QfwgaigCACEEAkACQAJAIAFBfnFBAkYEQCAAKAJgIgFB8OGD/AdGDQEgAUGPnrz8B0YNASABQarVqv0HRg0BIAG+IgIgAlsNASADIARBAnRqKAIAIgFB8OGD/AdGDQEgAUGPnrz8B0YNASABQarVqv0HRg0BIAG+IgIgAlsNASAAKAJoIgFB8OGD/AdGDQEgAUGPnrz8B0YNASABQarVqv0HRg0BIAG+IgIgAlsNASAAKAJwIgFB8OGD/AdGDQEgAUGPnrz8B0YNASABQarVqv0HRg0BIAG+IgIgAlsNAUGAgID+ByEBDAILIAMgBEECdGooAgAiAUHw4YP8B0YNACABQY+evPwHRg0AIAFBqtWq/QdGDQAgAb4iAiACWw0AIAAoAmwiAUHw4YP8B0YNACABQY+evPwHRg0AIAFBqtWq/QdGDQAgAb4iAiACWw0AIAAoAnAiAUHw4YP8B0YNACABQY+evPwHRg0AIAFBqtWq/QdGDQAgAb4iAiACWw0AQYCAgP4HIQEMAQtBASEAIAFB8OGD/AdGDQEgAUGPnrz8B0YNASABQarVqv0HRg0BCyABviICIAJbIQALIAALnQMCA34CfyAAvSICQjSIp0H/D3EiBEH/D0YEQCAARAAAAAAAAPA/oiIAIACjDwsgAkIBhiIBQoCAgICAgIDw/wBYBEAgAEQAAAAAAAAAAKIgACABQoCAgICAgIDw/wBRGw8LAn4gBEUEQEEAIQQgAkIMhiIBQgBZBEADQCAEQQFrIQQgAUIBhiIBQgBZDQALCyACQQEgBGuthgwBCyACQv////////8Hg0KAgICAgICACIQLIQEgBEH/B0oEQANAAkAgAUKAgICAgICACH0iA0IAUw0AIAMiAUIAUg0AIABEAAAAAAAAAACiDwsgAUIBhiEBIARBAWsiBEH/B0oNAAtB/wchBAsCQCABQoCAgICAgIAIfSIDQgBTDQAgAyIBQgBSDQAgAEQAAAAAAAAAAKIPCyABQv////////8HWARAA0AgBEEBayEEIAFCgICAgICAgARUIQUgAUIBhiEBIAUNAAsLIAJCgICAgICAgICAf4MhAyAEQQBKBH4gAUKAgICAgICACH0gBK1CNIaEBSABQQEgBGutiAsgA4S/C4AEAQN/IAJBgARPBEAgACABIAIQFyAADwsgACACaiEDAkAgACABc0EDcUUEQAJAIABBA3FFBEAgACECDAELIAJFBEAgACECDAELIAAhAgNAIAIgAS0AADoAACABQQFqIQEgAkEBaiICQQNxRQ0BIAIgA0kNAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgACADQQRrIgRLBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAunBAICfQJ/IABB0ABqIQUgAUECdEH8IGooAgAhBgJAAkACQCABQX5xQQJGBEAgACgCYCIBQfDhg/wHRg0BIAFBj568/AdGDQEgAUGq1ar9B0YNASABviIDIANbDQEgBSAGQQJ0aigCACIBQfDhg/wHRg0BIAFBj568/AdGDQEgAUGq1ar9B0YNASABviIDIANbDQEgACgCaCIBQfDhg/wHRg0BIAFBj568/AdGDQEgAUGq1ar9B0YNASABviIDIANbDQEgACgCcCIBQfDhg/wHRg0BIAFBj568/AdGDQEgAUGq1ar9B0YNASABviIDIANbDQEMAgsgBSAGQQJ0aigCACIBQfDhg/wHRg0AIAFBj568/AdGDQAgAUGq1ar9B0YNACABviIDIANbDQAgACgCbCIBQfDhg/wHRg0AIAFBj568/AdGDQAgAUGq1ar9B0YNACABviIDIANbDQAgACgCcCIBQfDhg/wHRg0AIAFBj568/AdGDQAgAUGq1ar9B0YNACABviIDIANcDQELQwAAAAAhAwJAAkAgAUHw4YP8B0YNACAB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QwAAwH8hDwwBCyApQf////97cUGAgICAAmq+IQ8LIAACfSAOIA5cIgAgByACIA9DAAAAAJdDAAAAACAPvEH/////B3FBgICA/AdNG5KSIgEgAVxyRQRAIA4gASAOlyABvEH/////B3FBgICA/AdLGyABIA68Qf////8HcUGAgID8B00bDAELIAEgDiAAGws4AogEDAcLAkAgAC0ABEEQcQRAIDJBGGogACABIAQgDyAFQQAgAxEoAAwBCyAyQRhqIAAgASAEIA8gBSADEQ4ACyAKIAooAhRBAWo2AhQgCiANQQJ0aiIDIAMoAhhBAWo2AhggAAJ9IABBAiAUIDIqAhiSIgEgFSAEQQJGGyABIAQbIAYQIyIPIA9cIgMgAEECIAYQISAAQQIQIpIgAEECIAYQICAAQQIQJJKSIgEgAVxyRQRAIA8gASAPlyABvEH/////B3FBgICA/AdLGyABIA+8Qf////8HcUGAgID8B00bDAELIAEgDyADGws4AoQEIABBACAOIDIqAhySIgEgAiAFQQJGGyABIAUbIAcQIyEOIABBACAGECEhBwJAAkAgACgCnAEiA0Hw4YP8B0YNACADQY+evPwHRg0AIANBqtWq/QdGDQAgA74iASABWw0AIAAoArQBIgNB8OGD/AdGDQAgA0GPnrz8B0YNACADQarVqv0HRg0AIAO+IgEgAVsNACAAKAK4ASIDQfDhg/wHRg0AIANBj568/AdGDQAgA0Gq1ar9B0YNACADviIBIAFbDQBDAAAAACECDAELQwAAAAAhAiADQfDhg/wHRg0AIANBj568/AdGDQAgA0Gq1ar9B0YEQEMAAMB/IQIMAQsgA74iASABXARAQwAAwH8hAgwBCyADQf////97cUGAgICAAmq+IQILQwAAAAAhDyAHIAJDAAAAAJdDAAAAACACvEH/////B3FBgICA/AdNG5IhByAAQQAgBhAgIQICQAJAIAAoAqQBIgNB8OGD/AdGDQAgA0GPnrz8B0YNACADQarVqv0HRg0AIAO+IgEgAVsNACAAKAK0ASIDQfDhg/wHRg0AIANBj568/AdGDQAgA0Gq1ar9B0YNACADviIBIAFbDQAgACgCuAEiA0Hw4YP8B0YNACADQY+evPwHRg0AIANBqtWq/QdGDQAgA74iASABWw0ADAELIANB8OGD/AdGDQAgA0GPnrz8B0YNACADQarVqv0HRgRAQwAAwH8hDwwBCyADviIBIAFcBEBDAADAfyEPDAELIANB/////3txQYCAgIACar4hDwsgAAJ9IA4gDlwiACAHIAIgD0MAAAAAl0MAAAAAIA+8Qf////8HcUGAgID8B00bkpIiASABXHJFBEAgDiABIA6XIAG8Qf////8HcUGAgID8B0sbIAEgDrxB/////wdxQYCAgPwHTRsMAQsgASAOIAAbCzgCiAQMBgsgACgCsAQiLyAAKAKsBCIDRgRAIAIgGZMhAiAAAn0gAEECIARBfXEEfSABIBWTBSAAKgKcAiAAKgKkApIgACoCjAKSIAAqApQCkgsgBhAjIhQgFFwiAyAAQQIgBhAhIABBAhAikiAAQQIgBhAgIABBAhAkkpIiASABXHJFBEAgFCABIBSXIAG8Qf////8HcUGAgID8B0sbIAEgFLxB/////wdxQYCAgPwHTRsMAQsgASAUIAMbCzgChAQgAEEAIAIgDyAOkiATkiAQkiAFQX1xGyAHECMhDiAAQQAgBhAhIQcCQAJAICpB8OGD/AdGDQAgKkGPnrz8B0YNACAqQarVqv0HRg0AICq+IgEgAVsNACAAKAK0ASIqQfDhg/wHRg0AICpBj568/AdGDQAgKkGq1ar9B0YNACAqviIBIAFbDQAgACgCuAEiKkHw4YP8B0YNACAqQY+evPwHRg0AICpBqtWq/QdGDQAgKr4iASABWw0AQwAAAAAhAgwBC0MAAAAAIQIgKkHw4YP8B0YNACAqQY+evPwHRg0AICpBqtWq/QdGBEBDAADAfyECDAELICq+IgEgAVwEQEMAAMB/IQIMAQsgKkH/////e3FBgICAgAJqviECC0MAAAAAIQ8gByACQwAAAACXQwAAAAAgArxB/////wdxQYCAgPwHTRuSIQcgAEEAIAYQICECAkACQCApQfDhg/wHRg0AIClBj568/AdGDQAgKUGq1ar9B0YNACApviIBIAFbDQAgACgCtAEiKUHw4YP8B0YNACApQY+evPwHRg0AIClBqtWq/QdGDQAgKb4iASABWw0AIAAoArgBIilB8OGD/AdGDQAgKUGPnrz8B0YNACApQarVqv0HRg0AICm+IgEgAVsNAAwBCyApQfDhg/wHRg0AIClBj568/AdGDQAgKUGq1ar9B0YEQEMAAMB/IQ8MAQsgKb4iASABXARAQwAAwH8hDwwBCyApQf////97cUGAgICAAmq+IQ8LIAACfSAOIA5cIgAgByACIA9DAAAAAJdDAAAAACAPvEH/////B3FBgICA/AdNG5KSIgEgAVxyRQRAIA4gASAOlyABvEH/////B3FBgICA/AdLGyABIA68Qf////8HcUGAgID8B00bDAELIAEgDiAAGws4AogEDAYLAkAgCA0AIAIgGZMhDwJAIARBAkYgASAVkyIOQwAAAABfcQ0AAkAgD0MAAAAAX0UNACAFQQJHDQAgDyAPWw0BCyAEQQFHDQEgBUEBRw0BCyAAAn0gAEECQwAAAAAgDiAOQwAAAABdGyAOIARBAkYbQwAAAAAgDiAOWxsgBhAjIgIgAlwiAyAAQQIgBhAhIABBAhAikiAAQQIgBhAgIABBAhAkkpIiASABXHJFBEAgAiABIAKXIAG8Qf////8HcUGAgID8B0sbIAEgArxB/////wdxQYCAgPwHTRsMAQsgASACIAMbCzgChARDAAAAACECIABBAEMAAAAAQwAAAAAgDyAPQwAAAABdGyAPIAVBAkYbIA8gD1wbIAcQIyEOIABBACAGECEhBwJAAkAgKkHw4YP8B0YNACAqQY+evPwHRg0AICpBqtWq/QdGDQAgKr4iASABWw0AIAAoArQBIipB8OGD/AdGDQAgKkGPnrz8B0YNACAqQarVqv0HRg0AICq+IgEgAVsNACAAKAK4ASIqQfDhg/wHRg0AICpBj568/AdGDQAgKkGq1ar9B0YNACAqviIBIAFbDQAMAQsgKkHw4YP8B0YNACAqQY+evPwHRg0AICpBqtWq/QdGBEBDAADAfyECDAELICq+IgEgAVwEQEMAAMB/IQIMAQsgKkH/////e3FBgICAgAJqviECC0MAAAAAIQ8gByACQwAAAACXQwAAAAAgArxB/////wdxQYCAgPwHTRuSIQcgAEEAIAYQICECAkACQCApQfDhg/wHRg0AIClBj568/AdGDQAgKUGq1ar9B0YNACApviIBIAFbDQAgACgCtAEiKUHw4YP8B0YNACApQY+evPwHRg0AIClBqtWq/QdGDQAgKb4iASABWw0AIAAoArgBIilB8OGD/AdGDQAgKUGPnrz8B0YNACApQarVqv0HRg0AICm+IgEgAVsNAAwBCyApQfDhg/wHRg0A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AkACQCA+QQFrDgIBAAILIBIgApRDCtcjPJQhAgsgDiACIgFfDQILAkAgASABWw0AIA4gDlsNACABIQIMAgsgASAOXQRAIA4hAgwCCyAOIAEgASABXBshAgwBCwJAIEINACA1QQFzDQAgLUEAIBIQISEOAkACQCAtKAKcASIrQfDhg/wHRg0AICtBj568/AdGDQAgK0Gq1ar9B0YNACArviIBIAFbDQAgLSgCtAEiK0Hw4YP8B0YNACArQY+evPwHRg0AICtBqtWq/QdGDQAgK74iASABWw0AIC0oArgBIitB8OGD/AdGDQAgK0GPnrz8B0YNACArQarVqv0HRg0AICu+IgEgAVsNAEMAAAAAIQIMAQtDAAAAACECICtB8OGD/AdGDQAgK0GPnrz8B0YNACArQarVqv0HRgRAQwAAwH8hAgwBCyArviIBIAFcBEBDAADAfyECDAELICtB/////3txQYCAgIACar4hAgsgDiACQwAAAACXQwAAAAAgArxB/////wdxQYCAgPwHTRuSIREgLUEAIBIQICEOAkACQCAtKAKkASIrQfDhg/wHRg0AICtBj568/AdGDQAgK0Gq1ar9B0YNACArviIBIAFbDQAgLSgCtAEiK0Hw4YP8B0YNACArQY+evPwHRg0AICtBqtWq/QdGDQAgK74iASABWw0AIC0oArgBIitB8OGD/AdGDQAgK0GPnrz8B0YNACArQarVqv0HRg0AICu+IgEgAVsNAEMAAAAAIQIMAQtDAAAAACECICtB8OGD/AdGDQAgK0GPnrz8B0YNACArQarVqv0HRgRAQwAAwH8hAgwBCyArviIBIAFcBEBDAADAfyECDAELICtB/////3txQYCAgIACar4hAgsgESAOIAJDAAAAAJdDAAAAACACvEH/////B3FBgICA/AdNG5KSIQFDAADAfyECAkACQAJAIDpBAWsOAgEAAgsgGCAQlEMK1yM8lCEQCyABIBAiAl8NAgsgAiACXCABIAFccQ0BIAEgAl4EQCABIQIMAgsgASACIAIgAlwbIQIMAQsgLUECIBIQHiEWIC1BAiASEB8hDiAtKAIwIi8hAwJAAkAgL0Hw4YP8B0YiNA0AIC9Bj568/AdGDQAgL0Gq1ar9B0YNACAvviIBIAFbDQAgLSgCSCIDQfDhg/wHRg0AIANBj568/AdGDQAgA0Gq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cUGAgID8B00bDAELIAEgAiADGws4AgAgAEEAICcgBxAjIRQgAEEAIAYQISECAkACQCAAKAKcASIDQfDhg/wHRg0AIANBj568/AdGDQAgA0Gq1ar9B0YNACADviIBIAFbDQAgACgCtAEiA0Hw4YP8B0YNACADQY+evPwHRg0AIANBqtWq/QdGDQAgA74iASABWw0AIAAoArgBIgNB8OGD/AdGDQAgA0GPnrz8B0YNACADQarVqv0HRg0AIAO+IgEgAVsNAEMAAAAAIQ8MAQtDAAAAACEPIANB8OGD/AdGDQAgA0GPnrz8B0YNACADQarVqv0HRgRAQwAAwH8hDwwBCyADviIBIAFcBEBDAADAfyEPDAELIANB/////3txQYCAgIACar4hDwtDAAAAACEBIAIgD0MAAAAAl0MAAAAAIA+8Qf////8HcUGAgID8B00bkiEOIABBACAGECAhBwJAAkAgACgCpAEiA0Hw4YP8B0YNACADQY+evPwHRg0AIANBqtWq/QdGDQAgA74iAiACWw0AIAAoArQBIgNB8OGD/AdGDQAgA0GPnrz8B0YNACADQarVqv0HRg0AIAO+IgIgAlsNACAAKAK4ASIDQfDhg/wHRg0AIANBj568/AdGDQAgA0Gq1ar9B0YNACADviICIAJbDQAMAQsgA0Hw4YP8B0YNACADQY+evPwHRg0AIANBqtWq/QdGBEBDAADAfyEBDAELIAO+IgEgAVwEQEMAAMB/IQEMAQsgA0H/////e3FBgICAgAJqviEBCyAAAn0gFCAUXCIDIA4gByABQwAAAACXQwAAAAAgAbxB/////wdxQYCAgPwHTRuSkiIBIAFcckUEQCAUIAEgFJcgAbxB/////wdxQYCAgPwHSxsgASAUvEH/////B3FBgICA/AdNGwwBCyABIBQgAxsLOAKIBAJAAn0CQCBHBEAgACgCGEEUdkEDcSIDQQJGDQEgR0ECRw0BCyAAICogICAhECMiAiACXCIDIAAgKiAGECEgACAqECKSIAAgKiAGECAgACAqECSSkiIBIAFcckUEQCACIAEgApcgAbxB/////wdxQYCAgPwHSxsgASACvEH/////B3FBgICA/AdNGwwCCyABIAIgAxsMAQsgR0ECRw0BIANBAkcNAQJ9IB4gGZIiAiACXCIDIAAgKiAgICEQIyIBIAFcckUE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AkEBIAFBgICAgARxGwsiBAJ/AkAgA0Hw4YP8B0cEQEMAAMB/IQZBAyADQarVqv0HRg0CGiADQY+evPwHRw0BQwAAAAAhBkEBDAILQwAAAAAhBkECDAELQQAgA74iByAHXA0AGiADQf////97cUGAgICAAmq+IQZBAkEBIANBgICAgARxGwtHDQACQCAERQ0AIAUgBVwgBiAGXHENACAFIAaTi0MXt9E4XUUNAQsCQCABQfDhg/wHRwRAQQEgAUGPnrz8B0YNBRogAUGq1ar9B0cNAQwEC0ECDAQLIAG+IgUgBVwNASABQf////97cUGAgICAAmohAkECQQEgAUGAgICABHEbDAMLIAAoAsgBIgFB8OGD/AdHBEBBASABQY+evPwHRg0DGiABQarVqv0HRg0CIAG+IgUgBVwNASABQf////97cUGAgICAAmohAkECQQEgAUGAgICABHEbDAMLQQIMAgtBgICA/gchAkEADAELQYCAgP4HIQJBAwshBCAAIAI2ArwEIAAgBDYCwAQgAAJ/AkACQAJAAkACQCAAKALcASIBQfDhg/wHRiIEDQAgAUGPnrz8B0YNACABQarVqv0HRg0AIAG+IgUgBVwNAQsgACgC1AEhA0MAAAAAIQZBAiECQwAAAAAhBQJ/QQIgBA0AGgJAIAFBqtWq/QdHBEAgAUGPnrz8B0cNAUEBDAILQwAAwH8hBUEDDAELIAG+IgUgBVwEQEMAAMB/IQVBAAwBCyABQf////97cUGAgICAAmq+IQVBAkEBIAFBgICAgARxGwshBAJAIANB8OGD/AdGDQACQCADQarVqv0HRwRAIANBj568/AdHDQFBASECDAILQwAAwH8hBkEDIQIMAQsgA74iBiAGXARAQwAAwH8hBkEAIQIMAQtBAkEBIANBgICAgARxGyECIANB/////3txQYCAgIACar4hBgsgAiAERw0AAkAgBEUNACAFIAVcIAYgBlxxDQAgBSAGk4tDF7fROF1FDQELIAFBqtWq/QdGDQFBACECQQEgAUGPnrz8B0YNBBpBAiABQfDhg/wHRg0EGiABviIFIAVcDQMgAUH/////e3FBgICAgAJqIQJBAkEBIAFBgICAgARxGwwECyAAKALMASIBQarVqv0HRg0AQQAhAkEBIAFBj568/AdGDQMaIAFB8OGD/AdHDQFBAgwDC0GA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AEEAEABBCBAdIgBBADYCBCAAQdcANgIAQcs2QewSQQRB0CRB4CRBzwAgAEEAEABBCBAdIgBBADYCBCAAQdgANgIAQcs2Qd8LQQRB0CRB4CRBzwAgAEEAEABBCBAdIgBBADYCBCAAQdkANgIAQcs2QbsRQQNBwCRB+CNBzQAgAEEAEABBCBAdIgBBADYCBCAAQdoANgIAQcs2QcMJQQNBwCRB+CNBzQAgAEEAEABBCBAdIgBBADYCBCAAQdsANgIAQcs2QfAIQQNBwCRB+CNBzQAgAEEAEABBCBAdIgBBADYCBCAAQdwANgIAQcs2QYYJQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQd4ANgIAQcs2QbUOQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQd8ANgIAQcs2QbgLQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQeAANgIAQcs2QaoRQQJBrCRB+CFByQAgAEEAEABBCBAdIgBBADYCBCAAQeEANgIAQcs2QasJQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQeIANgIAQcs2QcQTQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQeMANgIAQcs2QZ4UQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQeQANgIAQcs2QYMMQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQeUANgIAQcs2QckRQQJBrCRB+CFByQAgAEEAEABBCBAdIgBBADYCBCAAQeYANgIAQcs2QfIMQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQecANgIAQcs2QZMLQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQegANgIAQcs2QZwRQQJBrCRB+CFByQAgAEEAEABBCBAdIgBBADYCBCAAQekANgIAQcs2QbAUQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQeoANgIAQcs2QZMMQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQesANgIAQcs2QYYNQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQewANgIAQcs2QaQLQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQe0ANgIAQcs2QYYUQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQe4ANgIAQcs2QfALQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQe8ANgIAQcs2QdgMQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQfAANgIAQcs2Qf8KQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQfEANgIAQcs2QYASQQNB6CRBmiRB3QAgAEEAEABBCBAdIgBBADYCBCAAQfIANgIAQcs2QawQQQRB0CRB4CRBzwAgAEEAEABBCBAdIgBBADYCBCAAQfMANgIAQcs2QZ4VQQRB0CRB4CRBzwAgAEEAEABBCBAdIgBBADYCBCAAQfQANgIAQcs2QaYMQQRB0CRB4CRBzwAgAEEAEABBCBAdIgBBADYCBCAAQfUANgIAQcs2QYsRQQRB0CRB4CRBzwAgAEEAEABBCBAdIgBBADYCBCAAQfYANgIAQcs2QdEWQQJB9CRBhCJB9wAgAEEAEABBCBAdIgBBADYCBCAAQfgANgIAQcs2QaoSQQNB/CRB4CJB+QAgAEEAEABBCBAdIgBBADYCBCAAQfoANgIAQcs2QdsKQQJB9CRBhCJB9wAgAEEAEABBCBAdIgBBADYCBCAAQfsANgIAQcs2QacOQQJB9CRBhCJB9wAgAEEAEABBCBAdIgBBADYCBCAAQfwANgIAQcs2QZQWQQJB9CRBhCJB9wAgAEEAEABBCBAdIgBBADYCBCAAQf0ANgIAQcs2QdsSQQJB9CRBhCJB9wAgAEEAEABBCBAdIgBBADYCBCAAQf4ANgIAQcs2Qf8QQQJB9CRBhCJB9wAgAEEAEABBCBAdIgBBADYCBCAAQf8ANgIAQcs2QbkKQQJB9CRBhCJB9wAgAEEAEABBCBAdIgBBADYCBCAAQYABNgIAQcs2QfYSQQNB/CRB4CJB+QAgAEEAEABBCBAdIgBBADYCBCAAQYEBNgIAQcs2QcIOQQJBiCVBhCJBggEgAEEAEABBCBAdIgBBADYCBCAAQYMBNgIAQcs2QbcJQQJBkCVBliRBhAEgAEEAEABBCBAdIgBBADYCBCAAQYUBNgIAQcs2QdITQQJBkCVBliRBhAEgAEEAEABBCBAdIgBBADYCBCAAQYYBNgIAQcs2QacUQQJBiCVB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AAAgXSADQwAAAKBecQ0AQ////18gA5giBCAEIAMgA0P////fXRsgA0P///9fXhu8QYCAgIACayEFCwJAIAAgAUECdGoiAUG8AWooAgAgBUYNACABIAU2ArwBA0AgAC0ABCIBQQRxDQEgACABQQRyOgAEIAAoAhQiAQRAIAAgAREAAAsgAEGAgID+BzYCtAIgACgCqAQiAA0ACwsLcQEBfwJAIAAoAgAiAC0ABCICQQJxQQF2IAFGDQAgACACQf0BcUECQQAgARtyOgAEA0AgAC0ABCIBQQRxDQEgACABQQRyOgAEIAAoAhQiAQRAIAAgAREAAAsgAEGAgID+BzYCtAIgACgCqAQiAA0ACwsL4wECAn0BfyAAKAIAIQBBgICA/gchBQJAIAK2IgMgA1wNACADi0MAAIB/Ww0AQfDhg/wHIQUgA0MAAAAAWw0AIANDAAAAIF0gA0MAAACgXnENAEP//39fIAOYIgQgBCADIAND//9/310bIAND//9/X14bvEGAgICAAmtBgICAgARyIQULAkAgACABQQJ0aiIBQfQAaigCACAFRg0AIAEgBTYCdANAIAAtAAQiAUEEcQ0BIAAgAUEEcjoABCAAKAIUIgEEQCAAIAERAAALIABBgICA/gc2ArQCIAAoAqgEIgANAAsLC9wBAgJ9AX8gACgCACEAQYCAgP4HIQUCQCACtiIDIANcDQAgA4tDAACAf1sNAEGPnrz8ByEFIANDAAAAAFsNACADQwAAACBdIANDAAAAoF5xDQBD////XyADmCIEIAQgAyADQ////99dGyADQ////19eG7xBgICAgAJrIQULAkAgACABQQJ0aiIBQfQAaigCACAFRg0AIAEgBTYCdANAIAAtAAQiAUEEcQ0BIAAgAUEEcjoABCAAKAIUIgEEQCAAIAERAAALIABBgICA/gc2ArQCIAAoAqgEIgANAAsLC90BAgJ9AX8gACgCACEAQYCAgP4HIQUCQCACtiIDIANcDQAgA4tDAACAf1sNAEGPnrz8ByEFIANDAAAAAFsNACADQwAAACBdIANDAAAAoF5xDQBD////XyADmCIEIAQgAyADQ////99dGyADQ////19eG7xBgICAgAJrIQULAkAgACABQQJ0aiIBQZgBaigCACAFRg0AIAEgBTYCmAEDQCAALQAEIgFBBHENASAAIAFBBHI6AAQgACgCFCIBBEAgACABEQAACyAAQYCAgP4HNgK0AiAAKAKoBCIADQALCwtzAgJ9AX8CQCAAKAIAIgAqAuABIgMgAbYiAlsNACACIAJcIAMgA1xxDQAgACACOALgAQNAIAAtAAQiBEEEcQ0BIAAgBEEEcjoABCAAKAIUIgQEQCAAIAQRAAALIABBgICA/gc2ArQCIAAoAqgEIgANAAsLC9kBAgJ9AX8gACgCACEAQYCAgP4HIQQCQCABtiICIAJcDQAgAotDAACAf1sNAEHw4YP8ByEEIAJDAAAAAFsNACACQwAAACBdIAJDAAAAoF5xDQBD//9/XyACmCIDIAMgAiACQ///f99dGyACQ///f19eG7xBgICAgAJrQYCAgIAEciEECwJAIAAoAtwBIARGDQAgACAENgLcAQNAIAAtAAQiBEEEcQ0BIAAgBEEEcjoABCAAKAIUIgQEQCAAIAQRAAALIABBgICA/gc2ArQCIAAoAqgEIgANAAsLC9IBAgJ9AX8gACgCACEAQYCAgP4HIQQCQCABtiICIAJcDQAgAotDAACAf1sNAEGPnrz8ByEEIAJDAAAAAFsNACACQwAAACBdIAJDAAAAoF5xDQBD////XyACmCIDIAMgAiACQ////99dGyACQ////19eG7xBgICAgAJrIQQLAkAgACgC3AEgBEYNACAAIAQ2AtwBA0AgAC0ABCIEQQRxDQEgACAEQQRyOgAEIAAoAhQiBARAIAAgBBEAAAsgAEGAgID+BzYCtAIgACgCqAQiAA0ACwsL2QECAn0BfyAAKAIAIQBBgICA/gchBAJAIAG2IgIgAlwNACACi0MAAIB/Ww0AQfDhg/wHIQQgAkMAAAAAWw0AIAJDAAAAIF0gAkMAAACgXnENAEP//39fIAKYIgMgAyACIAJD//9/310bIAJD//9/X14bvEGAgICAAmtBgICAgARyIQQLAkAgACgC2AEgBEYNACAAIAQ2AtgBA0AgAC0ABCIEQQRxDQEgACAEQQRyOgAEIAAoAhQiBARAIAAgBBEAAAsgAEGAgID+BzYCtAIgACgCqAQiAA0ACwsL0gECAn0BfyAAKAIAIQBBgICA/gchBAJAIAG2IgIgAlwNACACi0MAAIB/Ww0AQY+evPwHIQQgAkMAAAAAWw0AIAJDAAAAIF0gAkMAAACgXnENAEP///9fIAKYIgMgAyACIAJD////310bIAJD////X14bvEGAgICAAmshBAsCQCAAKALYASAERg0AIAAgBDYC2AEDQCAALQAEIgRBBHENASAAIARBBHI6AAQgACgCFCIEBEAgACAEEQAACyAAQYCAgP4HNgK0AiAAKAKoBCIADQALCwvZAQICfQF/IAAoAgAhAEGAgID+ByEEAkAgAbYiAiACXA0AIAKLQwAAgH9bDQBB8OGD/AchBCACQwAAAABbDQAgAkMAAAAgXSACQwAAAKBecQ0AQ///f18gApgiAyADIAIgAkP//3/fXRsgAkP//39fXhu8QYCAgIACa0GAgICABHIhBAsCQCAAKALUASAERg0AIAAgBDYC1AEDQCAALQAEIgRBBHENASAAIARBBHI6AAQgACgCFCIEBEAgACAEEQAACyAAQYCAgP4HNgK0AiAAKAKoBCIADQALCwvSAQICfQF/IAAoAgAhAEGAgID+ByEEAkAgAbYiAiACXA0AIAKLQwAAgH9bDQBBj568/AchBCACQwAAAABbDQAgAkMAAAAgXSACQwAAAKBecQ0AQ////18gApgiAyADIAIgAkP////fXRsgAkP///9fXhu8QYCAgIACayEECwJAIAAoAtQBIARGDQAgACAENgLUAQNAIAAtAAQiBEEEcQ0BIAAgBEEEcjoABCAAKAIUIgQEQCAAIAQRAAALIABBgICA/gc2ArQCIAAoAqgEIgANAAsLC9kBAgJ9AX8gACgCACEAQYCAgP4HIQQCQCABtiICIAJcDQAgAotDAACAf1sNAEHw4YP8ByEEIAJDAAAAAFsNACACQwAAACBdIAJDAAAAoF5xDQBD//9/XyACmCIDIAMgAiACQ///f99dGyACQ///f19eG7xBgICAgAJrQYCAgIAEciEECwJAIAAoAtABIARGDQAgACAENgLQAQNAIAAtAAQiBEEEcQ0BIAAgBEEEcjoABCAAKAIUIgQEQCAAIAQRAAALIABBgICA/gc2ArQCIAAoAqgEIgANAAsLC9IBAgJ9AX8gACgCACEAQYCAgP4HIQQCQCABtiICIAJcDQAgAotDAACAf1sNAEGPnrz8ByEEIAJDAAAAAFsNACACQwAAACBdIAJDAAAAoF5xDQBD////XyACmCIDIAMgAiACQ////99dGyACQ////19eG7xBgICAgAJrIQQLAkAgACgC0AEgBEYNACAAIAQ2AtABA0AgAC0ABCIEQQRxDQEgACAEQQRyOgAEIAAoAhQiBARAIAAgBBEAAAsgAEGAgID+BzYCtAIgACgCqAQiAA0ACwsLZwEBfwJAIAAoAgAiACgCzAFBqtWq/QdGDQAgAEGq1ar9BzYCzAEDQCAALQAEIgFBBHENASAAIAFBBHI6AAQgACgCFCIBBEAgACABEQAACyAAQYCAgP4HNgK0AiAAKAKoBCIADQALCwvZAQICfQF/IAAoAgAhAEGAgID+ByEEAkAgAbYiAiACXA0AIAKLQwAAgH9bDQBB8OGD/AchBCACQwAAAABbDQAgAkMAAAAgXSACQwAAAKBecQ0AQ///f18gApgiAyADIAIgAkP//3/fXRsgAkP//39fXhu8QYCAgIACa0GAgICABHIhBAsCQCAAKALMASAERg0AIAAgBDYCzAEDQCAALQAEIgRBBHENASAAIARBBHI6AAQgACgCFCIEBEAgACAEEQAACyAAQYCAgP4HNgK0AiAAKAKoBCIADQALCwvSAQICfQF/IAAoAgAhAEGAgID+ByEEAkAgAbYiAiACXA0AIAKLQwAAgH9bDQBBj568/AchBCACQwAAAABbDQAgAkMAAAAgXSACQwAAAKBecQ0AQ////18gApgiAyADIAIgAkP////fXRsgAkP///9fXhu8QYCAgIACayEECwJAIAAoAswBIARGDQAgACAENgLMAQNAIAAtAAQiBEEEcQ0BIAAgBEEEcjoABCAAKAIUIgQEQCAAIAQRAAALIABBgICA/gc2ArQCIAAoAqgEIgANAAsLC2cBAX8CQCAAKAIAIgAoAsgBQarVqv0HRg0AIABBqtWq/Qc2AsgBA0AgAC0ABCIBQQRxDQEgACABQQRyOgAEIAAoAhQiAQRAIAAgAREAAAsgAEGAgID+BzYCtAIgACgCqAQiAA0ACwsL2QECAn0BfyAAKAIAIQBBgICA/gchBAJAIAG2IgIgAlwNACACi0MAAIB/Ww0AQfDhg/wHIQQgAkMAAAAAWw0AIAJDAAAAIF0gAkMAAACgXnENAEP//39fIAKYIgMgAyACIAJD//9/310bIAJD//9/X14bvEGAgICAAmtBgICAgARyIQQLAkAgACgCyAEgBEYNACAAIAQ2AsgBA0AgAC0ABCIEQQRxDQEgACAEQQRyOgAEIAAoAhQiBARAIAAgBBEAAAsgAEGAgID+BzYCtAIgACgCqAQiAA0ACwsL0gECAn0BfyAAKAIAIQBBgICA/gchBAJAIAG2IgIgAlwNACACi0MAAIB/Ww0AQY+evPwHIQQgAkMAAAAAWw0AIAJDAAAAIF0gAkMAAACgXnENAEP///9fIAKYIgMgAyACIAJD////310bIAJD////X14bvEGAgICAAmshBAsCQCAAKALIASAERg0AIAAgBDYCyAEDQCAALQAEIgRBBHENASAAIARBBHI6AAQgACgCFCIEBEAgACAEEQAACyAAQYCAgP4HNgK0AiAAKAKoBCIADQALCwtxAgJ9AX8CQCAAKAIAIgAqAiQiAyABtiICWw0AIAIgAlwgAyADXHENACAAIAI4AiQDQCAALQAEIgRBBHENASAAIARBBHI6AAQgACgCFCIEBEAgACAEEQAACyAAQYCAgP4HNgK0AiAAKAKoBCIADQALCwtxAgJ9AX8CQCAAKAIAIgAqAiAiAyABtiICWw0AIAIgAlwgAyADXHENACAAIAI4AiADQCAALQAEIgRBBHENASAAIARBBHI6AAQgACgCFCIEBEAgACAEEQAACyAAQYCAgP4HNgK0AiAAKAKoBCIADQALCwtlAQF/AkAgACgCACIAKAIoQarVqv0HRg0AIABBqtWq/Qc2AigDQCAALQAEIgFBBHENASAAIAFBBHI6AAQgACgCFCIBBEAgACABEQAACyAAQYCAgP4HNgK0AiAAKAKoBCIADQALCwvXAQICfQF/IAAoAgAhAEGAgID+ByEEAkAgAbYiAiACXA0AIAKLQwAAgH9bDQBB8OGD/AchBCACQwAAAABbDQAgAkMAAAAgXSACQwAAAKBecQ0AQ///f18gApgiAyADIAIgAkP//3/fXRsgAkP//39fXhu8QYCAgIACa0GAgICABHIhBAsCQCAAKAIoIARGDQAgACAENgIoA0AgAC0ABCIEQQRxDQEgACAEQQRyOgAEIAAoAhQiBARAIAAgBBEAAAsgAEGAgID+BzYCtAIgACgCqAQiAA0ACwsL0AECAn0BfyAAKAIAIQBBgICA/gchBAJAIAG2IgIgAlwNACACi0MAAIB/Ww0AQY+evPwHIQQgAkMAAAAAWw0AIAJDAAAAIF0gAkMAAACgXnENAEP///9fIAKYIgMgAyACIAJD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oF5xDQBD//9/XyADmCIEIAQgAyADQ///f99dGyADQ///f19eG7xBgICAgAJrQYCAgIAEciEFCwJAIAAgAUECdGoiAUHQAGooAgAgBUYNACABIAU2AlADQCAALQAEIgFBBHENASAAIAFBBHI6AAQgACgCFCIBBEAgACABEQAACyAAQYCAgP4HNgK0AiAAKAKoBCIADQALCwvcAQICfQF/IAAoAgAhAEGAgID+ByEFAkAgArYiAyADXA0AIAOLQwAAgH9bDQBBj568/AchBSADQwAAAABbDQAgA0MAAAAgXSADQwAAAKBecQ0AQ////18gA5giBCAEIAMgA0P////fXRsgA0P///9fXhu8QYCAgIACayEFCwJAIAAgAUECdGoiAUHQAGooAgAgBUYNACABIAU2AlADQCAALQAEIgFBBHENASAAIAFBBHI6AAQgACgCFCIBBEAgACABEQAACyAAQYCAgP4HNgK0AiAAKAKoBCIADQALCwt1AQF/AkAgACgCACIAKAIYIgJBEHZBA3EgAUYNACAAIAJB//9zcSABQRB0QYCADHFyNgIYA0AgAC0ABCIBQQRxDQEgACABQQRyOgAEIAAoAhQiAQRAIAAgAREAAAsgAEGAgID+BzYCtAIgACgCqAQiAA0ACwsLxgkCAn8DfQJAAkAgASgCACICKAIYIAAoAgAiASgCGHNB////A3ENACACKAIoIQACfwJAIAEoAigiA0Hw4YP8B0cEQEMAAMB/IQRBAyADQarVqv0HRg0CGiADQY+evPwHRw0BQwAAAAAhBEEBDAILQQIMAQtBACADviIFIAVcDQAaIANB/////3txQYCAgIACar4hBEECQQEgA0GAgICABHEbCyEDAn8CQCAAQfDhg/wHRwRAQwAAwH8hBUEDIABBqtWq/QdGDQIaIABBj568/AdHDQFDAAAAACEFQQEMAgtDAAAAACEFQQIMAQtBACAAviIGIAZcDQAaIABB/////3txQYCAgIACar4hBUECQQEgAEGAgICABHEbCyADRw0AAkAgA0UNACAEIARcIAUgBVxxDQAgBCAFk4tDF7fROF1FDQELIAEoAiwgAigCLEcNACABKAIwIAIoAjBHDQAgASgCNCACKAI0Rw0AIAEoAjggAigCOEcNACABKAI8IAIoAjxHDQAgAUFAaygCACACQUBrKAIARw0A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BCAAERMAIgVCIIinJAEgBacLqAEBBX8gACgCVCIDKAIAIQUgAygCBCIEIAAoAhQgACgCHCIHayIGIAQgBkkbIgYEQCAFIAcgBhAsGiADIAMoAgAgBmoiBTYCACADIAMoAgQgBmsiBDYCBAsgBCACIAIgBEsbIgQEQCAFIAEgBBAsGiADIAMoAgAgBGoiBTYCACADIAMoAgQgBGs2AgQLIAVBADoAACAAIAAoAiwiATYCHCAAIAE2AhQgAgsEAEIACwQAQQALigUCBn4CfyABIAEoAgBBB2pBeHEiAUEQajYCACAAIQkgASkDACEDIAEpAwghBiMAQSBrIggkAAJAIAZC////////////AIMiBEKAgICAgIDAgDx9IARCgICAgICAwP/DAH1UBEAgBkIEhiADQjyIhCEEIANC//////////8PgyIDQoGAgICAgICACFoEQCAEQoGAgICAgICAwAB8IQIMAgsgBEKAgICAgICAgEB9IQIgA0KAgICAgICAgAhSDQEgAiAEQgGDfCECDAELIANQIARCgICAgICAwP//AFQgBEKAgICAgIDA//8AURtFBEAgBkIEhiADQjyIhEL/////////A4NCgICAgICAgPz/AIQhAgwBC0KAgICAgICA+P8AIQIgBEL///////+//8MAVg0AQgAhAiAEQjCIpyIAQZH3AEkNACADIQIgBkL///////8/g0KAgICAgIDAAIQiBSEHAkAgAEGB9wBrIgFBwABxBEAgAiABQUBqrYYhB0IAIQIMAQsgAUUNACAHIAGtIgSGIAJBwAAgAWutiIQhByACIASGIQILIAggAjcDECAIIAc3AxgCQEGB+AAgAGsiAEHAAHEEQCAFIABBQGqtiCEDQgAhBQwBCyAARQ0AIAVBwAAgAGuthiADIACtIgKIhCEDIAUgAoghBQsgCCADNwMAIAggBTcDCCAIKQMIQgSGIAgpAwAiA0I8iIQhAiAIKQMQIAgpAxiEQgBSrSADQv//////////D4OEIgNCgYCAgICAgIAIWgRAIAJCAXwhAgwBCyADQoCAgICAgICACFINACACQgGDIAJ8IQILIAhBIGokACAJIAIgBkKAgICAgICAgIB/g4S/OQMAC6IYAxJ/AXwDfiMAQbAEayIMJAAgDEEANgIsAkAgAb0iGUIAUwRAQQEhEUGYCSETIAGaIgG9IRkMAQsgBEGAEHEEQEEBIRFBmwkhEwwBC0GeCUGZCSAEQQFxIhEbIRMgEUUhFQsCQCAZQoCAgICAgID4/wCDQoCAgICAgID4/wBRBEAgAEEgIAIgEUEDaiIDIARB//97cRAmIAAgEyARECUgAEGSE0G+GiAFQSBxIgUbQYMWQcIaIAUbIAEgAWIbQQMQJSAAQSAgAiADIARBgMAAcxAmIAMgAiACIANIGyEKDAELIAxBEGohEgJAAn8CQCABIAxBLGoQViIBIAGgIgFEAAAAAAAAAABiBEAgDCAMKAIsIgZBAWs2AiwgBUEgciIOQeEARw0BDAMLIAVBIHIiDkHhAEYNAiAMKAIsIQlBBiADIANBAEgbDAELIAwgBkEdayIJNgIsIAFEAAAAAAAAsEGiIQFBBiADIANBAEgbCyELIAxBMGpBoAJBACAJQQBOG2oiDSEHA0AgBwJ/IAFEAAAAAAAA8EFjIAFEAAAAAAAAAABmcQRAIAGrDAELQQALIgM2AgAgB0EEaiEHIAEgA7ihRAAAAABlzc1BoiIBRAAAAAAAAAAAYg0ACwJAIAlBAEwEQCAJIQMgByEGIA0hCAwBCyANIQggCSEDA0BBHSADIANBHU4bIQMCQCAHQQRrIgYgCEkNACADrSEaQgAhGQNAIAYgGUL/////D4MgBjUCACAahnwiG0KAlOvcA4AiGUKA7JSjDH4gG3w+AgAgBkEEayIGIAhPDQALIBmnIgZFDQAgCEEEayIIIAY2AgALA0AgCCAHIgZJBEAgBkEEayIHKAIARQ0BCwsgDCAMKAIsIANrIgM2AiwgBiEHIANBAEoNAAsLIANBAEgEQCALQRlqQQluQQFqIQ8gDkHmAEYhEANAQQlBACADayIDIANBCU4bIQoCQCAGIAhNBEAgCCgCACEHDAELQYCU69wDIAp2IRRBfyAKdEF/cyEWQQAhAyAIIQcDQCAHIAMgBygCACIXIAp2ajYCACAWIBdxIBRsIQMgB0EEaiIHIAZJDQALIAgoAgAhByADRQ0AIAYgAzYCACAGQQRqIQYLIAwgDCgCLCAKaiIDNgIsIA0gCCAHRUECdGoiCCAQGyIHIA9BAnRqIAYgBiAHa0ECdSAPShshBiADQQBIDQALC0EAIQMCQCAGIAhNDQAgDSAIa0ECdUEJbCEDQQohByAIKAIAIgpBCkkNAANAIANBAWohAyAKIAdBCmwiB08NAAsLIAsgA0EAIA5B5gBHG2sgDkHnAEYgC0EAR3FrIgcgBiANa0ECdUEJbEEJa0gEQEEEQaQCIAlBAEgbIAxqIAdBgMgAaiIKQQltIg9BAnRqQdAfayEJQQohByAPQXdsIApqIgpBB0wEQANAIAdBCmwhByAKQQFqIgpBCEcNAAsLAkAgCSgCACIQIBAgB24iDyAHbCIKRiAJQQRqIhQgBkZxDQAgECAKayEQAkAgD0EBcUUEQEQAAAAAAABAQyEBIAdBgJTr3ANHDQEgCCAJTw0BIAlBBGstAABBAXFFDQELRAEAAAAAAEBDIQELRAAAAAAAAOA/RAAAAAAAAPA/RAAAAAAAAPg/IAYgFEYbRAAAAAAAAPg/IBAgB0EBdiIURhsgECAUSRshGAJAIBUNACATLQAAQS1HDQAgGJohGCABmiEBCyAJIAo2AgAgASAYoCABYQ0AIAkgByAKaiIDNgIAIANBgJTr3ANPBEADQCAJQQA2AgAgCCAJQQRrIglLBEAgCEEEayIIQQA2AgALIAkgCSgCAEEBaiIDNgIAIANB/5Pr3ANLDQALCyANIAhrQQJ1QQlsIQNBCiEHIAgoAgAiCkEKSQ0AA0AgA0EBaiEDIAogB0EKbCIHTw0ACwsgCUEEaiIHIAYgBiAHSxshBgsDQCAGIgcgCE0iCkUEQCAHQQRrIgYoAgBFDQELCwJAIA5B5wBHBEAgBEEIcSEJDAELIANBf3NBfyALQQEgCxsiBiADSiADQXtKcSIJGyAGaiELQX9BfiAJGyAFaiEFIARBCHEiCQ0AQXchBgJAIAoNACAHQQRrKAIAIg5FDQBBCiEKQQAhBiAOQQpwDQADQCAGIglBAWohBiAOIApBCmwiCnBFDQALIAlBf3MhBgsgByANa0ECdUEJbCEKIAVBX3FBxgBGBEBBACEJIAsgBiAKakEJayIGQQAgBkEAShsiBiAGIAtKGyELDAELQQAhCSALIAMgCmogBmpBCWsiBkEAIAZBAEobIgYgBiALShshCwtBfyEKIAtB/f///wdB/v///wcgCSALciIQG0oNASALIBBBAEdqQQFqIQ4CQCAFQV9xIhVBxgBGBEAgAyAOQf////8Hc0oNAyADQQAgA0EAShshBgwBCyASIAMgA0EfdSIGcyAGa60gEhAwIgZrQQFMBEADQCAGQQFrIgZBMDoAACASIAZrQQJIDQALCyAGQQJrIg8gBToAACAGQQFrQS1BKyADQQBIGzoAACASIA9rIgYgDkH/////B3NKDQILIAYgDmoiAyARQf////8Hc0oNASAAQSAgAiADIBFqIgUgBBAmIAAgEyARECUgAEEwIAIgBSAEQYCABHMQJgJAAkACQCAVQcYARgRAIAxBEGoiBkEIciEDIAZBCXIhCSANIAggCCANSxsiCiEIA0AgCDUCACAJEDAhBgJAIAggCkcEQCAGIAxBEGpNDQEDQCAGQQFrIgZBMDoAACAGIAxBEGpLDQALDAELIAYgCUcNACAMQTA6ABggAyEGCyAAIAYgCSAGaxAlIAhBBGoiCCANTQ0ACyAQBEAgAEHuIEEBECULIAcgCE0NASALQQBMDQEDQCAINQIAIAkQMCIGIAxBEGpLBEADQCAGQQFrIgZBMDoAACAGIAxBEGpLDQALCyAAIAZBCSALIAtBCU4bECUgC0EJayEGIAhBBGoiCCAHTw0DIAtBCUohAyAGIQsgAw0ACwwCCwJAIAtBAEgNACAHIAhBBGogByAISxshCiAMQRBqIgZBCHIhAyAGQQlyIQ0gCCEHA0AgDSAHNQIAIA0QMCIGRgRAIAxBMDoAGCADIQYLAkAgByAIRwRAIAYgDEEQak0NAQNAIAZBAWsiBkEwOgAAIAYgDEEQaksNAAsMAQsgACAGQQEQJSAGQQFqIQYgCSALckUNACAAQe4gQQEQJQsgACAGIAsgDSAGayIGIAYgC0obECUgCyAGayELIAdBBGoiByAKTw0BIAtBAE4NAAsLIABBMCALQRJqQRJBABAmIAAgDyASIA9rECUMAgsgCyEGCyAAQTAgBkEJakEJQQAQJgsgAEEgIAIgBSAEQYDAAHMQJiAFIAIgAiAFSBshCgwBCyATIAVBGnRBH3VBCXFqIQsCQCADQQtLDQBBDCADayEGRAAAAAAAADBAIRgDQCAYRAAAAAAAADBAoiEYIAZBAWsiBg0ACyALLQAAQS1GBEAgGCABmiAYoaCaIQEMAQsgASAYoCAYoSEBCyARQQJyIQkgBUEgcSEIIBIgDCgCLCIHIAdBH3UiBnMgBmutIBIQMCIGRgRAIAxBMDoADyAMQQ9qIQYLIAZBAmsiDSAFQQ9qOgAAIAZBAWtBLUErIAdBAEgbOgAAIARBCHEhBiAMQRBqIQcDQCAHIgUCfyABmUQAAAAAAADgQWMEQCABqgwBC0GAgICAeAsiB0GwKmotAAAgCHI6AAAgASAHt6FEAAAAAAAAMECiIQECQCAFQQFqIgcgDEEQamtBAUcNAAJAIAYNACADQQBKDQAgAUQAAAAAAAAAAGENAQsgBUEuOgABIAVBAmohBwsgAUQAAAAAAAAAAGINAAtBfyEKQf3///8HIAkgEiANayIFaiIGayADSA0AIABBICACIAYCfwJAIANFDQAgByAMQRBqayIIQQJrIANODQAgA0ECagwBCyAHIAxBEGprIggLIgdqIgMgBBAmIAAgCyAJECUgAEEwIAIgAyAEQYCABHMQJiAAIAxBEGogCBAlIABBMCAHIAhrQQBBABAmIAAgDSAFECUgAEEgIAIgAyAEQYDAAHMQJiADIAIgAiADSBshCgsgDEGwBGokACAKC1UBAX8gACgCPCEDIwBBEGsiACQAIAMgAacgAUIgiKcgAkH/AXEgAEEIahAUIgIEf0GENyACNgIAQX8FQQALIQIgACkDCCEBIABBEGokAEJ/IAEgAhsLzQIBB38jAEEgayIDJAAgAyAAKAIcIgQ2AhAgACgCFCEFIAMgAjYCHCADIAE2AhggAyAFIARrIgE2AhQgASACaiEFQQIhBiADQRBqIQECfwNAAkACQAJAIAAoAjwgASAGIANBDGoQGCIEBH9BhDcgBDYCAEF/BUEAC0UEQCAFIAMoAgwiB0YNASAHQQBODQIMAwsgBUF/Rw0CCyAAIAAoAiwiATYCHCAAIAE2AhQgACABIAAoAjBqNgIQIAIMAwsgASAHIAEoAgQiCEsiCUEDdGoiBCAHIAhBACAJG2siCCAEKAIAajYCACABQQxBBCAJG2oiASABKAIAIAhrNgIAIAUgB2shBSAGIAlrIQYgBCEBDAELCyAAQQA2AhwgAEIANwMQIAAgACgCAEEgcjYCAEEAIAZBAkYNABogAiABKAIEawshACADQSBqJAAgAAsJACAAKAI8EBkLIwEBf0HQNigCACIABEADQCAAKAIAEQcAIAAoAgQiAA0ACwsLvAIBBX8jAEHgAGsiBCQAIAQgADYCACMAQRBrIgEkACABIAQ2AgwjAEGQAWsiACQAIABBwCpBkAEQLCIAIARBEGoiAzYCLCAAIAM2AhQgAEH/////B0F+IANrIgIgAkH/////B08bIgI2AjAgACACIANqIgU2AhwgACAFNgIQIABBmREgBEEAQQAQVRogAgRAIAAoAhQiAiACIAAoAhBGa0EAOgAACyAAQZABaiQAIAFBEGokAAJAIAMiAUEDcQRAA0AgAS0AAEUNAiABQQFqIgFBA3ENAAsLA0AgASIAQQRqIQEgACgCACICQX9zIAJBgYKECGtxQYCBgoR4cUUNAAsDQCAAIgFBAWohACABLQAADQALCyABIANrQQFqIgAQOSIBBH8gASADIAAQLAVBAAshACAEQeAAaiQAIAALxQECAn8BfCMAQTBrIgYkACABKAIIIQcCQEG8Ni0AAEEBcQRAQbg2KAIAIQEMAQtBBUHAIhAGIQFBvDZBAToAAEG4NiABNgIACyAGIAU2AiggBiAEOAIgIAYgAzYCGCAGIAI4AhACfyABIAdBuRYgBkEMaiAGQRBqEBMiCEQAAAAAAADwQWMgCEQAAAAAAAAAAGZxBEAgCKsMAQtBAAshASAGKAIMIQMgACABKQMANwMAIAAgASkDCDcDCCADEBIgBkEwaiQAC2MBAn8gAEGkIjYCACAALQAEBEAgACgCCCECAkBBtDYtAABBAXEEQEGwNigCACEBDAELQQFBsCIQBiEBQbQ2QQE6AABBsDYgATYCAAsgASACQd4NQQAQCQsgACgCCBAFIAAQJwthAQJ/IABBpCI2AgAgAC0ABARAIAAoAgghAgJAQbQ2LQAAQQFxBEBBsDYoAgAhAQwBC0EBQbAiEAYhAUG0NkEBOgAAQbA2IAE2AgALIAEgAkHeDUEAEAkLIAAoAggQBSAAC0gBAX8gACgCCCEBAkBBtDYtAABBAXEEQEGwNigCACEADAELQQFBsCIQBiEAQbQ2QQE6AABBsDYgADYCAAsgACABQawZQQAQCQtjAQJ/IABBnCM2AgAgAC0ABARAIAAoAgghAgJAQbQ2LQAAQQFxBEBBsDYoAgAhAQwBC0EBQbAiEAYhAUG0NkEBOgAAQbA2IAE2AgALIAEgAkHeDUEAEAkLIAAoAggQBSAAECcLYQECfyAAQZwjNgIAIAAtAAQEQCAAKAIIIQICQEG0Ni0AAEEBcQRAQbA2KAIAIQEMAQtBAUGwIhAGIQFBtDZBAToAAEGwNiABNgIACyABIAJB3g1BABAJCyAAKAIIEAUgAAuJAQECfyMAQTBrIgIkACABIAAoAgQiA0EBdWohASAAKAIAIQAgAiABIANBAXEEfyABKAIAIABqKAIABSAACxECAEEwEB0iACACKQMoNwMoIAAgAikDIDcDICAAIAIpAxg3AxggACACKQMQNwMQIAAgAikDCDcDCCAAIAIpAwA3AwAgAkEwaiQAIAALOwEBfyABIAAoAgQiBUEBdWohASAAKAIAIQAgASACIAMgBCAFQQFxBH8gASgCACAAaigCAAUgAAsRGQALNwEBfyABIAAoAgQiA0EBdWohASAAKAIAIQAgASACIANBAXEEfyABKAIAIABqKAIABSAACxEPAAs3AQF/IAEgACgCBCIDQQF1aiEBIAAoAgAhACABIAIgA0EBcQR/IAEoAgAgAGooAgAFIAALEQwACzUBAX8gASAAKAIEIgJBAXVqIQEgACgCACEAIAEgAkEBcQR/IAEoAgAgAGooAgAFIAALEQkAC2EBAn8jAEEQayICJAAgASAAKAIEIgNBAXVqIQEgACgCACEAIAIgASADQQFxBH8gASgCACAAaigCAAUgAAsRAgBBEBAdIgAgAikDCDcDCCAAIAIpAwA3AwAgAkEQaiQAIAALYwECfyMAQRBrIgMkACABIAAoAgQiBEEBdWohASAAKAIAIQAgAyABIAIgBEEBcQR/IAEoAgAgAGooAgAFIAALEQQAQRAQHSIAIAMpAwg3AwggACADKQMANwMAIANBEGokACAACzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRAwALOQEBfyABIAAoAgQiBEEBdWohASAAKAIAIQAgASACIAMgBEEBcQR/IAEoAgAgAGooAgAFIAALEQgACwkAIAEgABEBAAsFAEHLNgsPACABIAAoAgBqIAI2AgALDQAgASAAKAIAaigCAAsYAQF/QRAQHSIAQgA3AwggAEEANgIAIAALGAEBf0EQEB0iAEIANwMAIABCADcDCCAACzQBAX9BMBAdIgBCADcDACAAQgA3AyggAEIANwMgIABCADcDGCAAQgA3AxAgAEIANwMIIAALNwEBfyABIAAoAgQiA0EBdWohASAAKAIAIQAgASACIANBAXEEfyABKAIAIABqKAIABSAACxEYAAsFAEHGNgsh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IQJBAkEBIAFBgICAgARxGwshASAAIAI5AwggACABNgIAC5cBAgF8AX0CfwJAIAEoAgAoAtgBIgFB8OGD/AdHBEBEAAAAAAAA+H8hAkEDIAFBqtWq/QdGDQIaIAFBj568/AdHDQFEAAAAAAAAAAAhAkEBDAILQQIMAQtBACABviIDIANcDQAaIAFB/////3txQYCAgIACar67IQJBAkEBIAFBgICAgARxGwshASAAIAI5AwggACABNgIAC5cBAgF8AX0CfwJAIAEoAgAoAtQBIgFB8OGD/AdHBEBEAAAAAAAA+H8hAkEDIAFBqtWq/QdGDQIaIAFBj568/AdHDQFEAAAAAAAAAAAhAkEBDAILQQIMAQtBACABviIDIANcDQAaIAFB/////3txQYCAgIACar67IQJBAkEBIAFBgICAgARxGwshASAAIAI5AwggACABNgIAC5cBAgF8AX0CfwJAIAEoAgAoAtABIgFB8OGD/AdHBEBEAAAAAAAA+H8hAkEDIAFBqtWq/QdGDQIaIAFBj568/AdHDQFEAAAAAAAAAAAhAkEBDAILQQIMAQtBACABviIDIANcDQAaIAFB/////3txQYCAgIACar67IQJBAkEBIAFBgICAgARxGwshASAAIAI5AwggACABNgIAC5cBAgF8AX0CfwJAIAEoAgAoAswBIgFB8OGD/AdHBEBEAAAAAAAA+H8hAkEDIAFBqtWq/QdGDQIaIAFBj568/AdHDQFEAAAAAAAAAAAhAkEBDAILQQIMAQtBACABviIDIANcDQAaIAFB/////3txQYCAgIACar67IQJBAkEBIAFBgICAgARxGwshASAAIAI5AwggACABNgIAC5cBAgF8AX0CfwJAIAEoAgAoAsgBIgFB8OGD/AdHBEBEAAAAAAAA+H8hAkEDIAFBqtWq/QdGDQIaIAFBj568/AdHDQFEAAAAAAAAAAAhAkEBDAILQQIMAQtBACABviIDIANcDQAaIAFB/////3txQYCAgIACar67IQJBAkEBIAFBgICAgARxGwshASAAIAI5AwggACABNgIACy4BAX0gACgCACIAKgIkIgEgAVwEfUMAAIA/QwAAAAAgACgCuAQtAAobBSABC7sLGgEBfSAAKAIAKgIgIgFDAAAAACABIAFbG7sLlgEDAX8BfAF9AkACQCABKAIAKAIoIgFBqtWq/QdGBH9BAwUgAUGPnrz8B0YEQEEBIQIMAwsgAUHw4YP8B0YEQEECIQIMAwsgAb4iBCAEWw0BQQALIQJEAAAAAAAA+H8hAwwBC0ECQQEgAUGAgICABHEbIQIgAUH/////e3FBgICAgAJqvrshAwsgACADOQMIIAAgAjYCAAsQACAAKAIAKAIYQRZ2QQFxCxAAIAAoAgAoAhhBFHZBA3ELqgEDAX8BfAF9QQIhAwJAAkAgASgCACACQQJ0aigCLCIBQfDhg/wHRwRARAAAAAAAAPh/IQQgAUGq1ar9B0YEQEEDIQMMAwsgAUGPnrz8B0cNAUQAAAAAAAAAACEEQQEhAwwCCwwBCyABviIFIAVcBEBBACEDDAELQQJBASABQYCAgIAEcRshAyABQf////97cUGAgICAAmq+uyEECyAAIAQ5AwggACADNgIACxAAIAAoAgAoAhhBBHZBB3ELEAAgACgCACgCGEESdkEDcQsQACAAKAIAKAIYQQJ2QQNxCxAAIAAoAgAoAhhBDXZBB3ELEAAgACgCACgCGEEKdkEHcQsQACAAKAIAKAIYQQd2QQdxC6oBAwF/AXwBfUECIQMCQAJAIAEoAgAgAkECdGooAlAiAUHw4YP8B0cEQEQAAAAAAAD4fyEEIAFBqtWq/QdGBEBBAyEDDAMLIAFBj568/AdHDQFEAAAAAAAAAAAhBEEBIQMMAgsMAQsgAb4iBSAFXARAQQAhAwwBC0ECQQEgAUGAgICABHEbIQMgAUH/////e3FBgICAgAJqvrshBAsgACAEOQMIIAAgAzYCAAsL/iEjAEGACAuhGU9ubHkgbGVhZiBub2RlcyB3aXRoIGN1c3RvbSBtZWFzdXJlIGZ1bmN0aW9uc3Nob3VsZCBtYW51YWxseSBtYXJrIHRoZW1zZWx2ZXMgYXMgZGlydHkAaXNEaXJ0eQBtYXJrRGlydHkAZGVzdHJveQBzZXREaXNwbGF5AGdldERpc3BsYXkAc2V0RmxleAAtKyAgIDBYMHgALTBYKzBYIDBYLTB4KzB4IDB4AHNldEZsZXhHcm93AGdldEZsZXhHcm93AHNldE92ZXJmbG93AGdldE92ZXJmbG93AGNhbGN1bGF0ZUxheW91dABnZXRDb21wdXRlZExheW91dAB1bnNpZ25lZCBzaG9ydABnZXRDaGlsZENvdW50AHVuc2lnbmVkIGludABzZXRKdXN0aWZ5Q29udGVudABnZXRKdXN0aWZ5Q29udGVudABzZXRBbGlnbkNvbnRlbnQAZ2V0QWxpZ25Db250ZW50AGdldFBhcmVudABpbXBsZW1lbnQAc2V0TWF4SGVpZ2h0UGVyY2VudABzZXRIZWlnaHRQZXJjZW50AHNldE1pbkhlaWdodFBlcmNlbnQAc2V0RmxleEJhc2lzUGVyY2VudABzZXRQb3NpdGlvblBlcmNlbnQAc2V0TWFyZ2luUGVyY2VudABzZXRNYXhXaWR0aFBlcmNlbnQAc2V0V2lkdGhQZXJjZW50AHNldE1pbldpZHRoUGVyY2VudABzZXRQYWRkaW5nUGVyY2VudABjcmVhdGVEZWZhdWx0AHVuaXQAcmlnaHQAaGVpZ2h0AHNldE1heEhlaWdodABnZXRNYXhIZWlnaHQAc2V0SGVpZ2h0AGdldEhlaWdodABzZXRNaW5IZWlnaHQAZ2V0TWluSGVpZ2h0AGdldENvbXB1dGVkSGVpZ2h0AGdldENvbXB1dGVkUmlnaHQAbGVmdABnZXRDb21wdXRlZExlZnQAcmVzZXQAX19kZXN0cnVjdABmbG9hdAB1aW50NjRfdAB1c2VXZWJEZWZhdWx0cwBzZXRVc2VXZWJEZWZhdWx0cwBzZXRBbGlnbkl0ZW1zAGdldEFsaWduSXRlbXMAc2V0RmxleEJhc2lzAGdldEZsZXhCYXNpcwBDYW5ub3QgZ2V0IGxheW91dCBwcm9wZXJ0aWVzIG9mIG11bHRpLWVkZ2Ugc2hvcnRoYW5kcwB1c2VMZWdhY3lTdHJldGNoQmVoYXZpb3VyAHNldFVzZUxlZ2FjeVN0cmV0Y2hCZWhhdmlvdXIAc2V0UG9pbnRTY2FsZUZhY3RvcgBNZWFzdXJlQ2FsbGJhY2tXcmFwcGVyAERpcnRpZWRDYWxsYmFja1dyYXBwZXIAQ2Fubm90IHJlc2V0IGEgbm9kZSBzdGlsbCBhdHRhY2hlZCB0byBhIG93bmVyAHNldEJvcmRlcgBnZXRCb3JkZXIAZ2V0Q29tcHV0ZWRCb3JkZXIAdW5zaWduZWQgY2hhcgB0b3AAZ2V0Q29tcHV0ZWRUb3AAc2V0RmxleFdyYXAAZ2V0RmxleFdyYXAAc2V0R2FwAGdldEdhcAAlcABzZXRIZWlnaHRBdXRvAHNldEZsZXhCYXNpc0F1dG8Ac2V0TWFyZ2luQXV0bwBzZXRXaWR0aEF1dG8AU2NhbGUgZmFjdG9yIHNob3VsZCBub3QgYmUgbGVzcyB0aGFuIHplcm8Ac2V0QXNwZWN0UmF0aW8AZ2V0QXNwZWN0UmF0aW8Ac2V0UG9zaXRpb24AZ2V0UG9zaXRpb24Abm90aWZ5T25EZXN0cnVjdGlvbgBzZXRGbGV4RGlyZWN0aW9uAGdldEZsZXhEaXJlY3Rpb24Ac2V0TWFyZ2luAGdldE1hcmdpbgBnZXRDb21wdXRlZE1hcmdpbgBuYW4AYm90dG9tAGdldENvbXB1dGVkQm90dG9tAGJvb2wAZW1zY3JpcHRlbjo6dmFsAHNldEZsZXhTaHJpbmsAZ2V0RmxleFNocmluawBNZWFzdXJlQ2FsbGJhY2sARGlydGllZENhbGxiYWNrAHdpZHRoAHNldE1heFdpZHRoAGdldE1heFdpZHRoAHNldFdpZHRoAGdldFdpZHRoAHNldE1pbldpZHRoAGdldE1pbldpZHRoAGdldENvbXB1dGVkV2lkdGgAdW5zaWduZWQgbG9uZwBzdGQ6OndzdHJpbmcAc3RkOjpzdHJpbmcAc3RkOjp1MTZzdHJpbmcAc3RkOjp1MzJzdHJpbmcAc2V0UGFkZGluZwBnZXRQYWRkaW5nAGdldENvbXB1dGVkUGFkZGluZwBUcmllZCB0byBjb25zdHJ1Y3QgWUdOb2RlIHdpdGggbnVsbCBjb25maWcAY3JlYXRlV2l0aENvbmZpZwBpbmYAc2V0QWxpZ25TZWxmAGdldEFsaWduU2VsZgBTaXplAHZhbHVlAFZhbHVlAGNyZWF0ZQBtZWFzdXJlAHNldFBvc2l0aW9uVHlwZQBnZXRQb3NpdGlvblR5cGUAaXNSZWZlcmVuY2VCYXNlbGluZQBzZXRJc1JlZmVyZW5jZUJhc2VsaW5lAGNvcHlTdHlsZQBkb3VibGUATm9kZQBleHRlbmQAaW5zZXJ0Q2hpbGQAZ2V0Q2hpbGQAcmVtb3ZlQ2hpbGQAdm9pZABhdmFpbGFibGVIZWlnaHQgaXMgaW5kZWZpbml0ZSBzbyBoZWlnaHRNZWFzdXJlTW9kZSBtdXN0IGJlIFlHTWVhc3VyZU1vZGVVbmRlZmluZWQAYXZhaWxhYmxlV2lkdGggaXMgaW5kZWZpbml0ZSBzbyB3aWR0aE1lYXN1cmVNb2RlIG11c3QgYmUgWUdNZWFzdXJlTW9kZVVuZGVmaW5lZABzZXRFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZABpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkAGRpcnRpZWQAQ2Fubm90IHJlc2V0IGEgbm9kZSB3aGljaCBzdGlsbCBoYXMgY2hpbGRyZW4gYXR0YWNoZWQAdW5zZXRNZWFzdXJlRnVuYwB1bnNldERpcnRpZWRGdW5jAEV4cGVjdCBjdXN0b20gYmFzZWxpbmUgZnVuY3Rpb24gdG8gbm90IHJldHVybiBOYU4ATkFOAElORgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgc2hvcnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgaW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxmbG9hdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dWludDhfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MTZfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MTZfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dWludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGNoYXI+AHN0ZDo6YmFzaWNfc3RyaW5nPHVuc2lnbmVkIGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxkb3VibGU+AENoaWxkIGFscmVhZHkgaGFzIGEgb3duZXIsIGl0IG11c3QgYmUgcmVtb3ZlZCBmaXJzdC4AQ2Fubm90IHNldCBtZWFzdXJlIGZ1bmN0aW9uOiBOb2RlcyB3aXRoIG1lYXN1cmUgZnVuY3Rpb25zIGNhbm5vdCBoYXZlIGNoaWxkcmVuLgBDYW5ub3QgYWRkIGNoaWxkOiBOb2RlcyB3aXRoIG1lYXN1cmUgZnVuY3Rpb25zIGNhbm5vdCBoYXZlIGNoaWxkcmVuLgAobnVsbCkAJXMKAAABAAAAAwAAAAAAAAACAAAAAwAAAAEAAAACAAAAAAAAAAEAAAABAEGuIQsVwH8AAAAAAADAfwMAAABpaQB2AHZpAEHQIQs3KxsAACkbAABpGwAAYxsAAGkbAABjGwAAaWlpZmlmaQBcGwAALBsAAHZpaQAtGwAAcBsAAGlpaQBBkCILCbkAAAC6AAAAuwBBpCILDrkAAAC8AAAAvQAAAFwbAEHAIgs+KxsAAGkbAABjGwAAaRsAAGMbAABwGwAAaxsAAHAbAABpaWlpAAAAAFwbAABBGwAAXBsAAEMbAABEGwAAcBsAQYgjCwm+AAAAvwAAAMAAQZwjCxa+AAAAwQAAAL0AAABHGwAAXBsAAEcbAEHAIwuSA1wbAABHGwAAYxsAAF0bAAB2aWlpaQAAAFwbAABHGwAAaRsAAHZpaWYAAAAAXBsAAEcbAABdGwAAdmlpaQAAAABdGwAASBsAAGMbAABdGwAARxsAAGkAZGlpAHZpaWQAAEwbAABMGwAARxsAAFwbAABMGwAAXBsAAEwbAABLGwAAXBsAAEwbAABjGwAAAAAAAFwbAABMGwAAYxsAAGobAAB2aWlpZAAAAFwbAABMGwAAahsAAGMbAABNGwAAShsAAE0bAABjGwAAShsAAE0bAABqGwAATRsAAGobAABNGwAAYxsAAGRpaWkAAAAAaRsAAEwbAABjGwAAZmlpaQAAAABcGwAATBsAAEwbAABkGwAAXBsAAEwbAABMGwAAZBsAAE0bAABMGwAATBsAAEwbAABMGwAAZBsAAF0bAABMGwAAXBsAAEwbAABdGwAAXBsAAEwbAAApGwAAXBsAAEwbAABBGwAAXRsAAE0bAAAAAAAAXBsAAEwbAABqGwAAahsAAGMbAAB2aWlkZGkAAEkbAABNGwBB4CYLQRkACgAZGRkAAAAABQAAAAAAAAkAAAAACwAAAAAAAAAAGQARChkZGQMKBwABAAkLGAAACQYLAAALAAYZAAAAGRkZAEGxJwshDgAAAAAAAAAAGQAKDRkZGQANAAACAAkOAAAACQAOAAAOAEHrJwsBDABB9ycLFRMAAAAAEwAAAAAJDAAAAAAADAAADABBpSgLARAAQbEoCxUPAAAABA8AAAAACRAAAAAAABAAABAAQd8oCwESAEHrKAseEQAAAAARAAAAAAkSAAAAAAASAAASAAAaAAAAGhoaAEGiKQsOGgAAABoaGgAAAAAAAAkAQdMpCwEUAEHfKQsVFwAAAAAXAAAAAAkUAAAAAAAUAAAUAEGNKgsBFgBBmSoLJxUAAAAAFQAAAAAJFgAAAAAAFgAAFgAAMDEyMzQ1Njc4OUFCQ0RFRgBB5CoLAccAQYwrCwj//////////wBB0CsLCaAfAQAAAAAABQBB5CsLAcIAQfwrCwrDAAAAxAAAAIQbAEGULAsBAgBBpCwLCP//////////AEHoLAsBBQBB9CwLAcUAQYwtCw7DAAAAxgAAAJgbAAAABABBpC0LAQEAQbQtCwX/////CgBB+C0LAcg=";var yE=n(9);function wE(){return async function(e){let t=await EE({instantiateWasm(t,n){WebAssembly.instantiate(e,t).then((e=>{e instanceof WebAssembly.Instance?n(e):n(e.instance)}))}});return vE(t)}((0,yE.b$)(BE))}async function bE(){try{return async function(e){let t=await EE({instantiateWasm(t,n){WebAssembly.instantiateStreaming(e,t).then((e=>{let{instance:t}=e;n(t)}))}});return vE(t)}(await fetch("https://coconut-xr.github.io/flex/yoga.wasm"))}catch(e){return console.log("Cannot retrieve yoga.wasm from remote host. Error: "+e),console.log("Returning local yoga.wasm file"),wE()}}const xE=new Ur(0,-1,0),SE=new Ur(-1,0,0),QE=new Ur(0,1,0),ME=new Ur(1,0,0);class _E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;zm(this,"x",void 0),this.x=e}length(){return Math.abs(this.x)}set(e){this.x=e}multiplyScalar(e){return this.x*=e,this}divideScalar(e){return this.x/=e,this}add(e){return this.x+=e.x,this}sub(e){return this.x-=e.x,this}divide(e){return this.x/=e.x,this}multiply(e){return this.x*=e.x,this}copy(e){return this.x=e.x,this}clone(){return new _E(this.x)}}const DE=.5,RE=new sr,TE=new Ur,NE=new sr(1,1),LE=new sr(0,0),PE=new Ur(0,0,0),FE=new Ur(1,1,1),UE=new Ur;var GE;!function(e){e[e.Changed=0]="Changed",e[e.Unchanged=1]="Unchanged",e[e.UnknownProperty=2]="UnknownProperty"}(GE||(GE={}));const kE={isDead:e=>!("backgroundOpacity"in e&&e.backgroundOpacity instanceof _E)||e.backgroundOpacity.x<=.001,toBirthState:e=>{"opacity"in e&&e.opacity instanceof _E&&e.opacity.set(0),"backgroundOpacity"in e&&e.backgroundOpacity instanceof _E&&e.backgroundOpacity.set(0),"borderOpacity"in e&&e.borderOpacity instanceof _E&&e.borderOpacity.set(0)},toDeathState:e=>{"opacity"in e&&e.opacity instanceof _E&&e.opacity.set(0),"backgroundOpacity"in e&&e.backgroundOpacity instanceof _E&&e.backgroundOpacity.set(0),"borderOpacity"in e&&e.borderOpacity instanceof _E&&e.borderOpacity.set(0)},transition:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return(t,n,r,i)=>{const s=1-1/(1+r*e);if(i)!function(e,t){for(const n of nE){const r=e[n];if(null==r)return;e[n]=t(r,n)}}(t,((e,t)=>{const r=n[t],i=Math.min(e,r)*(1-s)+Math.max(e,r)*s;return r>=e?i:Lv(e*r,i)}));else{const e=tE(n);t.multiplyScalar(1-s).add(e.copy(n).multiplyScalar(s))}}}()},HE=DE;class OE extends Wv{constructor(e,t,n,r,i,s,a){super(),zm(this,"id",void 0),zm(this,"precision",void 0),zm(this,"requestLayoutCalculation",void 0),zm(this,"bucket",void 0),zm(this,"root",void 0),zm(this,"cleanupReference",void 0),zm(this,"yoga",void 0),zm(this,"children",[]),zm(this,"nextParent",void 0),zm(this,"parent",void 0),zm(this,"properties",{}),zm(this,"current",void 0),zm(this,"currentLocalTransformation",{translate:new Ur,scale:new Ur}),zm(this,"targetLocalTransformation",{translate:new Ur,scale:new Ur}),zm(this,"measuredLocalTranslate",new sr),zm(this,"measuredLocalScale",new sr),zm(this,"measuredGlobalScale",new sr),zm(this,"measuredGlobalPadding",new Mr),zm(this,"measuredNormalizedContentBounds",new jd),zm(this,"manualTransformation",{translate:new Ur,scale:new Ur(1,1,1)}),zm(this,"normalizedScrollOffset",new Ur),zm(this,"depth",void 0),zm(this,"clippingPlanes",null),zm(this,"overflowClipped",!1),zm(this,"clippingBounds",new Mr),zm(this,"index",0),zm(this,"animationConfig",kE),this.id=t,this.precision=n,this.requestLayoutCalculation=r,this.bucket=i,this.root=s,this.cleanupReference=a,this.depth=HE*this.precision,this.yoga=e.Node.create()}onScroll(e,t){var n,r,i,s;if(this.yoga.getOverflow()!=IE)return!1;UE.copy(this.normalizedScrollOffset);const a=null!==(n=null===(r=this.current)||void 0===r?void 0:r.scale.x)&&void 0!==n?n:1,o=null!==(i=null===(s=this.current)||void 0===s?void 0:s.scale.y)&&void 0!==i?i:1;return this.normalizedScrollOffset.x+=Lv(e,a),this.normalizedScrollOffset.y+=Lv(t,o),this.updateScroll(),(UE.x!=this.normalizedScrollOffset.x||UE.y!=this.normalizedScrollOffset.y)&&(this.updateTransformationTarget(!0),!0)}updateScroll(){this.yoga.getOverflow()!=IE&&(this.normalizedScrollOffset.x=0,this.normalizedScrollOffset.y=0),RE.copy(this.measuredNormalizedContentBounds.max).sub(NE).max(LE),this.normalizedScrollOffset.x=Math.min(-this.measuredNormalizedContentBounds.min.x,Math.max(-RE.x,this.normalizedScrollOffset.x)),this.normalizedScrollOffset.y=Math.max(this.measuredNormalizedContentBounds.min.y,Math.min(RE.y,this.normalizedScrollOffset.y))}calculateLayout(){this.commitChildren(),this.yoga.calculateLayout(),this.measureLayout(),this.updateLayout()}commitChildren(){const e=this.children.sort(((e,t)=>e.index-t.index)).filter((e=>{let{isDying:t}=e;return!t})).map((e=>{let{yoga:t}=e;return t}));!function(e,t){let n,r,i=0;for(;null!=(n=e.getChild(i))||null!=(r=t[i]);){var s;null==n||null==r||(a=r,n.__nbindPtr!==a.__nbindPtr)?(null!=n&&e.removeChild(n),null!=r&&(null===(s=r.getParent())||void 0===s||s.removeChild(r),e.insertChild(r,i),++i)):++i}var a}(this.yoga,e),this.children.forEach((e=>e.commitChildren()))}destroy(){null!=this.nextParent?(this.isDying=!0,this.animationConfig.toDeathState(this.target)):this.hardDestroy()}hardDestroy(){null!=this.nextParent&&this.nextParent.removeChild(this),this.cleanupReference(),this.cleanupHandler(),this.onCleanup()}measureLayout(){var e,t,n,r;if(this.isDying)return;this.measuredNormalizedContentBounds.min.set(0,0),this.measuredNormalizedContentBounds.max.set(0,0);const i=this.yoga.getComputedTop()*this.precision,s=this.yoga.getComputedRight()*this.precision,a=this.yoga.getComputedBottom()*this.precision,o=this.yoga.getComputedLeft()*this.precision,l=this.yoga.getComputedWidth()*this.precision,A=this.yoga.getComputedHeight()*this.precision,c=this.yoga.getComputedPadding(pE)*this.precision,u=this.yoga.getComputedPadding(gE)*this.precision,h=this.yoga.getComputedPadding(fE)*this.precision,d=this.yoga.getComputedPadding(mE)*this.precision,g=this.yoga.getComputedBorder(pE)*this.precision,p=this.yoga.getComputedBorder(fE)*this.precision,f=this.yoga.getComputedBorder(mE)*this.precision,m=this.yoga.getComputedBorder(gE)*this.precision;var C,I,v,E;(this.target.borderSize.set(g,p,f,m),this.measuredGlobalPadding.set(c,h,d,u),this.measuredGlobalScale.set(l,A),Nv(this.measuredLocalTranslate.set(o,-i),null!==(e=null===(t=this.nextParent)||void 0===t?void 0:t.measuredGlobalScale)&&void 0!==e?e:FE),Nv(this.measuredLocalScale.set(l,A),null!==(n=null===(r=this.nextParent)||void 0===r?void 0:r.measuredGlobalScale)&&void 0!==n?n:FE),null!=this.nextParent)&&(RE.set(o+l+s,i+A+a),RE.x+=this.nextParent.target.borderSize.y+this.nextParent.measuredGlobalPadding.y,RE.y+=this.nextParent.target.borderSize.z+this.nextParent.measuredGlobalPadding.z,Nv(RE,null!==(C=null===(I=this.nextParent)||void 0===I?void 0:I.measuredGlobalScale)&&void 0!==C?C:FE),this.nextParent.measuredNormalizedContentBounds.max.max(RE),RE.set(o,i),RE.x-=this.nextParent.target.borderSize.w+this.nextParent.measuredGlobalPadding.w,RE.y-=this.nextParent.target.borderSize.x+this.nextParent.measuredGlobalPadding.x,Nv(RE,null!==(v=null===(E=this.nextParent)||void 0===E?void 0:E.measuredGlobalScale)&&void 0!==v?v:FE),this.nextParent.measuredNormalizedContentBounds.min.min(RE));for(const B of this.children)B.measureLayout()}updateLayout(){if(this.isDying)this.updateTransformationTarget(!0);else{if(this.overflowClipped=this.yoga.getOverflow()!=CE,null==this.current)this.onInit();else if(this.parent!=this.nextParent){var e,t;Zv(this.currentLocalTransformation,this.current,null===(e=this.nextParent)||void 0===e?void 0:e.current),Zv(this.targetLocalTransformation,this.target,null===(t=this.nextParent)||void 0===t?void 0:t.target)}var n,r,i;if(this.parent=this.nextParent,this.updateScroll(),this.updateTransformationTarget(!1),this.onLayout(),null==this.current)this.current=function(e){const t={};for(const[n,r]of Object.entries(e))t[n]=r.clone();return t}(this.target),Zv(this.targetLocalTransformation,this.target,null===(n=this.parent)||void 0===n?void 0:n.target),$v(this.current,this.targetLocalTransformation,null===(r=this.parent)||void 0===r?void 0:r.current),this.linkCurrent(this.current),this.animationConfig.toBirthState(this.current),Zv(this.currentLocalTransformation,this.current,null===(i=this.parent)||void 0===i?void 0:i.current);for(const e of this.children)e.updateLayout()}}setProperties(e){const t=this.properties;this.properties=e,function(e,t,n,r){const i=Object.entries(n);let s=!1;if(null==r){for(const[n,r]of i){const i=hE[n];null!=i&&(i(e,t,r),s=!0)}return s}const a=new Set(Object.keys(r));for(const[o,l]of i){const n=hE[o];null!=n&&l!=r[o]&&(n(e,t,l),s=!0),a.delete(o)}for(const o of a){const n=hE[o];null!=n&&(n(e,t,void 0),s=!0)}return s}(this.yoga,this.precision,this.properties,t)&&this.requestLayoutCalculation()}setManualTransformation(e,t,n,r,i,s){const a=this.manualTransformation.scale,o=this.manualTransformation.translate;let l=!1;a.x==r&&a.y==i&&a.z==s||(l=!0,a.set(r,i,s)),o.x==e&&o.y==t&&o.z==n||(l=!0,o.set(e,t,n)),l&&this.updateTransformationTarget(!0)}setDepth(e){const t=Math.max(HE*this.precision,e);this.depth!==t&&(this.depth=t,this.updateTransformationTarget(!0))}setParent(e){var t;return this.isDying=!1,this.nextParent!==e&&(null!=this.nextParent&&this.nextParent.removeChild(this),this.nextParent=e,null===(t=this.nextParent)||void 0===t||t.children.push(this),!0)}removeChild(e){const t=this.children.indexOf(e);-1!==t&&(this.children.splice(t,1),0===this.children.length&&this.isDying&&null!=this.current&&this.animationConfig.isDead(this.current)&&this.hardDestroy())}update(e){var t,n;if(null!=this.current){this.applyScrollVelocity(e);for(const[t,n]of Object.entries(this.target))"translate"!=t&&"scale"!=t&&this.animationConfig.transition(this.current[t],n,e,!1);if(function(e,t,n,r,i){let{translate:s,scale:a}=r,{translate:o,scale:l}=i,A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kv,c=arguments.length>6?arguments[6]:void 0;const{translate:u,scale:h}=t,{translate:d,scale:g}=n;qv.copy(d).sub(o).multiply(A.scale).lengthSq()<u.distanceToSquared(s)?(e(d,o,c,!1),e(g,l,c,!0),$v(t,n,A)):(e(u,s,c,!1),e(h,a,c,!0),Zv(n,t,A))}(this.animationConfig.transition,this.current,this.currentLocalTransformation,this.target,this.targetLocalTransformation,null===(t=this.parent)||void 0===t?void 0:t.current,e),0===this.children.length&&this.isDying&&this.animationConfig.isDead(this.current))this.hardDestroy();else{if(this.overflowClipped||null!=(null===(n=this.parent)||void 0===n?void 0:n.clippingPlanes)){var r;null==this.clippingPlanes&&(this.clippingPlanes=[new da,new da,new da,new da],this.applyClippingPlanes(this.clippingPlanes)),function(e,t,n,r){let{translate:i,scale:s}=e;r?t.set(i.y,i.x+s.x,-i.y+s.y,-i.x):t.set(1/0,1/0,1/0,1/0),null!=n&&t.min(n)}(this.current,this.clippingBounds,null!=(null===(r=this.parent)||void 0===r?void 0:r.clippingPlanes)?this.parent.clippingBounds:void 0,this.overflowClipped),function(e,t,n){const[r,i,s,a]=e;r.normal.copy(xE),i.normal.copy(SE),s.normal.copy(QE),a.normal.copy(ME);const o=DE*n;r.constant=t.x+o,i.constant=t.y+o,s.constant=t.z+o,a.constant=t.w+o}(this.clippingPlanes,this.clippingBounds,this.precision),this.clippingBounds.sub(this.current.borderSize);for(const e of this.clippingPlanes)e.applyMatrix4(this.bucket.matrixWorld)}else null!=this.clippingPlanes&&(this.clippingPlanes=null,this.applyClippingPlanes(null));for(const t of this.children)t.update(e);this.onUpdate(this.current)}}}updateTransformationTarget(e){var t,n,r,i,s,a,o,l,A;if(this.target.scale.copy(Uv(this.measuredLocalScale,this.depth)).multiply(this.manualTransformation.scale).multiply(Xv(null!==(t=null===(n=this.parent)||void 0===n?void 0:n.target.scale)&&void 0!==t?t:FE)),this.target.translate.copy(Uv(this.measuredLocalTranslate,null==this.parent?0:this.parent.depth+DE*this.precision)).add(null!==(r=null===(i=this.parent)||void 0===i?void 0:i.normalizedScrollOffset)&&void 0!==r?r:PE).add(Nv(TE.copy(this.manualTransformation.translate),Uv(this.measuredGlobalScale,1))).multiply(Xv(null!==(s=null===(a=this.parent)||void 0===a?void 0:a.target.scale)&&void 0!==s?s:FE)).add(null!==(o=null===(l=this.parent)||void 0===l?void 0:l.target.translate)&&void 0!==o?o:PE),Zv(this.targetLocalTransformation,this.target,null===(A=this.parent)||void 0===A?void 0:A.target),e)for(const c of this.children)c.updateTransformationTarget(!0)}}function zE(e,t,n,i,s,a){let{yoga:o,precision:l,bucket:A,nodeMap:c,requestLayoutCalculation:u}=e;const h=Tp();return(0,r.useMemo)((()=>{const e=null!==i&&void 0!==i?i:null==n||null==t?fv():"".concat(t,"-").concat(n);let r=c.get(e);return null!=r&&r.constructor.name===s.name||(r=new s(o,e,l,u,A,h,c.delete.bind(c,e)),c.set(e,r)),null==a||("function"==typeof a?a(r):a.current=r),r}),[h,c,A,l,i,s,o,t])}const YE={inset:WE("positionTop","positionLeft","positionRight","positionBottom"),borderRadius:WE("borderRadiusBottomLeft","borderRadiusBottomRight","borderRadiusTopLeft","borderRadiusTopRight"),borderRadiusLeft:WE("borderRadiusTopLeft","borderRadiusBottomLeft"),borderRadiusRight:WE("borderRadiusTopRight","borderRadiusBottomRight"),borderRadiusTop:WE("borderRadiusTopLeft","borderRadiusTopRight"),borderRadiusBottom:WE("borderRadiusBottomLeft","borderRadiusBottomRight"),border:WE("borderBottom","borderTop","borderLeft","borderRight"),borderX:WE("borderLeft","borderRight"),borderY:WE("borderTop","borderBottom"),padding:WE("paddingBottom","paddingTop","paddingLeft","paddingRight"),paddingX:WE("paddingLeft","paddingRight"),paddingY:WE("paddingTop","paddingBottom"),margin:WE("marginBottom","marginTop","marginLeft","marginRight"),marginX:WE("marginLeft","marginRight"),marginY:WE("marginTop","marginBottom")};WE("marginBottom","marginTop","marginLeft","marginRight"),WE("marginTop"),WE("marginLeft"),WE("marginRight"),WE("marginBottom"),WE("marginLeft","marginRight"),WE("marginTop","marginBottom"),WE("paddingBottom","paddingTop","paddingLeft","paddingRight"),WE("paddingTop"),WE("paddingLeft"),WE("paddingRight"),WE("paddingBottom"),WE("paddingLeft","paddingRight"),WE("paddingTop","paddingBottom"),WE("borderOpacity"),WE("borderColor"),WE("borderBottom","borderTop","borderLeft","borderRight"),WE("borderTop"),WE("borderLeft"),WE("borderRight"),WE("borderBottom"),WE("borderLeft","borderRight"),WE("borderTop","borderBottom"),WE("borderRadiusBottomLeft","borderRadiusBottomRight","borderRadiusTopLeft","borderRadiusTopRight"),WE("borderRadiusTopLeft","borderRadiusBottomLeft"),WE("borderRadiusTopRight","borderRadiusBottomRight"),WE("borderRadiusTopLeft","borderRadiusTopRight"),WE("borderRadiusBottomLeft","borderRadiusBottomRight"),WE("borderRadiusTopLeft"),WE("borderRadiusTopRight"),WE("borderRadiusBottomLeft"),WE("borderRadiusBottomRight"),WE("width"),WE("height"),WE("maxWidth"),WE("maxHeight"),WE("minWidth"),WE("minHeight"),WE("positionTop"),WE("positionBottom"),WE("positionLeft"),WE("positionRight"),WE("flexDirection"),WE("alignItems"),WE("alignContent"),WE("alignSelf"),WE("justifyContent"),WE("flexGrow"),WE("flexShrink"),WE("flexBasis"),WE("flexWrap"),WE("backgroundColor"),WE("backgroundOpacity"),VE("position","absolute"),VE("position","relative"),VE("backgroundOpacity",0),WE("translateX"),WE("translateY"),WE("translateZ"),WE("scaleX"),WE("scaleY"),WE("scaleZ");function WE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>{if(null!=n)for(const r of t)e[r]=n}}function VE(e,t){return(n,r)=>{r&&(n[e]=t)}}function JE(e){const t={};for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const a of r)for(const[n,r]of Object.entries(a)){var s;null!=e[n]?null===(s=e[n])||void 0===s||s.call(e,t,r,n):t[n]=null!==r&&void 0!==r?r:t[n]}return t}const KE=(0,r.createContext)(null),qE=KE.Provider;const jE=(0,r.createContext)(null),XE=(0,r.createContext)(null),ZE=r.useContext.bind(null,XE);const $E=Symbol("loadYoga"),eB={left:0,center:-.5,right:-1},tB={top:0,center:.5,bottom:1};function nB(e,t,n){return(0,r.forwardRef)(((i,s)=>{let{loadYoga:a=bE,precision:o=.1,id:l="root",anchorX:A="center",anchorY:c="center",position:u,rotation:h,pixelSize:d=.002,sizeX:g,sizeY:p,children:f,classes:m,dragThreshold:C=16,...I}=i;I.width=null==g?void 0:g/d,I.height=null==p?void 0:p/d;const v=Tf(a,[a,$E]),E=(0,r.useRef)(!1),B=Np((e=>{let{gl:t}=e;return t})),y=(0,r.useMemo)((()=>({yoga:v,nodeMap:new Map,bucket:new Tv,precision:o,requestLayoutCalculation:()=>E.current=!0})),[o,v]);y.bucket.pixelDragThresholdSquared=C*C;const w=ZE(),b=JE(n,I,null!==w&&void 0!==w?w:{},...null!==m&&void 0!==m?m:[]),x=zE(y,void 0,void 0,l,e,s),S=t(x,b,f);return Lp(((e,t)=>{Fy.setFromMatrixPosition(e.camera.matrixWorld),E.current&&(x.calculateLayout(),E.current=!1),x.update(t),y.bucket.screenSpaceZ=void 0;const n=x.current;null!=n&&(y.bucket.position.x=n.scale.x*eB[A],y.bucket.position.y=n.scale.y*tB[c])})),(0,r.useEffect)((()=>function(e){e.setTransparentSort(Hy)}(B)),[B]),(0,r.useEffect)((()=>{x.setParent(void 0)&&y.requestLayoutCalculation()})),r.createElement(r.Fragment,null,r.createElement(jE.Provider,{value:y},r.createElement(qE,{value:x},S)),r.createElement("group",{position:u,scale:d,rotation:h,...rB},r.createElement("primitive",{object:y.bucket})))}))}const rB={onClick:iB,onContextMenu:iB,onDoubleClick:iB,onPointerLeave:iB,onPointerUp:iB,onPointerOver:iB,onPointerEnter:iB,onPointerDown:iB,onPointerCancel:iB,onPointerOut:iB};function iB(){}function sB(e,t,n){return(0,r.forwardRef)(((i,s)=>{let{id:a,index:o,children:l,classes:A,...c}=i;const u=ZE(),h=JE(n,null!==u&&void 0!==u?u:{},...null!==A&&void 0!==A?A:[],c),d=(0,r.useContext)(jE),g=function(){const e=(0,r.useContext)(KE);if(null==e)throw"unable to find flex context. Missing a BaseNodeContextProvider.";return e}(),p=zE(d,g.id,o,a,e,s),f=t(p,h,l);return(0,r.useEffect)((()=>{(p.setParent(g)||p.index!=o)&&(p.index=null!==o&&void 0!==o?o:0,d.requestLayoutCalculation())})),(0,r.useEffect)((()=>()=>{p.destroy(),d.requestLayoutCalculation()}),[p]),null==l?null:r.createElement(qE,{value:p},f)}))}function aB(e,t,n){"__r3f"in e?e.__r3f.handlers=t:e.__r3f={root:n,eventCount:1,handlers:t}}const oB=new Ia;oB.translate(.5,-.5,.5);const lB=oB.getAttribute("position"),AB=new Float32Array(4*lB.array.length/lB.itemSize),cB=[1,0,0,1];for(let n=0;n<AB.length;n++)AB[n]=cB[n%4];oB.setAttribute("tangent",new gs(AB,4));class uB extends OE{constructor(){super(...arguments),zm(this,"target",{backgroundColor:new Ur,backgroundOpacity:new _E,translate:new Ur,scale:new Ur,borderColor:new Ur,borderOpacity:new _E,borderRadius:new Mr,borderSize:new Mr,borderBend:new _E}),zm(this,"backgroundMaterial",void 0),zm(this,"backgroundMesh",new js(oB))}applyClippingPlanes(e){null!=this.backgroundMaterial&&(this.backgroundMaterial.clippingPlanes=e,this.backgroundMaterial.needsUpdate=!0)}setBackgroundMaterialClass(e){var t;if(this.backgroundMaterial instanceof e)return;const n=new e({transparent:!0,toneMapped:!1});this.backgroundMesh.material=n,null===(t=this.backgroundMaterial)||void 0===t||t.dispose(),this.backgroundMaterial=n,null!=this.current&&(this.linkCurrent(this.current),this.applyClippingPlanes(this.clippingPlanes))}linkCurrent(e){null!=this.backgroundMaterial&&Gv(e,this.backgroundMesh,this.backgroundMaterial)}onInit(){aB(this.backgroundMesh,this,this.root),this.bucket.add(this.backgroundMesh)}onLayout(){}onUpdate(e){null!=this.backgroundMaterial&&Hv(e,this.backgroundMesh,this.backgroundMaterial)}onCleanup(){this.bucket.remove(this.backgroundMesh)}}const hB=new ns,dB=(gB=as,class extends gB{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];super({...pB,...t[0]},...t.slice(1)),zm(this,"shader",void 0),zm(this,"borderRadius",new Mr(0,0,0,0)),zm(this,"borderColor",new Ur(0,0,0)),zm(this,"borderSize",new Mr(0,0,0,0)),zm(this,"_borderOpacity",1),zm(this,"_ratio",1),zm(this,"_borderBend",.5),null==this.defines&&(this.defines={}),this.defines.USE_UV="",this.defines.USE_TANGENT=""}set borderBend(e){this._borderBend=e,null!=this.shader&&(this.shader.uniforms.borderBend.value=e)}get borderBend(){return this._borderBend}set borderOpacity(e){this._borderOpacity=e,null!=this.shader&&(this.shader.uniforms.borderOpacity.value=e)}get borderOpacity(){return this._borderOpacity}set ratio(e){this._ratio=e,null!=this.shader&&(this.shader.uniforms.ratio.value=e)}get ratio(){return this._ratio}onBeforeCompile(e,t){super.onBeforeCompile(e,t),this.shader=e,function(e,t,n,r,i,s,a){e.uniforms.borderRadius={value:t},e.uniforms.borderColor={value:n},e.uniforms.borderOpacity={value:r},e.uniforms.borderSize={value:i},e.uniforms.ratio={value:s},e.uniforms.borderBend={value:a},e.fragmentShader="uniform float ratio;\n              uniform float borderOpacity;\n              uniform vec3 borderColor;\n              uniform vec4 borderSize;\n              uniform float borderBend;\n          uniform vec4 borderRadius;\n          float min4 (vec4 v) {\n              return min(min(min(v.x,v.y),v.z),v.w);\n          }\n          float max4 (vec4 v) {\n              return max(max(max(v.x,v.y),v.z),v.w);\n          }\n          vec2 radiusDistance(float radius, vec2 outside, vec2 border, vec2 borderSize) {\n              vec2 outerRadiusXX = vec2(radius, radius);\n              vec2 innerRadiusXX = outerRadiusXX - borderSize;\n              vec2 radiusWeightUnnormalized = abs(innerRadiusXX - border);\n              vec2 radiusWeight = radiusWeightUnnormalized / vec2(radiusWeightUnnormalized.x + radiusWeightUnnormalized.y);\n              return vec2(\n                  radius - distance(outside, outerRadiusXX),\n                  dot(radiusWeight, innerRadiusXX) - distance(border, innerRadiusXX)\n              );\n          }\n          "+e.fragmentShader,e.fragmentShader=e.fragmentShader.replace("#include <clipping_planes_fragment>","vec4 v_outsideDistance = vec4(1.0 - vUv.y, (1.0 - vUv.x) * ratio, vUv.y, vUv.x * ratio);\n      vec4 v_borderDistance = v_outsideDistance - borderSize;\n\n      vec2 dist = vec2(min4(v_outsideDistance), min4(v_borderDistance));\n      vec4 negateBorderDistance = vec4(1.0) - v_borderDistance;\n      float maxWeight = max4(negateBorderDistance);\n      vec4 borderWeight = step(maxWeight, negateBorderDistance);\n\n      vec4 insideBorder;\n\n      if(all(lessThan(v_outsideDistance.xw, borderRadius.xx))) {\n          dist = radiusDistance(borderRadius.x, v_outsideDistance.xw, v_borderDistance.xw, borderSize.xw);\n          \n          float tmp = borderRadius.x - borderSize.w;\n          vec2 xIntersection = vec2(tmp, tmp / ratio);\n          tmp = borderRadius.x - borderSize.x;\n          vec2 yIntersection = vec2(tmp * ratio, tmp);\n          vec2 lineIntersection = min(xIntersection, yIntersection);\n\n          insideBorder.yz = vec2(0.0);\n          insideBorder.xw = max(vec2(0.0), lineIntersection - v_borderDistance.xw);\n\n      } else if(all(lessThan(v_outsideDistance.xy, borderRadius.yy))) {\n          dist = radiusDistance(borderRadius.y, v_outsideDistance.xy, v_borderDistance.xy, borderSize.xy);\n\n          float tmp = borderRadius.y - borderSize.y;\n          vec2 xIntersection = vec2(tmp, tmp / ratio);\n          tmp = borderRadius.y - borderSize.x;\n          vec2 yIntersection = vec2(tmp * ratio, tmp);\n          vec2 lineIntersection = min(xIntersection, yIntersection);\n\n          insideBorder.zw = vec2(0.0);\n          insideBorder.xy = max(vec2(0.0), lineIntersection - v_borderDistance.xy);\n\n      } else if(all(lessThan(v_outsideDistance.zy, borderRadius.zz))) {\n          dist = radiusDistance(borderRadius.z, v_outsideDistance.zy, v_borderDistance.zy, borderSize.zy);\n\n          float tmp = borderRadius.z - borderSize.y;\n          vec2 xIntersection = vec2(tmp, tmp / ratio);\n          tmp = borderRadius.z - borderSize.z;\n          vec2 yIntersection = vec2(tmp * ratio, tmp);\n          vec2 lineIntersection = min(xIntersection, yIntersection);\n\n          insideBorder.xw = vec2(0.0);\n          insideBorder.zy =max(vec2(0.0), lineIntersection - v_borderDistance.zy);\n\n      } else if(all(lessThan(v_outsideDistance.zw, borderRadius.ww))) {\n          dist = radiusDistance(borderRadius.w, v_outsideDistance.zw, v_borderDistance.zw, borderSize.zw);\n\n          float tmp = borderRadius.w - borderSize.w;\n          vec2 xIntersection = vec2(tmp, tmp / ratio);\n          tmp = borderRadius.w - borderSize.z;\n          vec2 yIntersection = vec2(tmp * ratio, tmp);\n          vec2 lineIntersection = min(xIntersection, yIntersection);\n\n          insideBorder.xy = vec2(0.0);\n          insideBorder.zw = max(vec2(0.0), lineIntersection - v_borderDistance.zw);\n\n      }\n\n      if(insideBorder.x + insideBorder.y + insideBorder.z + insideBorder.w > 0.0) {\n        borderWeight = normalize(insideBorder);\n      }\n\n      #include <clipping_planes_fragment>"),e.fragmentShader=e.fragmentShader.replace("#include <normal_fragment_maps>","#include <normal_fragment_maps>\n      vec3 b = normalize(vBitangent);\n      vec3 t = normalize(vTangent);\n      mat4 directions = mat4(vec4(b, 1.0), vec4(t, 1.0), vec4(-b, 1.0), vec4(-t, 1.0));\n      float borderSize = dist.x - dist.y;\n      float outsideNormalWeight = borderSize < 0.00001 ? 0.0 : max(0.0, -dist.y / borderSize) * borderBend;\n      vec3 outsideNormal = (borderWeight * transpose(directions)).xyz;\n      normal = normalize(outsideNormalWeight * outsideNormal + (1.0 - outsideNormalWeight) * normal);\n  "),e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>","#include <color_fragment>\n              \n    float ddx = fwidth(dist.x);\n    float outer = smoothstep(-ddx, ddx, dist.x);\n\n    float ddy = fwidth(dist.y);\n    float inner = smoothstep(-ddy, ddy, dist.y);\n\n    float transition = 1.0 - step(0.1, outer - inner) * (1.0 - inner);\n\n    diffuseColor.rgb = mix(borderColor, diffuseColor.rgb, transition);\n\n    diffuseColor.a = outer * mix(borderOpacity, diffuseColor.a, transition);\n    \n          ")}(e,this.borderRadius,this.borderColor,this._borderOpacity,this.borderSize,this._ratio,this._borderBend)}});var gB,pB;const fB={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,backgroundColor:16777215,backgroundOpacity:1,borderOpacity:1,borderColor:0,borderRadiusTopLeft:0,borderRadiusTopRight:0,borderRadiusBottomRight:0,borderRadiusBottomLeft:0,borderBend:0,animation:kE,material:dB};function mB(e,t){let{backgroundColor:n,backgroundOpacity:r,borderRadiusBottomLeft:i,borderRadiusBottomRight:s,borderRadiusTopLeft:a,borderRadiusTopRight:o,borderColor:l,borderOpacity:A,translateX:c,translateY:u,translateZ:h,scaleX:d,scaleY:g,scaleZ:p,animation:f,borderBend:m}=t;e.setManualTransformation(null!==c&&void 0!==c?c:fB.translateX,null!==u&&void 0!==u?u:fB.translateY,null!==h&&void 0!==h?h:fB.translateZ,null!==d&&void 0!==d?d:fB.scaleX,null!==g&&void 0!==g?g:fB.scaleY,null!==p&&void 0!==p?p:fB.scaleZ),hB.set(null!==n&&void 0!==n?n:fB.backgroundColor),e.target.backgroundColor.set(hB.r,hB.g,hB.b),hB.set(null!==l&&void 0!==l?l:fB.borderColor),e.target.borderColor.set(hB.r,hB.g,hB.b),e.target.backgroundOpacity.set(null!==r&&void 0!==r?r:null==n?0:fB.backgroundOpacity),e.target.borderOpacity.set(null!==A&&void 0!==A?A:null==l?0:fB.borderOpacity),e.target.borderBend.set(null!==m&&void 0!==m?m:fB.borderBend),e.target.borderRadius.set(null!==a&&void 0!==a?a:fB.borderRadiusTopLeft,null!==o&&void 0!==o?o:fB.borderRadiusTopRight,null!==s&&void 0!==s?s:fB.borderRadiusBottomRight,null!==i&&void 0!==i?i:fB.borderRadiusBottomLeft),e.animationConfig=null!==f&&void 0!==f?f:fB.animation}function CB(e,t){let{onClick:n,onContextMenu:r,onDoubleClick:i,onPointerCancel:s,onPointerDown:a,onPointerEnter:o,onPointerLeave:l,onPointerMove:A,onPointerOut:c,onPointerOver:u,onPointerUp:h,onWheel:d}=t;e.customEvents.onClick=n,e.customEvents.onContextMenu=r,e.customEvents.onDoubleClick=i,e.customEvents.onPointerCancel=s,e.customEvents.onPointerDown=a,e.customEvents.onPointerEnter=o,e.customEvents.onPointerLeave=l,e.customEvents.onPointerMove=A,e.customEvents.onPointerOut=c,e.customEvents.onPointerOver=u,e.customEvents.onPointerUp=h,e.customEvents.onWheel=d}function IB(e,t,n){return(0,r.useEffect)((()=>{var n;mB(e,t),e.setBackgroundMaterialClass(null!==(n=t.material)&&void 0!==n?n:fB.material),CB(e,t),e.setProperties(t)})),n}sB(uB,IB,YE);const vB=nB(uB,IB,YE),EB=new Ia;EB.translate(.5,-.5,0);const BB=EB.getAttribute("position"),yB=new Float32Array(4*BB.array.length/BB.itemSize),wB=[1,0,0,1];for(let n=0;n<yB.length;n++)yB[n]=wB[n%4];EB.setAttribute("tangent",new gs(yB,4));const bB=new Mr(.5,.5,.5,.5);class xB extends OE{constructor(){super(...arguments),zm(this,"target",{opacity:new _E,translate:new Ur,scale:new Ur,imageOffset:new sr,imageScale:new sr,backgroundColor:new Ur,backgroundOpacity:new _E,borderColor:new Ur,borderOpacity:new _E,borderRadius:new Mr,borderSize:new Mr,borderBend:new _E}),zm(this,"material",new dB({transparent:!0,toneMapped:!1})),zm(this,"mesh",new js(EB,this.material)),zm(this,"backgroundMaterial",void 0),zm(this,"backgroundMesh",new js(EB)),zm(this,"fit","fill")}applyClippingPlanes(e){null!=this.backgroundMaterial&&(this.backgroundMaterial.clippingPlanes=e,this.backgroundMaterial.needsUpdate=!0),this.material.clippingPlanes=e,this.material.needsUpdate=!0}linkCurrent(e){null!=this.backgroundMaterial&&Gv(e,this.backgroundMesh,this.backgroundMaterial)}setBackgroundMaterialClass(e){var t;if(this.backgroundMaterial instanceof e)return;const n=new e({transparent:!0,toneMapped:!1});this.backgroundMesh.material=n,null===(t=this.backgroundMaterial)||void 0===t||t.dispose(),this.backgroundMaterial=n,null!=this.current&&(this.linkCurrent(this.current),this.backgroundMaterial.clippingPlanes=this.clippingPlanes,this.backgroundMaterial.needsUpdate=!0)}setTexture(e){this.material.map!==e&&(this.material.map=e,this.material.needsUpdate=!0,this.computeImageTransformation())}setFit(e){this.fit!==e&&(this.fit=e,this.computeImageTransformation())}onInit(){this.bucket.add(this.mesh),this.bucket.add(this.backgroundMesh),aB(this.mesh,this,this.root)}onLayout(){this.computeImageTransformation()}computeImageTransformation(){const{x:e,y:t,z:n,w:r}=this.target.borderSize,i=r+t,s=e+n;this.target.imageScale.set(1-Lv(i,this.target.scale.x),1-Lv(s,this.target.scale.y)),this.target.imageOffset.set(Lv(r,this.target.scale.x),-Lv(e,this.target.scale.y));const a=Lv(this.target.scale.x-i,this.target.scale.y-s),o=this.material.map;if(null===o||void 0===o||o.matrix.identity(),"fill"===this.fit||null==o)return;const l=o.image.width/o.image.height;"cover"!==this.fit?l>a?(this.target.imageScale.y*=a/l,this.target.imageOffset.y-=.5*(l-a)/l):(this.target.imageScale.x*=l/a,this.target.imageOffset.x+=.5*(a-l)/a):l>a?o.matrix.translate(-.5*(a-l)/a,0).scale(a/l,1):o.matrix.translate(0,-.5*(l-a)/l).scale(1,l/a)}onUpdate(e){this.mesh.position.set(e.imageOffset.x,e.imageOffset.y,1).multiply(e.scale).add(e.translate),this.mesh.scale.set(e.imageScale.x,e.imageScale.y,1).multiply(e.scale),this.material.opacity=e.opacity.x,this.mesh.visible=e.opacity.x>.001,this.material.ratio=Lv(e.scale.x,e.scale.y),this.material.borderRadius.copy(e.borderRadius);const{x:t,y:n,z:r,w:i}=e.borderSize;this.material.borderRadius.x-=Math.max(t,i),this.material.borderRadius.y-=Math.max(t,n),this.material.borderRadius.z-=Math.max(r,n),this.material.borderRadius.w-=Math.max(r,i),Pv(this.material.borderRadius,e.scale.y).min(bB),null!=this.backgroundMaterial&&Hv(e,this.backgroundMesh,this.backgroundMaterial)}onCleanup(){this.bucket.remove(this.mesh)}}const SB="fill",QB=1;function MB(e,t,n){let{url:i,opacity:s,fit:a,material:o,...l}=t;const A=Up(zy.TextureLoader,i),c=Np((e=>e.gl));return(0,r.useEffect)((()=>{A.colorSpace=Xt,A.wrapS=A.wrapT=me,A.matrixAutoUpdate=!1,c.initTexture(A)}),[c,A]),(0,r.useEffect)((()=>{mB(e,l),CB(e,l),e.setBackgroundMaterialClass(null!==o&&void 0!==o?o:fB.material),e.target.opacity.set(null!==s&&void 0!==s?s:QB),e.setTexture(A),l.aspectRatio=A.image.width/A.image.height,e.setFit(null!==a&&void 0!==a?a:SB),e.computeImageTransformation(),e.setProperties(l)})),n}sB(xB,MB,YE),nB(xB,MB,YE);const _B=Xt;class DB extends Bh{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,t,n,r){const i=this,s=new bh(i.manager);s.setPath(i.path),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(e,(function(n){try{t(i.parse(n))}catch(s){r?r(s):console.error(s),i.manager.itemError(e)}}),n,r)}parse(e){const t=this;function n(e,t,n,i,s,a,o,l){if(0==t||0==n)return void e.lineTo(l.x,l.y);i=i*Math.PI/180,t=Math.abs(t),n=Math.abs(n);const A=(o.x-l.x)/2,c=(o.y-l.y)/2,u=Math.cos(i)*A+Math.sin(i)*c,h=-Math.sin(i)*A+Math.cos(i)*c;let d=t*t,g=n*n;const p=u*u,f=h*h,m=p/d+f/g;if(m>1){const e=Math.sqrt(m);d=(t*=e)*t,g=(n*=e)*n}const C=d*f+g*p,I=(d*g-C)/C;let v=Math.sqrt(Math.max(0,I));s===a&&(v=-v);const E=v*t*h/n,B=-v*n*u/t,y=Math.cos(i)*E-Math.sin(i)*B+(o.x+l.x)/2,w=Math.sin(i)*E+Math.cos(i)*B+(o.y+l.y)/2,b=r(1,0,(u-E)/t,(h-B)/n),x=r((u-E)/t,(h-B)/n,(-u-E)/t,(-h-B)/n)%(2*Math.PI);e.currentPath.absellipse(y,w,t,n,b,b+x,0===a,i)}function r(e,t,n,r){const i=e*n+t*r,s=Math.sqrt(e*e+t*t)*Math.sqrt(n*n+r*r);let a=Math.acos(Math.max(-1,Math.min(1,i/s)));return e*r-t*n<0&&(a=-a),a}function i(e,t){t=Object.assign({},t);let n={};if(e.hasAttribute("class")){const t=e.getAttribute("class").split(/\s/).filter(Boolean).map((e=>e.trim()));for(let e=0;e<t.length;e++)n=Object.assign(n,p["."+t[e]])}function r(r,i,s){void 0===s&&(s=function(e){return e.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),e}),e.hasAttribute(r)&&(t[i]=s(e.getAttribute(r))),n[r]&&(t[i]=s(n[r])),e.style&&""!==e.style[r]&&(t[i]=s(e.style[r]))}function i(e){return Math.max(0,Math.min(1,A(e)))}function s(e){return Math.max(0,A(e))}return e.hasAttribute("id")&&(n=Object.assign(n,p["#"+e.getAttribute("id")])),r("fill","fill"),r("fill-opacity","fillOpacity",i),r("fill-rule","fillRule"),r("opacity","opacity",i),r("stroke","stroke"),r("stroke-opacity","strokeOpacity",i),r("stroke-width","strokeWidth",s),r("stroke-linejoin","strokeLineJoin"),r("stroke-linecap","strokeLineCap"),r("stroke-miterlimit","strokeMiterLimit",s),r("visibility","visibility"),t}function s(e,t){return e-(t-e)}function a(e,t,n){if("string"!==typeof e)throw new TypeError("Invalid input: "+typeof e);const r={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/};let i=0,s=!0,a="",o="";const l=[];function A(e,t,n){const r=new SyntaxError('Unexpected character "'+e+'" at index '+t+".");throw r.partial=n,r}function c(){""!==a&&(""===o?l.push(Number(a)):l.push(Number(a)*Math.pow(10,Number(o)))),a="",o=""}let u;const h=e.length;for(let d=0;d<h;d++)if(u=e[d],Array.isArray(t)&&t.includes(l.length%n)&&r.FLAGS.test(u))i=1,a=u,c();else{if(0===i){if(r.WHITESPACE.test(u))continue;if(r.DIGIT.test(u)||r.SIGN.test(u)){i=1,a=u;continue}if(r.POINT.test(u)){i=2,a=u;continue}r.COMMA.test(u)&&(s&&A(u,d,l),s=!0)}if(1===i){if(r.DIGIT.test(u)){a+=u;continue}if(r.POINT.test(u)){a+=u,i=2;continue}if(r.EXP.test(u)){i=3;continue}r.SIGN.test(u)&&1===a.length&&r.SIGN.test(a[0])&&A(u,d,l)}if(2===i){if(r.DIGIT.test(u)){a+=u;continue}if(r.EXP.test(u)){i=3;continue}r.POINT.test(u)&&"."===a[a.length-1]&&A(u,d,l)}if(3===i){if(r.DIGIT.test(u)){o+=u;continue}if(r.SIGN.test(u)){if(""===o){o+=u;continue}1===o.length&&r.SIGN.test(o)&&A(u,d,l)}}r.WHITESPACE.test(u)?(c(),i=0,s=!1):r.COMMA.test(u)?(c(),i=0,s=!0):r.SIGN.test(u)?(c(),i=1,a=u):r.POINT.test(u)?(c(),i=2,a=u):A(u,d,l)}return c(),l}const o=["mm","cm","in","pt","pc","px"],l={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function A(e){let n,r="px";if("string"===typeof e||e instanceof String)for(let t=0,i=o.length;t<i;t++){const n=o[t];if(e.endsWith(n)){r=n,e=e.substring(0,e.length-n.length);break}}return"px"===r&&"px"!==t.defaultUnit?n=l.in[t.defaultUnit]/t.defaultDPI:(n=l[r][t.defaultUnit],n<0&&(n=l[r].in*t.defaultDPI)),n*parseFloat(e)}function c(e){const t=e.elements;return t[0]*t[4]-t[1]*t[3]<0}function u(e){const t=e.elements,n=t[0]*t[3]+t[1]*t[4];if(0===n)return!1;const r=h(e),i=d(e);return Math.abs(n/(r*i))>Number.EPSILON}function h(e){const t=e.elements;return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function d(e){const t=e.elements;return Math.sqrt(t[3]*t[3]+t[4]*t[4])}const g=[],p={},f=[],m=new ar,C=new ar,I=new ar,v=new ar,E=new sr,B=new Ur,y=new ar,w=(new DOMParser).parseFromString(e,"image/svg+xml");!function e(t,r){if(1!==t.nodeType)return;const o=function(e){if(!(e.hasAttribute("transform")||"use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))))return null;const t=function(e){const t=new ar,n=m;if("use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))){const n=A(e.getAttribute("x")),r=A(e.getAttribute("y"));t.translate(n,r)}if(e.hasAttribute("transform")){const r=e.getAttribute("transform").split(")");for(let e=r.length-1;e>=0;e--){const i=r[e].trim();if(""===i)continue;const s=i.indexOf("("),o=i.length;if(s>0&&s<o){const e=i.slice(0,s),t=a(i.slice(s+1));switch(n.identity(),e){case"translate":if(t.length>=1){const e=t[0];let r=0;t.length>=2&&(r=t[1]),n.translate(e,r)}break;case"rotate":if(t.length>=1){let e=0,r=0,i=0;e=t[0]*Math.PI/180,t.length>=3&&(r=t[1],i=t[2]),C.makeTranslation(-r,-i),I.makeRotation(e),v.multiplyMatrices(I,C),C.makeTranslation(r,i),n.multiplyMatrices(C,v)}break;case"scale":if(t.length>=1){const e=t[0];let r=e;t.length>=2&&(r=t[1]),n.scale(e,r)}break;case"skewX":1===t.length&&n.set(1,Math.tan(t[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===t.length&&n.set(1,0,0,Math.tan(t[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===t.length&&n.set(t[0],t[2],t[4],t[1],t[3],t[5],0,0,1)}}t.premultiply(n)}}return t}(e);f.length>0&&t.premultiply(f[f.length-1]);return y.copy(t),f.push(t),t}(t);let l=!1,w=null;switch(t.nodeName){case"svg":case"g":r=i(t,r);break;case"style":!function(e){if(!e.sheet||!e.sheet.cssRules||!e.sheet.cssRules.length)return;for(let t=0;t<e.sheet.cssRules.length;t++){const n=e.sheet.cssRules[t];if(1!==n.type)continue;const r=n.selectorText.split(/,/gm).filter(Boolean).map((e=>e.trim()));for(let e=0;e<r.length;e++){const t=Object.fromEntries(Object.entries(n.style).filter((e=>{let[,t]=e;return""!==t})));p[r[e]]=Object.assign(p[r[e]]||{},t)}}}(t);break;case"path":r=i(t,r),t.hasAttribute("d")&&(w=function(e){const t=new Dg,r=new sr,i=new sr,o=new sr;let l=!0,A=!1;const c=e.getAttribute("d");if(""===c||"none"===c)return null;const u=c.match(/[a-df-z][^a-df-z]*/gi);for(let h=0,d=u.length;h<d;h++){const e=u[h],c=e.charAt(0),d=e.slice(1).trim();let g;switch(!0===l&&(A=!0,l=!1),c){case"M":g=a(d);for(let e=0,n=g.length;e<n;e+=2)r.x=g[e+0],r.y=g[e+1],i.x=r.x,i.y=r.y,0===e?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y),0===e&&o.copy(r);break;case"H":g=a(d);for(let e=0,n=g.length;e<n;e++)r.x=g[e],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===A&&o.copy(r);break;case"V":g=a(d);for(let e=0,n=g.length;e<n;e++)r.y=g[e],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===A&&o.copy(r);break;case"L":g=a(d);for(let e=0,n=g.length;e<n;e+=2)r.x=g[e+0],r.y=g[e+1],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===A&&o.copy(r);break;case"C":g=a(d);for(let e=0,n=g.length;e<n;e+=6)t.bezierCurveTo(g[e+0],g[e+1],g[e+2],g[e+3],g[e+4],g[e+5]),i.x=g[e+2],i.y=g[e+3],r.x=g[e+4],r.y=g[e+5],0===e&&!0===A&&o.copy(r);break;case"S":g=a(d);for(let e=0,n=g.length;e<n;e+=4)t.bezierCurveTo(s(r.x,i.x),s(r.y,i.y),g[e+0],g[e+1],g[e+2],g[e+3]),i.x=g[e+0],i.y=g[e+1],r.x=g[e+2],r.y=g[e+3],0===e&&!0===A&&o.copy(r);break;case"Q":g=a(d);for(let e=0,n=g.length;e<n;e+=4)t.quadraticCurveTo(g[e+0],g[e+1],g[e+2],g[e+3]),i.x=g[e+0],i.y=g[e+1],r.x=g[e+2],r.y=g[e+3],0===e&&!0===A&&o.copy(r);break;case"T":g=a(d);for(let e=0,n=g.length;e<n;e+=2){const n=s(r.x,i.x),a=s(r.y,i.y);t.quadraticCurveTo(n,a,g[e+0],g[e+1]),i.x=n,i.y=a,r.x=g[e+0],r.y=g[e+1],0===e&&!0===A&&o.copy(r)}break;case"A":g=a(d,[3,4],7);for(let e=0,s=g.length;e<s;e+=7){if(g[e+5]==r.x&&g[e+6]==r.y)continue;const s=r.clone();r.x=g[e+5],r.y=g[e+6],i.x=r.x,i.y=r.y,n(t,g[e],g[e+1],g[e+2],g[e+3],g[e+4],s,r),0===e&&!0===A&&o.copy(r)}break;case"m":g=a(d);for(let e=0,n=g.length;e<n;e+=2)r.x+=g[e+0],r.y+=g[e+1],i.x=r.x,i.y=r.y,0===e?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y),0===e&&o.copy(r);break;case"h":g=a(d);for(let e=0,n=g.length;e<n;e++)r.x+=g[e],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===A&&o.copy(r);break;case"v":g=a(d);for(let e=0,n=g.length;e<n;e++)r.y+=g[e],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===A&&o.copy(r);break;case"l":g=a(d);for(let e=0,n=g.length;e<n;e+=2)r.x+=g[e+0],r.y+=g[e+1],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===A&&o.copy(r);break;case"c":g=a(d);for(let e=0,n=g.length;e<n;e+=6)t.bezierCurveTo(r.x+g[e+0],r.y+g[e+1],r.x+g[e+2],r.y+g[e+3],r.x+g[e+4],r.y+g[e+5]),i.x=r.x+g[e+2],i.y=r.y+g[e+3],r.x+=g[e+4],r.y+=g[e+5],0===e&&!0===A&&o.copy(r);break;case"s":g=a(d);for(let e=0,n=g.length;e<n;e+=4)t.bezierCurveTo(s(r.x,i.x),s(r.y,i.y),r.x+g[e+0],r.y+g[e+1],r.x+g[e+2],r.y+g[e+3]),i.x=r.x+g[e+0],i.y=r.y+g[e+1],r.x+=g[e+2],r.y+=g[e+3],0===e&&!0===A&&o.copy(r);break;case"q":g=a(d);for(let e=0,n=g.length;e<n;e+=4)t.quadraticCurveTo(r.x+g[e+0],r.y+g[e+1],r.x+g[e+2],r.y+g[e+3]),i.x=r.x+g[e+0],i.y=r.y+g[e+1],r.x+=g[e+2],r.y+=g[e+3],0===e&&!0===A&&o.copy(r);break;case"t":g=a(d);for(let e=0,n=g.length;e<n;e+=2){const n=s(r.x,i.x),a=s(r.y,i.y);t.quadraticCurveTo(n,a,r.x+g[e+0],r.y+g[e+1]),i.x=n,i.y=a,r.x=r.x+g[e+0],r.y=r.y+g[e+1],0===e&&!0===A&&o.copy(r)}break;case"a":g=a(d,[3,4],7);for(let e=0,s=g.length;e<s;e+=7){if(0==g[e+5]&&0==g[e+6])continue;const s=r.clone();r.x+=g[e+5],r.y+=g[e+6],i.x=r.x,i.y=r.y,n(t,g[e],g[e+1],g[e+2],g[e+3],g[e+4],s,r),0===e&&!0===A&&o.copy(r)}break;case"Z":case"z":t.currentPath.autoClose=!0,t.currentPath.curves.length>0&&(r.copy(o),t.currentPath.currentPoint.copy(r),l=!0);break;default:console.warn(e)}A=!1}return t}(t));break;case"rect":r=i(t,r),w=function(e){const t=A(e.getAttribute("x")||0),n=A(e.getAttribute("y")||0),r=A(e.getAttribute("rx")||e.getAttribute("ry")||0),i=A(e.getAttribute("ry")||e.getAttribute("rx")||0),s=A(e.getAttribute("width")),a=A(e.getAttribute("height")),o=.448084975506,l=new Dg;l.moveTo(t+r,n),l.lineTo(t+s-r,n),(0!==r||0!==i)&&l.bezierCurveTo(t+s-r*o,n,t+s,n+i*o,t+s,n+i);l.lineTo(t+s,n+a-i),(0!==r||0!==i)&&l.bezierCurveTo(t+s,n+a-i*o,t+s-r*o,n+a,t+s-r,n+a);l.lineTo(t+r,n+a),(0!==r||0!==i)&&l.bezierCurveTo(t+r*o,n+a,t,n+a-i*o,t,n+a-i);l.lineTo(t,n+i),(0!==r||0!==i)&&l.bezierCurveTo(t,n+i*o,t+r*o,n,t+r,n);return l}(t);break;case"polygon":r=i(t,r),w=function(e){function t(e,t,n){const s=A(t),a=A(n);0===i?r.moveTo(s,a):r.lineTo(s,a),i++}const n=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,r=new Dg;let i=0;return e.getAttribute("points").replace(n,t),r.currentPath.autoClose=!0,r}(t);break;case"polyline":r=i(t,r),w=function(e){function t(e,t,n){const s=A(t),a=A(n);0===i?r.moveTo(s,a):r.lineTo(s,a),i++}const n=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,r=new Dg;let i=0;return e.getAttribute("points").replace(n,t),r.currentPath.autoClose=!1,r}(t);break;case"circle":r=i(t,r),w=function(e){const t=A(e.getAttribute("cx")||0),n=A(e.getAttribute("cy")||0),r=A(e.getAttribute("r")||0),i=new Hc;i.absarc(t,n,r,0,2*Math.PI);const s=new Dg;return s.subPaths.push(i),s}(t);break;case"ellipse":r=i(t,r),w=function(e){const t=A(e.getAttribute("cx")||0),n=A(e.getAttribute("cy")||0),r=A(e.getAttribute("rx")||0),i=A(e.getAttribute("ry")||0),s=new Hc;s.absellipse(t,n,r,i,0,2*Math.PI);const a=new Dg;return a.subPaths.push(s),a}(t);break;case"line":r=i(t,r),w=function(e){const t=A(e.getAttribute("x1")||0),n=A(e.getAttribute("y1")||0),r=A(e.getAttribute("x2")||0),i=A(e.getAttribute("y2")||0),s=new Dg;return s.moveTo(t,n),s.lineTo(r,i),s.currentPath.autoClose=!1,s}(t);break;case"defs":l=!0;break;case"use":r=i(t,r);const o=(t.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),c=t.viewportElement.getElementById(o);c?e(c,r):console.warn("SVGLoader: 'use node' references non-existent node id: "+o)}w&&(void 0!==r.fill&&"none"!==r.fill&&w.color.setStyle(r.fill,_B),function(e,t){function n(e){B.set(e.x,e.y,1).applyMatrix3(t),e.set(B.x,B.y)}function r(e){const n=e.xRadius,r=e.yRadius,i=Math.cos(e.aRotation),s=Math.sin(e.aRotation),a=new Ur(n*i,n*s,0),o=new Ur(-r*s,r*i,0),l=a.applyMatrix3(t),A=o.applyMatrix3(t),u=m.set(l.x,A.x,0,l.y,A.y,0,0,0,1),h=C.copy(u).invert(),d=I.copy(h).transpose().multiply(h).elements,g=function(e,t,n){let r,i,s,a,o;const l=e+n,A=e-n,c=Math.sqrt(A*A+4*t*t);l>0?(r=.5*(l+c),o=1/r,i=e*o*n-t*o*t):l<0?i=.5*(l-c):(r=.5*c,i=-.5*c);s=A>0?A+c:A-c;Math.abs(s)>2*Math.abs(t)?(o=-2*t/s,a=1/Math.sqrt(1+o*o),s=o*a):0===Math.abs(t)?(s=1,a=0):(o=-.5*s/t,s=1/Math.sqrt(1+o*o),a=o*s);A>0&&(o=s,s=-a,a=o);return{rt1:r,rt2:i,cs:s,sn:a}}(d[0],d[1],d[4]),p=Math.sqrt(g.rt1),f=Math.sqrt(g.rt2);e.xRadius=1/p,e.yRadius=1/f,e.aRotation=Math.atan2(g.sn,g.cs);if(!((e.aEndAngle-e.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const n=C.set(p,0,0,0,f,0,0,0,1),r=I.set(g.cs,g.sn,0,-g.sn,g.cs,0,0,0,1),i=n.multiply(r).multiply(u),s=e=>{const{x:t,y:n}=new Ur(Math.cos(e),Math.sin(e),0).applyMatrix3(i);return Math.atan2(n,t)};e.aStartAngle=s(e.aStartAngle),e.aEndAngle=s(e.aEndAngle),c(t)&&(e.aClockwise=!e.aClockwise)}}function i(e){const n=h(t),r=d(t);e.xRadius*=n,e.yRadius*=r;const i=n>Number.EPSILON?Math.atan2(t.elements[1],t.elements[0]):Math.atan2(-t.elements[3],t.elements[4]);e.aRotation+=i,c(t)&&(e.aStartAngle*=-1,e.aEndAngle*=-1,e.aClockwise=!e.aClockwise)}const s=e.subPaths;for(let a=0,o=s.length;a<o;a++){const e=s[a].curves;for(let s=0;s<e.length;s++){const a=e[s];a.isLineCurve?(n(a.v1),n(a.v2)):a.isCubicBezierCurve?(n(a.v0),n(a.v1),n(a.v2),n(a.v3)):a.isQuadraticBezierCurve?(n(a.v0),n(a.v1),n(a.v2)):a.isEllipseCurve&&(E.set(a.aX,a.aY),n(E),a.aX=E.x,a.aY=E.y,u(t)?r(a):i(a))}}}(w,y),g.push(w),w.userData={node:t,style:r});const b=t.childNodes;for(let n=0;n<b.length;n++){const t=b[n];l&&"style"!==t.nodeName&&"defs"!==t.nodeName||e(t,r)}o&&(f.pop(),f.length>0?y.copy(f[f.length-1]):y.identity())}(w.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4});return{paths:g,xml:w.documentElement}}static createShapes(e){const t=999999999,n=0,r=1,i=2,s=3,a=4,o=5,l=6,A={loc:n,t:0};function c(e,t,r,s){const a=e.x,o=t.x,l=r.x,c=s.x,h=e.y,d=t.y,g=r.y,p=s.y,f=(c-l)*(h-g)-(p-g)*(a-l),m=(p-g)*(o-a)-(c-l)*(d-h),C=f/m,I=((o-a)*(h-g)-(d-h)*(a-l))/m;if(0===m&&0!==f||C<=0||C>=1||I<0||I>1)return null;if(0===f&&0===m){for(let l=0;l<2;l++){if(u(0===l?r:s,e,t),A.loc==n){const e=0===l?r:s;return{x:e.x,y:e.y,t:A.t}}if(A.loc==i){return{x:+(a+A.t*(o-a)).toPrecision(10),y:+(h+A.t*(d-h)).toPrecision(10),t:A.t}}}return null}for(let i=0;i<2;i++)if(u(0===i?r:s,e,t),A.loc==n){const e=0===i?r:s;return{x:e.x,y:e.y,t:A.t}}return{x:+(a+C*(o-a)).toPrecision(10),y:+(h+C*(d-h)).toPrecision(10),t:C}}function u(e,t,c){const u=c.x-t.x,h=c.y-t.y,d=e.x-t.x,g=e.y-t.y,p=u*g-d*h;if(e.x===t.x&&e.y===t.y)return A.loc=n,void(A.t=0);if(e.x===c.x&&e.y===c.y)return A.loc=r,void(A.t=1);if(p<-Number.EPSILON)return void(A.loc=s);if(p>Number.EPSILON)return void(A.loc=a);if(u*d<0||h*g<0)return void(A.loc=o);if(Math.sqrt(u*u+h*h)<Math.sqrt(d*d+g*g))return void(A.loc=l);let f;f=0!==u?d/u:g/h,A.loc=i,A.t=f}function h(e,t,n){const r=new sr;t.getCenter(r);const i=[];return n.forEach((t=>{if(t.boundingBox.containsPoint(r)){const n=function(e,t){const n=[],r=[];for(let i=1;i<e.length;i++){const s=e[i-1],a=e[i];for(let e=1;e<t.length;e++){const i=c(s,a,t[e-1],t[e]);null!==i&&void 0===n.find((e=>e.t<=i.t+Number.EPSILON&&e.t>=i.t-Number.EPSILON))&&(n.push(i),r.push(new sr(i.x,i.y)))}}return r}(e,t.points);n.forEach((e=>{i.push({identifier:t.identifier,isCW:t.isCW,point:e})}))}})),i.sort(((e,t)=>e.point.x-t.point.x)),i}let d=t,g=-999999999,p=e.subPaths.map((e=>{const n=e.getPoints();let r=-999999999,i=t,s=-999999999,a=t;for(let t=0;t<n.length;t++){const e=n[t];e.y>r&&(r=e.y),e.y<i&&(i=e.y),e.x>s&&(s=e.x),e.x<a&&(a=e.x)}return g<=s&&(g=s+1),d>=a&&(d=a-1),{curves:e.curves,points:n,isCW:xu.isClockWise(n),identifier:-1,boundingBox:new jd(new sr(a,i),new sr(s,r))}}));p=p.filter((e=>e.points.length>1));for(let C=0;C<p.length;C++)p[C].identifier=C;const f=p.map((t=>function(e,t,n,r,i){null!==i&&void 0!==i&&""!==i||(i="nonzero");const s=new sr;e.boundingBox.getCenter(s);const a=h([new sr(n,s.y),new sr(r,s.y)],e.boundingBox,t);a.sort(((e,t)=>e.point.x-t.point.x));const o=[],l=[];a.forEach((t=>{t.identifier===e.identifier?o.push(t):l.push(t)}));const A=o[0].point.x,c=[];let u=0;for(;u<l.length&&l[u].point.x<A;)c.length>0&&c[c.length-1]===l[u].identifier?c.pop():c.push(l[u].identifier),u++;if(c.push(e.identifier),"evenodd"===i){const t=c.length%2===0,n=c[c.length-2];return{identifier:e.identifier,isHole:t,for:n}}if("nonzero"===i){let n=!0,r=null,i=null;for(let e=0;e<c.length;e++){const s=c[e];n?(i=t[s].isCW,n=!1,r=s):i!==t[s].isCW&&(i=t[s].isCW,n=!0)}return{identifier:e.identifier,isHole:n,for:r}}console.warn('fill-rule: "'+i+'" is currently not implemented.')}(t,p,d,g,e.userData?e.userData.style.fillRule:void 0))),m=[];return p.forEach((e=>{if(!f[e.identifier].isHole){const t=new eu;t.curves=e.curves;f.filter((t=>t.isHole&&t.for===e.identifier)).forEach((e=>{const n=p[e.identifier],r=new Hc;r.curves=n.curves,t.holes.push(r)})),m.push(t)}})),m}static getStrokeStyle(e,t,n,r,i){return{strokeColor:t=void 0!==t?t:"#000",strokeWidth:e=void 0!==e?e:1,strokeLineJoin:n=void 0!==n?n:"miter",strokeLineCap:r=void 0!==r?r:"butt",strokeMiterLimit:i=void 0!==i?i:4}}static pointsToStroke(e,t,n,r){const i=[],s=[],a=[];if(0===DB.pointsToStrokeWithBuffers(e,t,n,r,i,s,a))return null;const o=new Rs;return o.setAttribute("position",new ys(i,3)),o.setAttribute("normal",new ys(s,3)),o.setAttribute("uv",new ys(a,2)),o}static pointsToStrokeWithBuffers(e,t,n,r,i,s,a,o){const l=new sr,A=new sr,c=new sr,u=new sr,h=new sr,d=new sr,g=new sr,p=new sr,f=new sr,m=new sr,C=new sr,I=new sr,v=new sr,E=new sr,B=new sr,y=new sr,w=new sr;n=void 0!==n?n:12,r=void 0!==r?r:.001,o=void 0!==o?o:0,e=function(e){let t=!1;for(let i=1,s=e.length-1;i<s;i++)if(e[i].distanceTo(e[i+1])<r){t=!0;break}if(!t)return e;const n=[];n.push(e[0]);for(let i=1,s=e.length-1;i<s;i++)e[i].distanceTo(e[i+1])>=r&&n.push(e[i]);return n.push(e[e.length-1]),n}(e);const b=e.length;if(b<2)return 0;const x=e[0].equals(e[b-1]);let S,Q,M=e[0];const _=t.strokeWidth/2,D=1/(b-1);let R,T,N,L,P=0,F=!1,U=0,G=3*o,k=2*o;H(e[0],e[1],l).multiplyScalar(_),p.copy(e[0]).sub(l),f.copy(e[0]).add(l),m.copy(p),C.copy(f);for(let K=1;K<b;K++){S=e[K],Q=K===b-1?x?e[1]:void 0:e[K+1];const n=l;if(H(M,S,n),c.copy(n).multiplyScalar(_),I.copy(S).sub(c),v.copy(S).add(c),R=P+D,T=!1,void 0!==Q){H(S,Q,A),c.copy(A).multiplyScalar(_),E.copy(S).sub(c),B.copy(S).add(c),N=!0,c.subVectors(Q,M),n.dot(c)<0&&(N=!1),1===K&&(F=N),c.subVectors(Q,S),c.normalize();const e=Math.abs(n.dot(c));if(e>Number.EPSILON){const n=_/e;c.multiplyScalar(-n),u.subVectors(S,M),h.copy(u).setLength(n).add(c),y.copy(h).negate();const r=h.length(),i=u.length();u.divideScalar(i),d.subVectors(Q,S);const s=d.length();switch(d.divideScalar(s),u.dot(y)<i&&d.dot(y)<s&&(T=!0),w.copy(h).add(S),y.add(S),L=!1,T?N?(B.copy(y),v.copy(y)):(E.copy(y),I.copy(y)):Y(),t.strokeLineJoin){case"bevel":W(N,T,R);break;case"round":V(N,T),N?z(S,I,E,R,0):z(S,B,v,R,1);break;default:const e=_*t.strokeMiterLimit/r;if(e<1){if("miter-clip"!==t.strokeLineJoin){W(N,T,R);break}V(N,T),N?(d.subVectors(w,I).multiplyScalar(e).add(I),g.subVectors(w,E).multiplyScalar(e).add(E),O(I,R,0),O(d,R,0),O(S,R,.5),O(S,R,.5),O(d,R,0),O(g,R,0),O(S,R,.5),O(g,R,0),O(E,R,0)):(d.subVectors(w,v).multiplyScalar(e).add(v),g.subVectors(w,B).multiplyScalar(e).add(B),O(v,R,1),O(d,R,1),O(S,R,.5),O(S,R,.5),O(d,R,1),O(g,R,1),O(S,R,.5),O(g,R,1),O(B,R,1))}else T?(N?(O(f,P,1),O(p,P,0),O(w,R,0),O(f,P,1),O(w,R,0),O(y,R,1)):(O(f,P,1),O(p,P,0),O(w,R,1),O(p,P,0),O(y,R,0),O(w,R,1)),N?E.copy(w):B.copy(w)):N?(O(I,R,0),O(w,R,0),O(S,R,.5),O(S,R,.5),O(w,R,0),O(E,R,0)):(O(v,R,1),O(w,R,1),O(S,R,.5),O(S,R,.5),O(w,R,1),O(B,R,1)),L=!0}}else Y()}else Y();x||K!==b-1||J(e[0],m,C,N,!0,P),P=R,M=S,p.copy(E),f.copy(B)}if(x){if(T&&i){let e=w,t=y;F!==N&&(e=y,t=w),N?(L||F)&&(t.toArray(i,0),t.toArray(i,9),L&&e.toArray(i,3)):!L&&F||(t.toArray(i,3),t.toArray(i,9),L&&e.toArray(i,0))}}else J(S,I,v,N,!1,R);return U;function H(e,t,n){return n.subVectors(t,e),n.set(-n.y,n.x).normalize()}function O(e,t,n){i&&(i[G]=e.x,i[G+1]=e.y,i[G+2]=0,s&&(s[G]=0,s[G+1]=0,s[G+2]=1),G+=3,a&&(a[k]=t,a[k+1]=n,k+=2)),U+=3}function z(e,t,r,i,s){l.copy(t).sub(e).normalize(),A.copy(r).sub(e).normalize();let a=Math.PI;const o=l.dot(A);Math.abs(o)<1&&(a=Math.abs(Math.acos(o))),a/=n,c.copy(t);for(let l=0,A=n-1;l<A;l++)u.copy(c).rotateAround(e,a),O(c,i,s),O(u,i,s),O(e,i,.5),c.copy(u);O(u,i,s),O(r,i,s),O(e,i,.5)}function Y(){O(f,P,1),O(p,P,0),O(I,R,0),O(f,P,1),O(I,R,1),O(v,R,0)}function W(e,t,n){t?e?(O(f,P,1),O(p,P,0),O(I,R,0),O(f,P,1),O(I,R,0),O(y,R,1),O(I,n,0),O(E,n,0),O(y,n,.5)):(O(f,P,1),O(p,P,0),O(v,R,1),O(p,P,0),O(y,R,0),O(v,R,1),O(v,n,1),O(B,n,0),O(y,n,.5)):e?(O(I,n,0),O(E,n,0),O(S,n,.5)):(O(v,n,1),O(B,n,0),O(S,n,.5))}function V(e,t){t&&(e?(O(f,P,1),O(p,P,0),O(I,R,0),O(f,P,1),O(I,R,0),O(y,R,1),O(I,P,0),O(S,R,.5),O(y,R,1),O(S,R,.5),O(E,P,0),O(y,R,1)):(O(f,P,1),O(p,P,0),O(v,R,1),O(p,P,0),O(y,R,0),O(v,R,1),O(v,P,1),O(y,R,0),O(S,R,.5),O(S,R,.5),O(y,R,0),O(B,P,1)))}function J(e,n,r,s,a,o){switch(t.strokeLineCap){case"round":a?z(e,r,n,o,.5):z(e,n,r,o,.5);break;case"square":if(a)l.subVectors(n,e),A.set(l.y,-l.x),c.addVectors(l,A).add(e),u.subVectors(A,l).add(e),s?(c.toArray(i,3),u.toArray(i,0),u.toArray(i,9)):(c.toArray(i,3),c.toArray(i,9),u.toArray(i,0));else{l.subVectors(r,e),A.set(l.y,-l.x),c.addVectors(l,A).add(e),u.subVectors(A,l).add(e);const t=i.length;s?(c.toArray(i,t-3),u.toArray(i,t-6),u.toArray(i,t-12)):(c.toArray(i,t-6),u.toArray(i,t-3),u.toArray(i,t-12))}}}}}(new Ia).translate(.5,-.5,0);const RB=new Ur(1,1,1),TB=new Ur;class NB extends OE{constructor(){super(...arguments),zm(this,"target",{opacity:new _E,translate:new Ur,scale:new Ur,backgroundColor:new Ur,backgroundOpacity:new _E,overwriteDefaultColor:new _E,color:new Ur,borderSize:new Mr}),zm(this,"group",new Vl),zm(this,"object",void 0),zm(this,"depthRatio",0),zm(this,"overwrittenDepth",void 0)}applyClippingPlanes(e){this.group.traverse((t=>{t instanceof js&&(t.material.clippingPlanes=e,t.material.needsUpdate=!0)}))}linkCurrent(e){this.group.position.copy(e.translate),e.translate=this.group.position,this.group.scale.copy(e.scale),e.scale=this.group.scale}setObject(e,t,n){this.depthRatio=t,this.overwrittenDepth=n,this.object!==e&&(null!=this.object&&this.group.remove(this.object),this.object=e,this.group.add(this.object),this.applyClippingPlanes(this.clippingPlanes),this.updateDepth())}onInit(){this.bucket.add(this.group),aB(this.group,this,this.root)}onLayout(){this.updateDepth()}updateDepth(){null==this.overwrittenDepth?this.setDepth(this.depthRatio*this.target.scale.x):this.setDepth(this.overwrittenDepth)}onUpdate(e){this.group.traverse((t=>{var n;t instanceof js&&(t.material.opacity=e.opacity.x,TB.copy(null!==(n=t.userData.defaultColor)&&void 0!==n?n:RB).lerp(e.color,e.overwriteDefaultColor.x),t.material.color.setRGB(TB.x,TB.y,TB.z))})),this.group.visible=e.opacity.x>.001}onCleanup(){this.bucket.remove(this.group)}}const LB=new Ur,PB=new Hr,FB=new ns,UB=new Ur(1e-5,1e-5,1e-5);function GB(e,t,n){let{object:i,color:s,depth:a,opacity:o,animation:l,translateX:A,translateY:c,translateZ:u,scaleX:h,scaleY:d,scaleZ:g,...p}=t,f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const[m,C,I]=(0,r.useMemo)((()=>{i.traverse((e=>{if(e instanceof js){e.material=e.material.clone(),e.material.transparent=!0,e.material.needsUpdate=!0;const{r:t,g:n,b:r}=e.material.color;e.userData.defaultColor=new Ur(t,n,r)}}));const e=new Gi;return e.add(i),e.updateMatrixWorld(),PB.setFromObject(i),PB.getSize(LB),LB.max(UB),Nv(e.scale.set(1,1,1),LB),Nv(e.position.set(-PB.min.x,-PB.max.y,-PB.min.z),LB),[e,LB.x/LB.y,LB.z/LB.x]}),[i]);return(0,r.useEffect)((()=>{e.animationConfig=null!==l&&void 0!==l?l:kE,e.target.opacity.set(null!==o&&void 0!==o?o:kB.opacity),e.setManualTransformation(null!==A&&void 0!==A?A:kB.translateX,null!==c&&void 0!==c?c:kB.translateY,null!==u&&void 0!==u?u:kB.translateZ,null!==h&&void 0!==h?h:kB.scaleX,null!==d&&void 0!==d?d:kB.scaleY,null!==g&&void 0!==g?g:kB.scaleZ),null!=s?(FB.set(s),e.target.color.set(FB.r,FB.g,FB.b),e.target.overwriteDefaultColor.set(1)):e.target.overwriteDefaultColor.set(0),e.setObject(m,I,a),CB(e,p),f&&(p.aspectRatio=C),e.setProperties(p)})),n}const kB={opacity:1,translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,animation:kE},HB=new Zs;function OB(e,t,n){return GB(e,{object:(0,r.useMemo)((()=>new js(HB,new as({toneMapped:!1,transparent:!0}))),[]),...t},n,!1)}function zB(e,t,n){let{url:i,...s}=t;const a=Up(Lf,i);return GB(e,{object:(0,r.useMemo)((()=>a.scene.clone(!0)),[a]),...s},n,!0)}function YB(e,t,n){let{url:i,...s}=t;const a=Up(DB,i),o=(0,r.useMemo)((()=>{const t=new Gi;let n=0;for(const r of a.paths){const i=DB.createShapes(r),s=new as({color:r.color,transparent:!0,toneMapped:!1});for(const r of i){const i=new Mu(r,{depth:1,bevelEnabled:!1}),a=new js(i,s);a.scale.y=-1,a.position.z=n++*e.precision,t.add(a)}}return t}),[a]);return GB(e,{object:o,depth:0,...s},n,!0)}HB.translate(.5,-.5,.5);const WB=new DB;function VB(e,t,n){let{text:i,...s}=t;const a=(0,r.useMemo)((()=>{const{paths:t}=WB.parse(i),n=new Gi;let r=0;for(const i of t){const t=DB.createShapes(i),s=new as({color:i.color,transparent:!0,toneMapped:!1});for(const i of t){const t=new Mu(i,{depth:1,bevelEnabled:!1}),a=new js(t,s);a.scale.y=-1,a.position.z=r++*e.precision,n.add(a)}}return n}),[i]);return GB(e,{object:a,depth:0,...s},n,!0)}sB(NB,zB,YE),nB(NB,zB,YE),sB(NB,YB,YE),nB(NB,YB,YE),sB(NB,VB,YE),nB(NB,VB,YE),sB(NB,OB,YE),nB(NB,OB,YE),sB(NB,GB,YE),nB(NB,GB,YE);class JB{constructor(e,t){zm(this,"page",void 0),zm(this,"glyphInfoMap",new Map),zm(this,"kerningMap",new Map),zm(this,"pageWidth",void 0),zm(this,"pageHeight",void 0),zm(this,"glyphSize",void 0),zm(this,"lineHeight",void 0),zm(this,"distanceRange",void 0),zm(this,"questionmarkGlyphInfo",void 0),this.page=t,this.pageWidth=e.common.scaleW,this.pageHeight=e.common.scaleH,this.glyphSize=e.info.size,this.lineHeight=e.common.lineHeight,this.distanceRange=e.distanceField.distanceRange;for(const r of e.chars)this.glyphInfoMap.set(r.char,r);for(const{first:r,second:i,amount:s}of e.kernings)this.kerningMap.set("".concat(r,"/").concat(i),s);const n=this.glyphInfoMap.get("?");if(null==n)throw new Error("missing '?' glyph in font");this.questionmarkGlyphInfo=n}getGlyphInfo(e){var t,n;return null!==(t=null!==(n=this.glyphInfoMap.get(e))&&void 0!==n?n:"\n"==e?this.glyphInfoMap.get(" "):this.questionmarkGlyphInfo)&&void 0!==t?t:this.questionmarkGlyphInfo}getKerning(e,t){var n;return null!==(n=this.kerningMap.get("".concat(e,"/").concat(t)))&&void 0!==n?n:0}}const KB=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function qB(e,t){return t/e.glyphSize}function jB(e,t,n,r,i){let s=0;for(;r<i;){const i=n[r];s+=e.getGlyphInfo(i).xadvance+t,++r}return s}class XB{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;zm(this,"x",void 0),zm(this,"y",void 0),zm(this,"width",void 0),zm(this,"height",void 0),this.x=e,this.y=t,this.width=n,this.height=r}toMatrix(e){KB[12]=this.x,KB[13]=this.y,KB[0]=this.width,KB[5]=this.height,e.fromArray(KB)}copy(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}toBoundingBox(e){e.min.set(this.x,this.y-this.height,0),e.max.set(this.x+this.width,this.y,0)}toBoundingSphere(e){e.radius=Math.sqrt(this.width**2+this.height**2)/2,e.center.set(this.x+this.width/2,this.y-this.height/2,0)}}class ZB{constructor(){zm(this,"glyphs",[]),zm(this,"lines",[]),zm(this,"letterSpacing",0),zm(this,"font",void 0),zm(this,"currentLineIndex",0),zm(this,"glyphIndex",0),zm(this,"currentLineWidth",0),zm(this,"prevGlyphId",void 0),zm(this,"whitespaceAmount",0)}startText(e,t){this.letterSpacing=t,this.font=e,this.currentLineIndex=0}startLine(){this.prevGlyphId=void 0,this.glyphIndex=0===this.currentLineIndex?0:this.lines[this.currentLineIndex-1].lastGlyphIndex+1,this.currentLineWidth=0,this.whitespaceAmount=0}addText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;for(;t<n;){const n=e[t];" "===n&&++this.whitespaceAmount;const a=this.font.getGlyphInfo(n),o=this.glyphs[this.glyphIndex],l=this.currentLineWidth+(r=this.font,i=a,(null==(s=this.prevGlyphId)?0:r.getKerning(s,i.id))+i.xoffset);null==o?this.glyphs[this.glyphIndex]={whitespacesUntilHere:this.whitespaceAmount,x:l,info:a}:(o.whitespacesUntilHere=this.whitespaceAmount,o.x=l,o.info=a),this.prevGlyphId=a.id,this.currentLineWidth+=a.xadvance+this.letterSpacing,++this.glyphIndex,++t}var r,i,s}measureText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return jB(this.font,this.letterSpacing,e,t,n)}get lineWidth(){return this.currentLineWidth}get lineIndex(){return this.currentLineIndex}finishLine(){const e=this.lines[this.currentLineIndex];null==e?this.lines[this.currentLineIndex]={whitespaceAmount:this.whitespaceAmount,width:this.currentLineWidth,lastGlyphIndex:this.glyphIndex-1}:(e.whitespaceAmount=this.whitespaceAmount,e.width=this.currentLineWidth,e.lastGlyphIndex=this.glyphIndex-1),++this.currentLineIndex}finishText(){this.lines.length=this.currentLineIndex,this.glyphs.length=0===this.currentLineIndex?0:this.lines[this.currentLineIndex-1].lastGlyphIndex+1}}function $B(e,t,n){let r=0;const i=qB(n.font,n.fontSize),s=n.wrapper.keys.map((e=>function(e,t,n){switch(e){case"availableWidth":case"availableHeight":{const r=t[e];if(null==r)return;return r/n}case"fontSize":case"lineHeightMultiplier":case"letterSpacing":case"horizontalAlign":case"verticalAlign":return t[e]}throw new Error('unable to get "'.concat(e,'" property for the line wrapper'))}(e,n,i)));for(e.startText(n.font,n.letterSpacing);r<t.length;){e.startLine();const i=n.wrapper.wrapLine(e,t,r,n.font,...s);if(null==i)break;if(e.finishLine(),i===r)break;r=i}e.finishText()}const ey=["fontSize","font","letterSpacing","wrapper"];const ty=new class{constructor(){zm(this,"currentLineWidth",0),zm(this,"currentLineIndex",0),zm(this,"font",void 0),zm(this,"letterSpacing",0),zm(this,"maxLineWidth",0)}startText(e,t){this.currentLineIndex=0,this.font=e,this.letterSpacing=t,this.maxLineWidth=0}startLine(){this.currentLineWidth=0}addText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;this.currentLineWidth+=jB(this.font,this.letterSpacing,e,t,n)}measureText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return jB(this.font,this.letterSpacing,e,t,n)}get lineWidth(){return this.currentLineWidth}get lineIndex(){return this.currentLineIndex}finishLine(){this.currentLineWidth>this.maxLineWidth&&(this.maxLineWidth=this.currentLineWidth),++this.currentLineIndex}finishText(){}},ny={};function ry(e,t,n,r,i,s){const a=s.font.lineHeight*i*s.lineHeightMultiplier,o=s.font.lineHeight*i*(s.lineHeightMultiplier-1)*.5;t.width="block"===s.horizontalAlign&&null!=s.availableWidth?s.availableWidth:e.lines.reduce(((e,t)=>{let{width:n}=t;return Math.max(e,n*i)}),0),t.height=e.lines.length*a,t.x=iy(s.horizontalAlign,s.availableWidth,t.width),t.y=function(e,t,n){if(null==t)return 0;switch(e){case"center":return.5*-Math.max(0,t-n);case"bottom":return-Math.max(0,t-n);default:return 0}}(s.verticalAlign,s.availableHeight,t.height);const l=s.font;let A=0;for(let c=0;c<e.lines.length;c++){const u=e.lines[c],h=u.width*i,d=iy(s.horizontalAlign,s.availableWidth,h),g="block"===s.horizontalAlign&&null!=s.availableWidth&&u.whitespaceAmount>0?Math.max(s.availableWidth-h,0)/u.whitespaceAmount:0,p=t.y-a*c-o;for(;A<=u.lastGlyphIndex;){const t=e.glyphs[A];n(A,d+t.x*i+g*t.whitespacesUntilHere,p+-t.info.yoffset*i,t.info.width*i,t.info.height*i),r(A,t.info.x/l.pageWidth,t.info.y/l.pageHeight,t.info.width/l.pageWidth,t.info.height/l.pageHeight),++A}}}function iy(e,t,n){if(null==t)return 0;switch(e){case"center":return.5*Math.max(0,t-n);case"right":return Math.max(0,t-n);default:return 0}}const sy=new Ur,ay=new Ur,oy=new da,ly=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];class Ay extends js{constructor(e,t){const n=new Ia;n.translate(.5,-.5,0),super(n),zm(this,"instanceMatrix",void 0),zm(this,"instanceUV",void 0),zm(this,"isInstancedMesh",!0),zm(this,"instanceColor",null),zm(this,"boundingBox",new Hr),zm(this,"boundingSphere",new si),zm(this,"count",0),zm(this,"lineHeight",0),zm(this,"lineLastGlyphIndex",[]),zm(this,"bounds",new XB),this.instanceMatrix=e,this.instanceUV=t,n.attributes.instanceUVOffset=t,this.frustumCulled=!1}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),this.instanceUV.copy(e.instanceUV),this.count=e.count,this.lineHeight=e.lineHeight,this.bounds.copy(e.bounds),this.boundingBox.copy(e.boundingBox),this.boundingSphere.copy(e.boundingSphere),this.lineLastGlyphIndex.length=0,this.lineLastGlyphIndex.push(...e.lineLastGlyphIndex),this}computeBoundingBox(){}computeBoundingSphere(){}getGlyphBounds(e,t){const n=16*e,r=this.instanceMatrix.array;t.x=r[n+12],t.y=r[n+13],t.width=r[n+0],t.height=r[n+5]}getLineBounds(e,t){const n=0===e?0:this.lineLastGlyphIndex[e-1]+1,r=this.lineLastGlyphIndex[e];t.height=this.lineHeight,t.y=this.bounds.y+-e*this.lineHeight;const i=this.getGlyphStartX(n),s=this.getGlyphEndX(r);t.x=i,t.width=s-i}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}setGlyphTransformation(e,t,n,r,i){ly[12]=t,ly[13]=n,ly[0]=r,ly[5]=i,this.instanceMatrix.set(ly,16*e)}setGlyphUV(e,t,n,r,i){this.instanceUV.setXYZW(e,t,n+i,r,-i)}spherecast(e,t){oy.normal.set(0,0,1),oy.constant=0,oy.applyMatrix4(this.matrixWorld),oy.projectPoint(e.center,ay);const n=ay.distanceTo(e.center);n>e.radius||this.computeIntersects(ay,n,t)}raycast(e,t){oy.normal.set(0,0,1),oy.constant=0,oy.applyMatrix4(this.matrixWorld),null!=e.ray.intersectPlane(oy,ay)&&this.computeIntersects(ay,e.ray.distanceToPlane(oy),t)}computeIntersects(e,t,n){if(sy.copy(e),this.worldToLocal(sy),isNaN(sy.x)||isNaN(sy.y)||sy.x<this.bounds.x||sy.x>this.bounds.x+this.bounds.width||sy.y>this.bounds.y||sy.y<this.bounds.y-this.bounds.height)return;const r=-sy.y+this.bounds.y;let i=0;for(;i<this.lineLastGlyphIndex.length-1&&r>this.lineHeight*(i+1);)++i;n.push({object:this,distance:t,point:e.clone(),faceIndex:i,face:{a:0,b:0,c:0,materialIndex:0,normal:new Ur(0,0,1)},instanceId:this.computeGlyphIndexFromX(i,sy.x),uv:new sr((sy.x-this.bounds.x)/this.bounds.width,(sy.y-this.bounds.y)/this.bounds.height),uv2:this.computeGlyphUVFromXY(i,sy.x,sy.y)})}computeGlyphIndexFromX(e,t){const n=0===e?0:this.lineLastGlyphIndex[e-1]+1,r=this.lineLastGlyphIndex[e];if(t<this.getGlyphStartX(n))return n;if(t>this.getGlyphEndX(r))return r;let i=n;for(;i<r&&t>=this.getGlyphStartX(i+1);)++i;return i}computeGlyphUVFromXY(e,t,n){const r=this.computeGlyphIndexFromX(e,t);if(null==r)return;const i=this.getGlyphStartX(r),s=this.getGlyphWidth(r),a=this.getGlyphStartY(r),o=this.getGlyphHeight(r);return new sr(Math.min(Math.max((t-i)/s,0),1),Math.min(Math.max((n-a)/o,0),1))}getGlyphStartX(e){return this.instanceMatrix.array[16*e+12]}getGlyphEndX(e){const t=this.instanceMatrix.array;return t[16*e+12]+t[16*e+0]}getGlyphStartY(e){return this.instanceMatrix.array[16*e+13]}getGlyphEndY(e){const t=this.instanceMatrix.array;return t[16*e+13]+t[16*e+5]}getGlyphWidth(e){return this.instanceMatrix.array[16*e+0]}getGlyphHeight(e){return this.instanceMatrix.array[16*e+5]}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class cy extends as{constructor(e,t){super(t),zm(this,"font",void 0),zm(this,"shader",void 0),this.font=e,this.onBeforeCompile=t=>{this.shader=t,t.uniforms.fontPage={value:e.page},t.uniforms.pageSize={value:[e.pageWidth,e.pageHeight]},t.uniforms.distanceRange={value:e.distanceRange},t.uniforms.v_weight={value:0},t.vertexShader="attribute vec4 instanceUVOffset;\nvarying vec2 fontUv;\n"+t.vertexShader,t.vertexShader=t.vertexShader.replace("#include <uv_vertex>","#include <uv_vertex>\n            fontUv = instanceUVOffset.xy + uv * instanceUVOffset.zw;"),t.fragmentShader="uniform sampler2D fontPage;\n            uniform vec2 pageSize;\n            uniform int distanceRange;\n            uniform float v_weight;\n        varying vec2 fontUv;\n        float median(float r, float g, float b) {\n            return max(min(r, g), min(max(r, g), b));\n        }\n        float getDistance() {\n            vec3 msdf = texture(fontPage, fontUv).rgb;\n            return median(msdf.r, msdf.g, msdf.b);\n        }\n        "+t.fragmentShader,t.fragmentShader=t.fragmentShader.replace("#include <map_fragment>","#include <map_fragment>\n            vec2 dxdy = fwidth(fontUv) * pageSize;\n            float dist = getDistance() + min(float(v_weight), 0.5 - 1.0 / float(distanceRange)) - 0.5;\n            float multiplier = clamp(dist * float(distanceRange) / length(dxdy) + 0.5, 0.0, 1.0);\n            if(multiplier <= 0.35) {\n                discard;\n            }\n            diffuseColor.a *= (multiplier - 0.35) / 0.65;\n            ")}}updateFont(e){this.font!==e&&(this.font=e,this.shader.uniforms.fontPage.value=e.page,this.shader.uniforms.pageSize.value=[e.pageWidth,e.pageHeight],this.shader.uniforms.distanceRange.value=e.distanceRange)}}const uy={keys:["availableWidth"],wrapLine:(e,t,n,r,i)=>{for(;n<t.length;){if("\n"===t[n]){e.addText(t,n,n+1),++n;break}if(null!=i&&e.lineWidth+e.measureText(t,n,n+1)>i)break;e.addText(t,n,n+1),++n}return n}},hy={keys:[],wrapLine:(e,t,n)=>{let r=n;for(;;){if(r===t.length)return e.addText(t,n,r),r;if("\n"===t[r])return e.addText(t,n,r),r+1;++r}}},dy={keys:["availableWidth"],wrapLine:(e,t,n,r,i)=>{const s=n;let a=n;for(;n<t.length;)if(" "==t[n]||"\n"==t[n]||n==t.length-1){if(null!=i&&s!=a&&e.lineWidth+e.measureText(t,a,n+1)>i)return a;if("\n"===t[n]){++n;break}++n,e.addText(t,a,n),a=n}else++n;return e.addText(t,a,n),n}},gy=new Ia;gy.translate(.5,-.5,0);const py=gy.getAttribute("position"),fy=new Float32Array(4*py.array.length/py.itemSize),my=[1,0,0,1];for(let n=0;n<fy.length;n++)fy[n]=my[n%4];gy.setAttribute("tangent",new gs(fy,4));const Cy=new XB;class Iy extends OE{constructor(){super(...arguments),zm(this,"target",{color:new Ur,opacity:new _E,backgroundColor:new Ur,backgroundOpacity:new _E,translate:new Ur,scale:new Ur,contentOffset:new sr,borderColor:new Ur,borderOpacity:new _E,borderRadius:new Mr,borderSize:new Mr,borderBend:new _E}),zm(this,"mesh",void 0),zm(this,"material",void 0),zm(this,"structureBuilder",new ZB),zm(this,"glyphProperties",void 0),zm(this,"text",void 0),zm(this,"hasFocus",!1),zm(this,"globalContentScale",new sr),zm(this,"globalOuterScale",new sr),zm(this,"hasStructuralChanges",!1),zm(this,"hasTransformationChanges",!1),zm(this,"backgroundMaterial",void 0),zm(this,"backgroundMesh",new js(gy)),zm(this,"caretMaterial",new dB({transparent:!0,toneMapped:!1,opacity:.5})),zm(this,"caretMesh",new js(gy,this.caretMaterial)),zm(this,"selectionMaterial",new dB({transparent:!0,toneMapped:!1,opacity:.5})),zm(this,"selectionMeshCache",[]),zm(this,"_selection",void 0)}get selection(){var e;return null!==(e=this._selection)&&void 0!==e?e:null}get caretPosition(){return null==this.selection||this.selection[0]!==this.selection[1]?null:this.selection[0]}setBackgroundMaterialClass(e){var t;if(this.backgroundMaterial instanceof e)return;const n=new e({transparent:!0,toneMapped:!1});this.backgroundMesh.material=n,null===(t=this.backgroundMaterial)||void 0===t||t.dispose(),this.backgroundMaterial=n,null!=this.current&&(this.linkCurrent(this.current),this.backgroundMaterial.clippingPlanes=this.clippingPlanes,this.backgroundMaterial.needsUpdate=!0)}applyClippingPlanes(e){null!=this.backgroundMaterial&&(this.backgroundMaterial.clippingPlanes=e,this.backgroundMaterial.needsUpdate=!0),this.caretMaterial.clippingPlanes=e,this.caretMaterial.needsUpdate=!0,this.selectionMaterial.clippingPlanes=e,this.selectionMaterial.needsUpdate=!0,null!=this.material&&(this.material.clippingPlanes=e,this.material.needsUpdate=!0)}linkCurrent(e){null!=this.backgroundMaterial&&Gv(e,this.backgroundMesh,this.backgroundMaterial)}onInit(){this.bucket.add(this.backgroundMesh),this.bucket.add(this.caretMesh),aB(this.backgroundMesh,this,this.root)}updateGlyphProperties(e,t,n){var r;this.text=e,this.glyphProperties=Object.assign(null!==(r=this.glyphProperties)&&void 0!==r?r:{},t),n?this.hasStructuralChanges=!0:this.updateGlyphs()}updateGlyphs(){if(null==this.glyphProperties||null==this.text)return;if(this.glyphProperties.availableWidth=this.globalContentScale.x,this.glyphProperties.availableHeight=this.globalContentScale.y,null==this.material){const e=new cy(this.glyphProperties.font,{transparent:!0,clippingPlanes:this.clippingPlanes});e.toneMapped=!1,e.transparent=!0,this.material=e}else this.material.updateFont(this.glyphProperties.font);if(this.hasStructuralChanges&&($B(this.structureBuilder,this.text,this.glyphProperties),this.hasStructuralChanges=!1,this.hasTransformationChanges=!0),null!=this.mesh&&!this.hasTransformationChanges)return;const e=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Dn;const s=qB(r.font,r.fontSize),a=t.glyphs.length;if(null==e||a>=e.instanceMatrix.count||3*a<=e.instanceMatrix.count){const t=Math.ceil(1.5*a),n=new HA(new Float32Array(16*t),16);n.setUsage(i);const r=new HA(new Float32Array(4*t),4);r.setUsage(i),e=new Ay(n,r)}e.material=n,e.count=a,e.lineHeight=r.font.lineHeight*r.lineHeightMultiplier*s;const o=t.lines;for(let l=0;l<o.length;l++)e.lineLastGlyphIndex[l]=o[l].lastGlyphIndex;return e.lineLastGlyphIndex.length=o.length,ry(t,e.bounds,e.setGlyphTransformation.bind(e),e.setGlyphUV.bind(e),s,r),e.bounds.toBoundingBox(e.boundingBox),e.bounds.toBoundingSphere(e.boundingSphere),e.instanceMatrix.needsUpdate=!0,e.instanceUV.needsUpdate=!0,e}(this.mesh,this.structureBuilder,this.material,this.glyphProperties);this.hasTransformationChanges=!1,e!=this.mesh&&(null!=this.mesh&&(this.bucket.remove(this.mesh),this.mesh.dispose()),this.mesh=e,this.bucket.add(this.mesh))}onLayout(){var e,t,n;const r=this.measuredGlobalScale.x-this.target.borderSize.y-this.target.borderSize.w-this.measuredGlobalPadding.y-this.measuredGlobalPadding.w,i=this.measuredGlobalScale.y-this.target.borderSize.x-this.target.borderSize.z-this.measuredGlobalPadding.x-this.measuredGlobalPadding.z;this.globalContentScale.set(r,i),this.globalOuterScale.set(null!==(e=this.target.scale.x)&&void 0!==e?e:1,null!==(t=this.target.scale.y)&&void 0!==t?t:1),Nv(this.target.contentOffset.set(this.measuredGlobalPadding.w+this.target.borderSize.w,-this.measuredGlobalPadding.x-this.target.borderSize.x),this.measuredGlobalScale),(null===(n=this.glyphProperties)||void 0===n?void 0:n.availableWidth)==r&&this.glyphProperties.availableHeight==i||(this.hasStructuralChanges=!0),this.updateGlyphs()}onUpdate(e){null!=this.backgroundMaterial&&Hv(e,this.backgroundMesh,this.backgroundMaterial),null!=this.material&&(this.material.opacity=e.opacity.x,this.material.color.setRGB(e.color.x,e.color.y,e.color.z)),this.caretMaterial.color.setRGB(e.color.x,e.color.y,e.color.z),this.updateCaretTransformation(e),this.selectionMaterial.color.setRGB(e.color.x,e.color.y,e.color.z),this.updateSelectionTransformation(e),null!=this.mesh&&(this.mesh.visible=e.opacity.x>.001,this.mesh.position.set(e.contentOffset.x,e.contentOffset.y,1).multiply(e.scale).add(e.translate),Pv(this.mesh.scale.set(1,1,1),this.globalOuterScale.y).multiplyScalar(e.scale.y))}onCleanup(){var e;this.bucket.remove(this.backgroundMesh),this.bucket.remove(this.caretMesh),this.clearSelectionMesh(),null!=this.mesh&&(this.bucket.remove(this.mesh),this.mesh.dispose()),this.caretMaterial.dispose(),null===(e=this.material)||void 0===e||e.dispose(),this.selectionMaterial.dispose()}updateCaretTransformation(e){var t,n,r,i,s;const a=this.caretPosition;if(!this.text||!this.glyphProperties||!this.mesh||!this.hasFocus||null==a)return void(this.caretMesh.visible=!1);this.caretMesh.visible=!0;const o=a;let l=0===o,A=0;const c=null!==(t=this.mesh.lineLastGlyphIndex)&&void 0!==t?t:[],u=o===(null!==(n=c[c.length-1])&&void 0!==n?n:0)+1,h=null===(r=this.text)||void 0===r?void 0:r.slice(-1);for(let C=c.length-1;C>=0;C--)if(a>c[C]){A=C+1,l=0==o||o==c[C]+1&&!(u&&"\n"!==h);break}const d=Math.min(o,(null!==(i=null===(s=this.text)||void 0===s?void 0:s.length)&&void 0!==i?i:0)-1);let g;l?g=0:u&&"\n"!==h?(A=Math.max(c.length-1,0),g=this.getXStartOfNextGlyph(d,this.glyphProperties)):g=this.getXStartOfNextGlyph(d-1,this.glyphProperties);const p=this.mesh.lineHeight,f=this.mesh.bounds.y+-A*p;this.caretMesh.position.set(e.contentOffset.x,e.contentOffset.y,1.5).multiply(e.scale).add(e.translate);const m=Lv(e.scale.y,this.globalOuterScale.y);this.caretMesh.position.x+=g*m,this.caretMesh.position.y+=f*m,this.caretMesh.scale.set(.03*p,p,1).multiplyScalar(m)}setSelection(e){this._selection=null!==e&&void 0!==e?e:void 0}updateSelectionTransformation(e){var t,n;if(!this.hasFocus||!this.text||!this.mesh)return void(this.selectionMaterial.opacity=0);this.selectionMaterial.opacity=.5;const r=this._selection;if(null==r||null==this.glyphProperties||r[0]===r[1])return void this.clearSelectionMesh();const i=[],[s,a]=r,o=null!==(t=null===(n=this.mesh)||void 0===n?void 0:n.lineLastGlyphIndex)&&void 0!==t?t:[],l=this.getGlyphWidth(" ",this.glyphProperties);for(let c=0;c<o.length;c++){const e=o[c],t=0===c?0:o[c-1]+1;if(s>e)continue;if(a<=t)break;const n=s>t&&s<=e;this.mesh.getLineBounds(c,Cy);const r=n?this.mesh.getGlyphStartX(s):0;let A=a>e?Cy.x+Cy.width:this.getXStartOfNextGlyph(a-1,this.glyphProperties);a>e&&"\n"===this.text[e]&&(A+=l);const u=A-r;i.push({x:r,y:Cy.y,width:u,height:Cy.height})}const A=this.getSelectionMeshes(i.length);for(let c=0;c<A.length;c++){const t=i[c],n=A[c];n.position.set(e.contentOffset.x,e.contentOffset.y,.5).multiply(e.scale).add(e.translate);const r=0==this.globalOuterScale.y?0:e.scale.y/this.globalOuterScale.y;n.position.x+=t.x*r,n.position.y+=t.y*r,n.scale.set(t.width,t.height,1).multiplyScalar(r)}}getXStartOfNextGlyph(e,t){var n,r,i;const s=null===(n=this.text)||void 0===n?void 0:n[e];return null==s||""==s?0:(null!==(r=null===(i=this.mesh)||void 0===i?void 0:i.getGlyphStartX(e))&&void 0!==r?r:0)+this.getGlyphWidth(s,t)}getGlyphWidth(e,t){const n=qB(t.font,t.fontSize);return(t.font.getGlyphInfo(e).xadvance+t.letterSpacing)*n}getSelectionMeshes(e){if(e>this.selectionMeshCache.length){const t=Array.from({length:e-this.selectionMeshCache.length},(()=>new js(gy,this.selectionMaterial)));this.bucket.add(...t),this.selectionMeshCache.splice(this.selectionMeshCache.length,0,...t)}else{if(e===this.selectionMeshCache.length)return this.selectionMeshCache;this.bucket.remove(...this.selectionMeshCache.splice(e))}return this.selectionMeshCache}clearSelectionMesh(){this.getSelectionMeshes(0)}}const vy=new ns,Ey=16,By="left",yy=0,wy=1.2,by="top",xy="",Sy=0,Qy=1,My="breakword";function _y(e){if("string"!=typeof e)return e;switch(e){case"breakall":return uy;case"breakword":return dy;case"nowrap":return hy}}const Dy=(0,r.createContext)(null);const Ry={defaultFontFamily:"roboto",fontFamilies:{roboto:["https://coconut-xr.github.io/msdf-fonts/","roboto.json"],sourceserifpro:["https://coconut-xr.github.io/msdf-fonts/","sourceserifpro.json"],opensans:["https://coconut-xr.github.io/msdf-fonts/","opensans.json"],montserrat:["https://coconut-xr.github.io/msdf-fonts/","montserrat.json"],quicksand:["https://coconut-xr.github.io/msdf-fonts/","quicksand.json"]}};function Ty(e){var t;const n=null!==(t=(0,r.useContext)(Dy))&&void 0!==t?t:Ry,i=Tf((async(e,t)=>{const n=new zy.TextureLoader,r=n.loadAsync.bind(n),[i,s]=t.fontFamilies[null!==e&&void 0!==e?e:t.defaultFontFamily];return await async function(e,t,n){const r=await(await fetch(e+t)).json();if(1!==r.pages.length)throw new Error("only supporting exactly 1 page");const i=await n(e+r.pages[0]);return new JB(r,i)}(i,s,r)}),[e,n]),s=Np((e=>e.gl));return(0,r.useEffect)((()=>{const e=s.capabilities.getMaxAnisotropy();i.page.flipY=!1,i.page.anisotropy=e,s.initTexture(i.page)}),[s,i.page]),i}function Ny(e,t,n){let{color:i,opacity:s,fontFamily:a,letterSpacing:o,lineHeightMultiplier:l,fontSize:A,wrapper:c,horizontalAlign:u,verticalAlign:h,material:d,...g}=t;const p=Ty(a),f=Array.isArray(n)?n.join(""):null!==n&&void 0!==n?n:xy,m=(0,r.useMemo)((()=>({letterSpacing:null!==o&&void 0!==o?o:yy,lineHeightMultiplier:null!==l&&void 0!==l?l:wy,fontSize:null!==A&&void 0!==A?A:Ey,wrapper:_y(null!==c&&void 0!==c?c:My),horizontalAlign:null!==u&&void 0!==u?u:By,verticalAlign:null!==h&&void 0!==h?h:by,font:p})),[o,l,A,c,u,h,p]);let C=!1;var I,v;(0,r.useEffect)((()=>{C=!0,function(e,t,n){e.setMeasureFunc(((e,r,i,s)=>{const a=n(e*t,r,i*t,s);return{width:Math.ceil(a.width/t),height:Math.ceil(a.height/t)}})),e.markDirty()}(e.yoga,e.precision,((e,t,n,r)=>function(e,t,n,r){const i=Object.assign(ny,t);i.availableWidth=n,i.availableHeight=r,$B(ty,e,i);const s=qB(t.font,t.fontSize);return{width:ty.maxLineWidth*s,height:Math.max(1,ty.lineIndex)*t.font.lineHeight*s*t.lineHeightMultiplier}}(f,m,e,n))),e.requestLayoutCalculation()}),[...(I=f,v=m,[I,v.lineHeightMultiplier,...ey.map((e=>v[e])),JSON.stringify(v.wrapper.keys.map((e=>[e,v[e]])))]),e]),(0,r.useEffect)((()=>{mB(e,g),CB(e,g),vy.set(null!==i&&void 0!==i?i:Sy),e.target.color.set(vy.r,vy.g,vy.b),e.target.opacity.set(null!==s&&void 0!==s?s:Qy),e.setBackgroundMaterialClass(null!==d&&void 0!==d?d:fB.material),e.updateGlyphProperties(f,m,C),e.setProperties(g)}))}sB(Iy,Ny,YE),nB(Iy,Ny,YE);const Ly=new Ur,Py=new Ur,Fy=new Ur,Uy=new Ur,Gy=new Ur,ky=new Fr;function Hy(e,t){if(e.groupOrder!==t.groupOrder)return e.groupOrder-t.groupOrder;if(e.renderOrder!==t.renderOrder)return e.renderOrder-t.renderOrder;const n=Oy(e.object),r=Oy(t.object);var i,s;null!=n&&(null!==(i=n.screenSpaceZ)&&void 0!==i||(n.screenSpaceZ=e.z),e.z=n.screenSpaceZ);null!=r&&(null!==(s=r.screenSpaceZ)&&void 0!==s||(r.screenSpaceZ=t.z),t.z=r.screenSpaceZ);if(null!=n&&n===r){n.getWorldPosition(Py).sub(Fy),t.object.getWorldPosition(Uy).sub(e.object.getWorldPosition(Gy)),n.getWorldQuaternion(ky),Uy.applyQuaternion(ky.invert());let r=Uy.z;return Py.dot(n.getWorldDirection(Ly))<0&&(r=-r),r}return e.z!==t.z?t.z-e.z:e.id-t.id}function Oy(e){if(null!=e.parent)return e.parent instanceof Tv?e.parent:Oy(e.parent)}const zy={TextureLoader:Dh},Yy=((0,r.forwardRef)(((e,t)=>{let{children:n,far:i,near:s,precision:a,...o}=e;return r.createElement(aI,{...o,ref:t},r.createElement(Yy,{width:o.pixelWidth,height:o.pixelHeight,far:i,near:s}),r.createElement(vB,{sizeX:o.pixelWidth,sizeY:o.pixelHeight,pixelSize:1,precision:a},n))})),(0,r.forwardRef)(((e,t)=>{let{children:n,far:i,near:s,precision:a,...o}=e;return r.createElement(cI,{...o,ref:t},r.createElement(Yy,{width:o.pixelWidth,height:o.pixelHeight,far:i,near:s}),r.createElement(vB,{sizeX:o.pixelWidth,sizeY:o.pixelHeight,pixelSize:1,precision:a},n))})),(0,r.forwardRef)(((e,t)=>{let{near:n=100,far:i=-1,zoom:s=1,width:a,height:o}=e;const l=Tp(),A=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(()=>A.current),[]),(0,r.useEffect)((()=>{const e=A.current;if(null==e)return;const t=l.getState().camera;return l.setState({camera:e}),()=>{l.getState().camera==e&&l.setState({camera:t})}}),[l]),(0,r.useLayoutEffect)((()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.updateProjectionMatrix()}),[s,n,i]);const c=a/2,u=o/2;return r.createElement("orthographicCamera",{position:[0,0,n],left:-c,right:c,top:u,bottom:-u,zoom:s,near:0,far:n-i,ref:A})}))),Wy=new Ur,Vy=new Fr,Jy=new Ur,Ky=new Ur;const qy=(0,r.forwardRef)(((e,t)=>{let{children:n,maxGrabbers:i=2,onGrabbed:s,onReleased:a,...o}=e;const l=Np((e=>{let{scene:t}=e;return t})),A=(0,r.useMemo)((()=>({maxGrabbers:i,onReleased:a,onGrabbed:s,scene:l})),[]);A.onGrabbed=s,A.onReleased=a,A.scene=l,A.maxGrabbers=i;const c=(0,r.useMemo)((()=>new Gi),[]),{object:u,onDown:h,onFrame:d,onMove:g,onUpOrLeave:p}=(0,r.useMemo)((()=>function(e,t){const n=new Gi,r={intersections:new Map,objectPosition:new Ur,objectRotation:new Fr,objectScale:new Ur},i=()=>{n.updateWorldMatrix(!0,!1),n.matrixWorld.decompose(r.objectPosition,r.objectRotation,r.objectScale);for(const e of r.intersections.values())e.startPosition=e.currentPosition,e.startRotation=e.currentRotation};return{object:n,onUpOrLeave:s=>{var a;s.stopPropagation(),r.intersections.delete(s.pointerId),r.intersections.size>0?i():(e.attach(n),null===(a=t.onReleased)||void 0===a||a.call(t,n))},onDown:e=>{var s;if(!BC(e))return;const a=r.intersections.size;a>=t.maxGrabbers||a>=2||(e.stopPropagation(),e.target.setPointerCapture(e.pointerId),i(),r.intersections.set(e.pointerId,{startPosition:e.point,currentPosition:e.point,startRotation:e.inputDeviceRotation,currentRotation:e.inputDeviceRotation}),1==r.intersections.size&&(null===(s=t.onGrabbed)||void 0===s||s.call(t,n),t.scene.add(n)))},onMove:e=>{if(!BC(e))return;const t=r.intersections.get(e.pointerId);null!=t&&(t.currentPosition=e.point,t.currentRotation=e.inputDeviceRotation)},onFrame:()=>{switch(r.intersections.size){case 1:{const[{currentPosition:e,currentRotation:t,startPosition:i,startRotation:s}]=r.intersections.values();Wy.copy(r.objectPosition).sub(i),Vy.copy(s).invert().premultiply(t),n.position.copy(Wy).applyQuaternion(Vy).add(e),n.quaternion.copy(Vy).multiply(r.objectRotation),n.scale.copy(r.objectScale);break}case 2:{const[e,t]=r.intersections.values();Jy.copy(t.startPosition).sub(e.startPosition),Ky.copy(t.currentPosition).sub(e.currentPosition);const i=Jy.length(),s=Ky.length(),a=s/i;Jy.divideScalar(i),Ky.divideScalar(s),Vy.setFromUnitVectors(Jy,Ky),n.position.copy(r.objectPosition).sub(e.startPosition).multiplyScalar(a).applyQuaternion(Vy).add(e.currentPosition),n.quaternion.copy(Vy).multiply(r.objectRotation),n.scale.copy(r.objectScale).multiplyScalar(a);break}}}}}(c,A)),[]);return(0,r.useImperativeHandle)(t,(()=>u),[]),Lp(d),(0,r.useEffect)((()=>{c.add(u)}),[]),r.createElement(r.Fragment,null,r.createElement("primitive",{object:c}),qp(r.createElement("group",{onPointerDown:h,onPointerEnter:jy,onPointerUp:p,onPointerLeave:p,onPointerMove:g,...o},n),u))}));function jy(e){e.stopPropagation()}function Xy(e){let{type:t="pointer",...n}=e;const i=Mf(),s=function(e){switch(e){case"grab":return nv;case"pointer":return av;case"teleport":return Dv}}(t);return r.createElement(r.Fragment,null,i.filter((e=>null==e.hand)).map((e=>r.createElement(s,{id:Cf(e),inputSource:e,key:Cf(e),...n}))))}function Zy(e){let{type:t="pointer",...n}=e;const i=Mf(),s=function(e){switch(e){case"grab":return rv;case"pointer":return lv;case"teleport":return _v;case"touch":return Av}}(t);return r.createElement(r.Fragment,null,i.filter((e=>null!=e.hand)).map((e=>r.createElement(s,{hand:e.hand,id:Cf(e),inputSource:e,key:Cf(e),...n}))))}const $y=function(e,t){return class extends e{constructor(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];super({...t,...n[0]},...n.slice(1))}onBeforeCompile(e,t){super.onBeforeCompile(e,t),function(e){e.vertexShader="varying vec2 vLocalPosition;\n"+e.vertexShader,e.vertexShader=e.vertexShader.replace("#include <color_vertex>","#include <color_vertex>\n    vLocalPosition = position.xy * 2.0;"),e.fragmentShader="varying vec2 vLocalPosition;\n"+e.fragmentShader,e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>","#include <color_fragment>\n      float value = max(0.0, 1.0 - sqrt(dot(vLocalPosition, vLocalPosition)));\n      diffuseColor.a = diffuseColor.a * value * value;")}(e)}}}(as),ew=function(e,t){return class extends e{constructor(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];super({...t,...n[0]},...n.slice(1))}onBeforeCompile(e,t){super.onBeforeCompile(e,t),function(e){e.vertexShader="varying float vFade;\n"+e.vertexShader,e.vertexShader=e.vertexShader.replace("#include <color_vertex>","#include <color_vertex>\n    vFade = position.z + 0.5;"),e.fragmentShader="varying float vFade;\n"+e.fragmentShader,e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>","#include <color_fragment>\n      diffuseColor.a *= vFade;")}(e)}}}(as),tw=new Ur(0,0,1),nw=new Fr,rw=new Ur;function iw(e){return e.profiles.includes("generic-touchscreen")}function sw(e,t,n,r){if(null==n.current)return;const i=n.current;if(0===t.length)return void(i.visible=!1);i.visible=!0;const s=t[0];i.position.copy(s.pointOnFace),null!=s.face&&(nw.setFromUnitVectors(tw,s.face.normal),s.object.getWorldQuaternion(i.quaternion),i.quaternion.multiply(nw),rw.set(0,0,r*("left"===e.handedness?1:1.5)),rw.applyQuaternion(i.quaternion),i.position.add(rw))}function aw(e,t,n){if(null==n.current)return;let r=t;e.length>0&&(r=Math.min(t,e[0].distance)),n.current.position.z=-r/2,n.current.scale.z=r}function ow(e,t,n){const r=n.current,i=e.length>0;if(n.current=i,r||!i)return;if(null==t.gamepad)return;const s=t.gamepad.hapticActuators;null!=s&&0!==s.length&&s[0].pulse(.5,30)}function lw(e,t,n,r){t.color.set(e?r:n)}function Aw(e,t,n,r,i){const s=Math.min(1,1-(t-n)/(r-n));e.opacity=s*i}const cw=(0,r.forwardRef)(((e,t)=>{let{volume:n,url:i}=e;const s=Up(ld,i);(0,r.useImperativeHandle)(t,(()=>a.current),[]);const a=(0,r.useRef)(null),{camera:o}=Np(),l=(0,r.useMemo)((()=>new Id),[]);return(0,r.useEffect)((()=>{if(null!=a.current)return a.current.setBuffer(s),a.current.setRefDistance(1),a.current.setLoop(!1),o.add(l),()=>{o.remove(l)}}),[s,o,l]),(0,r.useEffect)((()=>{var e;null===(e=a.current)||void 0===e||e.setVolume(n)})),r.createElement("positionalAudio",{ref:a,args:[l]})})),uw=new WeakMap;class hw extends Bh{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const i=new bh(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(e=>{const n={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,n).then(t).catch(r)}),n,r)}decodeDracoFile(e,t,n,r){const i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)}decodeGeometry(e,t){for(const o in t.attributeTypes){const e=t.attributeTypes[o];void 0!==e.BYTES_PER_ELEMENT&&(t.attributeTypes[o]=e.name)}const n=JSON.stringify(t);if(uw.has(e)){const t=uw.get(e);if(t.key===n)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const i=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(i,s).then((n=>(r=n,new Promise(((n,s)=>{r._callbacks[i]={resolve:n,reject:s},r.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return a.catch((()=>!0)).then((()=>{r&&i&&this._releaseTask(r,i)})),uw.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new Rs;e.index&&t.setIndex(new gs(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],i=r.name,s=r.array,a=r.itemSize;t.setAttribute(i,new gs(s,a))}return t}_loadLibrary(e,t){const n=new bh(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise(((t,r)=>{n.load(e,t,void 0,r)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{const n=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const r=dw.toString(),i=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const n=t.data;switch(n.type){case"decode":e._callbacks[n.id].resolve(n);break;case"error":e._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function dw(){let e,t;function n(e,t,n,r,i,s){const a=s.num_components(),o=n.num_points()*a,l=o*i.BYTES_PER_ELEMENT,A=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),c=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,s,A,l,c);const u=new i(e.HEAPF32.buffer,c,o).slice();return e._free(c),{name:r,array:u,itemSize:a}}onmessage=function(r){const i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const r=i.buffer,s=i.taskConfig;t.then((e=>{const t=e.draco,a=new t.Decoder,o=new t.DecoderBuffer;o.Init(new Int8Array(r),r.byteLength);try{const e=function(e,t,r,i){const s=i.attributeIDs,a=i.attributeTypes;let o,l;const A=t.GetEncodedGeometryType(r);if(A===e.TRIANGULAR_MESH)o=new e.Mesh,l=t.DecodeBufferToMesh(r,o);else{if(A!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");o=new e.PointCloud,l=t.DecodeBufferToPointCloud(r,o)}if(!l.ok()||0===o.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+l.error_msg());const c={index:null,attributes:[]};for(const u in s){const r=self[a[u]];let l,A;if(i.useUniqueIDs)A=s[u],l=t.GetAttributeByUniqueId(o,A);else{if(A=t.GetAttributeId(o,e[s[u]]),-1===A)continue;l=t.GetAttribute(o,A)}c.attributes.push(n(e,t,o,u,r,l))}A===e.TRIANGULAR_MESH&&(c.index=function(e,t,n){const r=n.num_faces(),i=3*r,s=4*i,a=e._malloc(s);t.GetTrianglesUInt32Array(n,s,a);const o=new Uint32Array(e.HEAPF32.buffer,a,i).slice();return e._free(a),{array:o,itemSize:1}}(e,t,o));return e.destroy(o),c}(t,a,o,s),r=e.attributes.map((e=>e.array.buffer));e.index&&r.push(e.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:e},r)}catch(l){console.error(l),self.postMessage({type:"error",id:i.id,error:l.message})}finally{t.destroy(o),t.destroy(a)}}))}}}let gw;const pw=()=>{if(gw)return gw;const e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!==typeof WebAssembly)return{supported:!1};let n,r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB";WebAssembly.validate(e)&&(r="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");const i=WebAssembly.instantiate(function(e){const n=new Uint8Array(e.length);for(let t=0;t<e.length;++t){const r=e.charCodeAt(t);n[t]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}let r=0;for(let i=0;i<e.length;++i)n[r++]=n[i]<60?t[n[i]]:64*(n[i]-60)+n[++i];return n.buffer.slice(0,r)}(r),{}).then((e=>{n=e.instance,n.exports.__wasm_call_ctors()}));function s(e,t,r,i,s,a){const o=n.exports.sbrk,l=r+3&-4,A=o(l*i),c=o(s.length),u=new Uint8Array(n.exports.memory.buffer);u.set(s,c);const h=e(A,r,i,c,s.length);if(0===h&&a&&a(A,l,i),t.set(u.subarray(A,A+r*i)),o(A-o(0)),0!==h)throw new Error("Malformed buffer data: ".concat(h))}const a={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},o={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return gw={ready:i,supported:!0,decodeVertexBuffer(e,t,r,i,o){s(n.exports.meshopt_decodeVertexBuffer,e,t,r,i,n.exports[a[o]])},decodeIndexBuffer(e,t,r,i){s(n.exports.meshopt_decodeIndexBuffer,e,t,r,i)},decodeIndexSequence(e,t,r,i){s(n.exports.meshopt_decodeIndexSequence,e,t,r,i)},decodeGltfBuffer(e,t,r,i,l,A){s(n.exports[o[l]],e,t,r,i,n.exports[a[A]])}},gw};function fw(e,t){if(t===Ht)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===zt||t===Ot){let n=e.getIndex();if(null===n){const t=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const r=n.count-2,i=[];if(n)if(t===zt)for(let e=1;e<=r;e++)i.push(n.getX(0)),i.push(n.getX(e)),i.push(n.getX(e+1));else for(let e=0;e<r;e++)e%2===0?(i.push(n.getX(e)),i.push(n.getX(e+1)),i.push(n.getX(e+2))):(i.push(n.getX(e+2)),i.push(n.getX(e+1)),i.push(n.getX(e)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=e.clone();return s.setIndex(i),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}const mw=parseInt(s.replace(/\D+/g,""));class Cw extends Bh{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new ww(e)})),this.register((function(e){return new Rw(e)})),this.register((function(e){return new Tw(e)})),this.register((function(e){return new Nw(e)})),this.register((function(e){return new xw(e)})),this.register((function(e){return new Sw(e)})),this.register((function(e){return new Qw(e)})),this.register((function(e){return new Mw(e)})),this.register((function(e){return new yw(e)})),this.register((function(e){return new _w(e)})),this.register((function(e){return new bw(e)})),this.register((function(e){return new Dw(e)})),this.register((function(e){return new Ew(e)})),this.register((function(e){return new Lw(e)})),this.register((function(e){return new Pw(e)}))}load(e,t,n,r){const i=this;let s;s=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Zh.extractUrlBase(e),this.manager.itemStart(e);const a=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},o=new bh(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{i.parse(n,s,(function(n){t(n),i.manager.itemEnd(e)}),a)}catch(r){a(r)}}),n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let i;const s={},a={};if("string"===typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer){if(Zh.decodeText(new Uint8Array(e.slice(0,4)))===Fw){try{s[vw.KHR_BINARY_GLTF]=new kw(e)}catch(l){return void(r&&r(l))}i=JSON.parse(s[vw.KHR_BINARY_GLTF].content)}else i=JSON.parse(Zh.decodeText(new Uint8Array(e)))}else i=e;if(void 0===i.asset||i.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const o=new ub(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});o.fileLoader.setRequestHeader(this.requestHeader);for(let A=0;A<this.pluginCallbacks.length;A++){const e=this.pluginCallbacks[A](o);a[e.name]=e,s[e.name]=!0}if(i.extensionsUsed)for(let A=0;A<i.extensionsUsed.length;++A){const e=i.extensionsUsed[A],t=i.extensionsRequired||[];switch(e){case vw.KHR_MATERIALS_UNLIT:s[e]=new Bw;break;case vw.KHR_DRACO_MESH_COMPRESSION:s[e]=new Hw(i,this.dracoLoader);break;case vw.KHR_TEXTURE_TRANSFORM:s[e]=new Ow;break;case vw.KHR_MESH_QUANTIZATION:s[e]=new zw;break;default:t.indexOf(e)>=0&&void 0===a[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}o.setExtensions(s),o.setPlugins(a),o.parse(n,r)}parseAsync(e,t){const n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}function Iw(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const vw={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Ew{constructor(e){this.parser=e,this.name=vw.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const i=t.json,s=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let a;const o=new ns(16777215);void 0!==s.color&&o.fromArray(s.color);const l=void 0!==s.range?s.range:0;switch(s.type){case"directional":a=new Vh(o),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new Yh(o),a.distance=l;break;case"spot":a=new Gh(o),a.distance=l,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,a.angle=s.spot.outerConeAngle,a.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return a.position.set(0,0,0),a.decay=2,sb(a,s),void 0!==s.intensity&&(a.intensity=s.intensity),a.name=t.createUniqueName(s.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}class Bw{constructor(){this.name=vw.KHR_MATERIALS_UNLIT}getMaterialType(){return as}extendParams(e,t,n){const r=[];e.color=new ns(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,3001))}return Promise.all(r)}}class yw{constructor(e){this.parser=e,this.name=vw.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}class ww{constructor(e){this.parser=e,this.name=vw.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];if(void 0!==s.clearcoatFactor&&(t.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){const e=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new sr(e,e)}return Promise.all(i)}}class bw{constructor(e){this.parser=e,this.name=vw.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return void 0!==s.iridescenceFactor&&(t.iridescence=s.iridescenceFactor),void 0!==s.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),void 0!==s.iridescenceIor&&(t.iridescenceIOR=s.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==s.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),void 0!==s.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),void 0!==s.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(i)}}class xw{constructor(e){this.parser=e,this.name=vw.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new ns(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=r.extensions[this.name];return void 0!==s.sheenColorFactor&&t.sheenColor.fromArray(s.sheenColorFactor),void 0!==s.sheenRoughnessFactor&&(t.sheenRoughness=s.sheenRoughnessFactor),void 0!==s.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",s.sheenColorTexture,3001)),void 0!==s.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(i)}}class Sw{constructor(e){this.parser=e,this.name=vw.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return void 0!==s.transmissionFactor&&(t.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(i)}}class Qw{constructor(e){this.parser=e,this.name=vw.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];t.thickness=void 0!==s.thicknessFactor?s.thicknessFactor:0,void 0!==s.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return t.attenuationColor=new ns(a[0],a[1],a[2]),Promise.all(i)}}class Mw{constructor(e){this.parser=e,this.name=vw.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class _w{constructor(e){this.parser=e,this.name=vw.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];t.specularIntensity=void 0!==s.specularFactor?s.specularFactor:1,void 0!==s.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularColor=new ns(a[0],a[1],a[2]),void 0!==s.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",s.specularColorTexture,3001)),Promise.all(i)}}class Dw{constructor(e){this.parser=e,this.name=vw.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Vu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return void 0!==s.anisotropyStrength&&(t.anisotropy=s.anisotropyStrength),void 0!==s.anisotropyRotation&&(t.anisotropyRotation=s.anisotropyRotation),void 0!==s.anisotropyTexture&&i.push(n.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(i)}}class Rw{constructor(e){this.parser=e,this.name=vw.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,s)}}class Tw{constructor(e){this.parser=e,this.name=vw.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const s=i.extensions[t],a=r.images[s.source];let o=n.textureLoader;if(a.uri){const e=n.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,s.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class Nw{constructor(e){this.parser=e,this.name=vw.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const s=i.extensions[t],a=r.images[s.source];let o=n.textureLoader;if(a.uri){const e=n.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,s.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class Lw{constructor(e){this.name=vw.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then((function(t){const n=e.byteOffset||0,r=e.byteLength||0,s=e.count,a=e.byteStride,o=new Uint8Array(t,n,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(s,a,o,e.mode,e.filter).then((function(e){return e.buffer})):i.ready.then((function(){const t=new ArrayBuffer(s*a);return i.decodeGltfBuffer(new Uint8Array(t),s,a,o,e.mode,e.filter),t}))}))}return null}}class Pw{constructor(e){this.name=vw.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const r=t.meshes[n.mesh];for(const o of r.primitives)if(o.mode!==Jw.TRIANGLES&&o.mode!==Jw.TRIANGLE_STRIP&&o.mode!==Jw.TRIANGLE_FAN&&void 0!==o.mode)return null;const i=n.extensions[this.name].attributes,s=[],a={};for(const o in i)s.push(this.parser.getDependency("accessor",i[o]).then((e=>(a[o]=e,a[o]))));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then((e=>{const t=e.pop(),n=t.isGroup?t.children:[t],r=e[0].count,i=[];for(const s of n){const e=new gi,t=new Ur,n=new Fr,o=new Ur(1,1,1),l=new qA(s.geometry,s.material,r);for(let i=0;i<r;i++)a.TRANSLATION&&t.fromBufferAttribute(a.TRANSLATION,i),a.ROTATION&&n.fromBufferAttribute(a.ROTATION,i),a.SCALE&&o.fromBufferAttribute(a.SCALE,i),l.setMatrixAt(i,e.compose(t,n,o));for(const r in a)"TRANSLATION"!==r&&"ROTATION"!==r&&"SCALE"!==r&&s.geometry.setAttribute(r,a[r]);Gi.prototype.copy.call(l,s),this.parser.assignFinalMaterial(l),i.push(l)}return t.isGroup?(t.clear(),t.add(...i),t):i[0]})))}}const Fw="glTF",Uw=1313821514,Gw=5130562;class kw{constructor(e){this.name=vw.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12);if(this.header={magic:Zh.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Fw)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,r=new DataView(e,12);let i=0;for(;i<n;){const t=r.getUint32(i,!0);i+=4;const n=r.getUint32(i,!0);if(i+=4,n===Uw){const n=new Uint8Array(e,12+i,t);this.content=Zh.decodeText(n)}else if(n===Gw){const n=12+i;this.body=e.slice(n,n+t)}i+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Hw{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=vw.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},o={},l={};for(const A in s){const e=Zw[A]||A.toLowerCase();a[e]=s[A]}for(const A in e.attributes){const t=Zw[A]||A.toLowerCase();if(void 0!==s[A]){const r=n.accessors[e.attributes[A]],i=Kw[r.componentType];l[t]=i.name,o[t]=!0===r.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],r=o[t];void 0!==r&&(n.normalized=r)}t(e)}),a,l)}))}))}}class Ow{constructor(){this.name=vw.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}class zw{constructor(){this.name=vw.KHR_MESH_QUANTIZATION}}class Yw extends sh{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let s=0;s!==r;s++)t[s]=n[i+s];return t}interpolate_(e,t,n,r){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=2*a,l=3*a,A=r-t,c=(n-t)/A,u=c*c,h=u*c,d=e*l,g=d-l,p=-2*h+3*u,f=h-u,m=1-p,C=f-u+c;for(let I=0;I!==a;I++){const e=s[g+I+a],t=s[g+I+o]*A,n=s[d+I+a],r=s[d+I]*A;i[I]=m*e+C*t+p*n+f*r}return i}}const Ww=new Fr;class Vw extends Yw{interpolate_(e,t,n,r){const i=super.interpolate_(e,t,n,r);return Ww.fromArray(i).normalize().toArray(i),i}}const Jw={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Kw={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},qw={9728:ve,9729:be,9984:Ee,9985:xe,9986:ye,9987:Qe},jw={33071:Ce,33648:Ie,10497:me},Xw={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Zw={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...mw>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},$w={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},eb={CUBICSPLINE:void 0,LINEAR:Nt,STEP:Tt},tb="OPAQUE",nb="MASK",rb="BLEND";function ib(e,t,n){for(const r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function sb(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function ab(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function ob(e){let t;const n=e.extensions&&e.extensions[vw.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+lb(n.attributes):e.indices+":"+lb(e.attributes)+":"+e.mode,void 0!==e.targets)for(let r=0,i=e.targets.length;r<i;r++)t+=":"+lb(e.targets[r]);return t}function lb(e){let t="";const n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function Ab(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const cb=new gi;class ub{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Iw,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=!1,i=-1;"undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent&&(n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,i=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"===typeof createImageBitmap||n||r&&i<98?this.textureLoader=new Dh(this.options.manager):this.textureLoader=new sd(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new bh(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const s={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};ib(i,s,r),sb(s,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(s)}))).then((function(){e(s)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,i=t.length;r<i;r++){const n=t[r].joints;for(let t=0,r=n.length;t<r;t++)e[n[t]].isBone=!0}for(let r=0,i=e.length;r<i;r++){const t=e[r];void 0!==t.mesh&&(this._addNodeRef(this.meshCache,t.mesh),void 0!==t.skin&&(n[t.mesh].isSkinnedMesh=!0)),void 0!==t.camera&&this._addNodeRef(this.cameraCache,t.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),i=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[r,s]of e.children.entries())i(s,t.children[r])};return i(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})),!r)throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[vw.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(e,i){n.load(Zh.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){const e=Xw[r.type],t=Kw[r.componentType],n=!0===r.normalized,i=new t(r.count*e);return Promise.resolve(new gs(i,e,n))}const i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){const i=e[0],s=Xw[r.type],a=Kw[r.componentType],o=a.BYTES_PER_ELEMENT,l=o*s,A=r.byteOffset||0,c=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,u=!0===r.normalized;let h,d;if(c&&c!==l){const e=Math.floor(A/c),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count;let l=t.cache.get(n);l||(h=new a(i,e*c,r.count*c/o),l=new iA(h,c/o),t.cache.add(n,l)),d=new aA(l,s,A%c/o,u)}else h=null===i?new a(r.count*s):new a(i,A,r.count*s),d=new gs(h,s,u);if(void 0!==r.sparse){const t=Xw.SCALAR,n=Kw[r.sparse.indices.componentType],o=r.sparse.indices.byteOffset||0,l=r.sparse.values.byteOffset||0,A=new n(e[1],o,r.sparse.count*t),c=new a(e[2],l,r.sparse.count*s);null!==i&&(d=new gs(d.array.slice(),d.itemSize,d.normalized));for(let e=0,r=A.length;e<r;e++){const t=A[e];if(d.setX(t,c[e*s]),s>=2&&d.setY(t,c[e*s+1]),s>=3&&d.setZ(t,c[e*s+2]),s>=4&&d.setW(t,c[e*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return d}))}loadTexture(e){const t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r];let s=this.textureLoader;if(i.uri){const e=n.manager.getHandler(i.uri);null!==e&&(s=e)}return this.loadTextureImage(e,r,s)}loadTextureImage(e,t,n){const r=this,i=this.json,s=i.textures[e],a=i.images[t],o=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[o])return this.textureCache[o];const l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=s.name||a.name||"",""===t.name&&"string"===typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(t.name=a.uri);const n=(i.samplers||{})[s.sampler]||{};return t.magFilter=qw[n.magFilter]||be,t.minFilter=qw[n.minFilter]||Qe,t.wrapS=jw[n.wrapS]||me,t.wrapT=jw[n.wrapT]||me,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[o]=l,l}loadImageSource(e,t){const n=this,r=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const s=r.images[e],a=self.URL||self.webkitURL;let o=s.uri||"",l=!1;if(void 0!==s.bufferView)o=n.getDependency("bufferView",s.bufferView).then((function(e){l=!0;const t=new Blob([e],{type:s.mimeType});return o=a.createObjectURL(t),o}));else if(void 0===s.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const A=Promise.resolve(o).then((function(e){return new Promise((function(n,r){let s=n;!0===t.isImageBitmapLoader&&(s=function(e){const t=new Qr(e);t.needsUpdate=!0,n(t)}),t.load(Zh.resolveURL(e,i.path),s,void 0,r)}))})).then((function(e){var t;return!0===l&&a.revokeObjectURL(o),e.userData.mimeType=s.mimeType||((t=s.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=A,A}assignTexture(e,t,n,r){const i=this;return this.getDependency("texture",n.index).then((function(s){if(!s)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((s=s.clone()).channel=n.texCoord),i.extensions[vw.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[vw.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=i.associations.get(s);s=i.extensions[vw.KHR_TEXTURE_TRANSFORM].extendTexture(s,e),i.associations.set(s,t)}}return void 0!==r&&("colorSpace"in s?s.colorSpace=3001===r?"srgb":"srgb-linear":s.encoding=r),e[t]=s,s}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,s=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new oc,ss.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new jA,ss.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,this.cache.add(e,t)),n=t}if(r||i||s){let e="ClonedMaterial:"+n.uuid+":";r&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),s&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),i&&(t.vertexColors=!0),s&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}e.material=n}getMaterialType(){return Wu}loadMaterial(e){const t=this,n=this.json,r=this.extensions,i=n.materials[e];let s;const a={},o=[];if((i.extensions||{})[vw.KHR_MATERIALS_UNLIT]){const e=r[vw.KHR_MATERIALS_UNLIT];s=e.getMaterialType(),o.push(e.extendParams(a,i,t))}else{const n=i.pbrMetallicRoughness||{};if(a.color=new ns(1,1,1),a.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;a.color.fromArray(e),a.opacity=e[3]}void 0!==n.baseColorTexture&&o.push(t.assignTexture(a,"map",n.baseColorTexture,3001)),a.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,a.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(o.push(t.assignTexture(a,"metalnessMap",n.metallicRoughnessTexture)),o.push(t.assignTexture(a,"roughnessMap",n.metallicRoughnessTexture))),s=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),o.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,a)}))))}!0===i.doubleSided&&(a.side=C);const l=i.alphaMode||tb;if(l===rb?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,l===nb&&(a.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&s!==as&&(o.push(t.assignTexture(a,"normalMap",i.normalTexture)),a.normalScale=new sr(1,1),void 0!==i.normalTexture.scale)){const e=i.normalTexture.scale;a.normalScale.set(e,e)}return void 0!==i.occlusionTexture&&s!==as&&(o.push(t.assignTexture(a,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(a.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&s!==as&&(a.emissive=(new ns).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&s!==as&&o.push(t.assignTexture(a,"emissiveMap",i.emissiveTexture,3001)),Promise.all(o).then((function(){const n=new s(a);return i.name&&(n.name=i.name),sb(n,i),t.associations.set(n,{materials:e}),i.extensions&&ib(r,n,i),n}))}createUniqueName(e){const t=Nd.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[vw.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return hb(n,e,t)}))}const s=[];for(let a=0,o=e.length;a<o;a++){const n=e[a],o=ob(n),l=r[o];if(l)s.push(l.promise);else{let e;e=n.extensions&&n.extensions[vw.KHR_DRACO_MESH_COMPRESSION]?i(n):hb(new Rs,n,t),r[o]={primitive:n,promise:e},s.push(e)}}return Promise.all(s)}loadMesh(e){const t=this,n=this.json,r=this.extensions,i=n.meshes[e],s=i.primitives,a=[];for(let l=0,A=s.length;l<A;l++){const e=void 0===s[l].material?(void 0===(o=this.cache).DefaultMaterial&&(o.DefaultMaterial=new Wu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:f})),o.DefaultMaterial):this.getDependency("material",s[l].material);a.push(e)}var o;return a.push(t.loadGeometries(s)),Promise.all(a).then((function(n){const a=n.slice(0,n.length-1),o=n[n.length-1],l=[];for(let c=0,u=o.length;c<u;c++){const n=o[c],A=s[c];let u;const h=a[c];if(A.mode===Jw.TRIANGLES||A.mode===Jw.TRIANGLE_STRIP||A.mode===Jw.TRIANGLE_FAN||void 0===A.mode)u=!0===i.isSkinnedMesh?new LA(n,h):new js(n,h),!0===u.isSkinnedMesh&&u.normalizeSkinWeights(),A.mode===Jw.TRIANGLE_STRIP?u.geometry=fw(u.geometry,Ot):A.mode===Jw.TRIANGLE_FAN&&(u.geometry=fw(u.geometry,zt));else if(A.mode===Jw.LINES)u=new sc(n,h);else if(A.mode===Jw.LINE_STRIP)u=new nc(n,h);else if(A.mode===Jw.LINE_LOOP)u=new ac(n,h);else{if(A.mode!==Jw.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);u=new hc(n,h)}Object.keys(u.geometry.morphAttributes).length>0&&ab(u,i),u.name=t.createUniqueName(i.name||"mesh_"+e),sb(u,i),A.extensions&&ib(r,u,A),t.assignFinalMaterial(u),l.push(u)}for(let r=0,i=l.length;r<i;r++)t.associations.set(l[r],{meshes:e,primitives:r});if(1===l.length)return i.extensions&&ib(r,l[0],i),l[0];const A=new Vl;i.extensions&&ib(r,A,i),t.associations.set(A,{meshes:e});for(let e=0,t=l.length;e<t;e++)A.add(l[e]);return A}))}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new sa(ir.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new _a(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),sb(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,i=t.joints.length;r<i;r++)n.push(this._loadNodeShallow(t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){const n=e.pop(),r=e,i=[],s=[];for(let a=0,o=r.length;a<o;a++){const e=r[a];if(e){i.push(e);const t=new gi;null!==n&&t.fromArray(n.array,16*a),s.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}return new kA(i,s)}))}loadAnimation(e){const t=this.json.animations[e],n=t.name?t.name:"animation_"+e,r=[],i=[],s=[],a=[],o=[];for(let l=0,A=t.channels.length;l<A;l++){const e=t.channels[l],n=t.samplers[e.sampler],A=e.target,c=A.node,u=void 0!==t.parameters?t.parameters[n.input]:n.input,h=void 0!==t.parameters?t.parameters[n.output]:n.output;void 0!==A.node&&(r.push(this.getDependency("node",c)),i.push(this.getDependency("accessor",u)),s.push(this.getDependency("accessor",h)),a.push(n),o.push(A))}return Promise.all([Promise.all(r),Promise.all(i),Promise.all(s),Promise.all(a),Promise.all(o)]).then((function(e){const t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=[];for(let n=0,l=t.length;n<l;n++){const e=t[n],l=r[n],A=i[n],c=s[n],u=a[n];if(void 0===e)continue;let h;switch(e.updateMatrix(),$w[u.path]){case $w.weights:h=hh;break;case $w.rotation:h=gh;break;default:h=fh}const d=e.name?e.name:e.uuid,g=void 0!==c.interpolation?eb[c.interpolation]:Nt,p=[];$w[u.path]===$w.weights?e.traverse((function(e){e.morphTargetInfluences&&p.push(e.name?e.name:e.uuid)})):p.push(d);let f=A.array;if(A.normalized){const e=Ab(f.constructor),t=new Float32Array(f.length);for(let n=0,r=f.length;n<r;n++)t[n]=f[n]*e;f=t}for(let t=0,n=p.length;t<n;t++){const e=new h(p[t]+"."+$w[u.path],l.array,f,g);"CUBICSPLINE"===c.interpolation&&(e.createInterpolant=function(e){return new(this instanceof gh?Vw:Yw)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),o.push(e)}}return new mh(n,void 0,o)}))}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}loadNode(e){const t=this,n=this.json.nodes[e],r=t._loadNodeShallow(e),i=[],s=n.children||[];for(let o=0,l=s.length;o<l;o++)i.push(t.getDependency("node",s[o]));const a=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([r,Promise.all(i),a]).then((function(e){const t=e[0],n=e[1],r=e[2];null!==r&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(r,cb)}));for(let i=0,s=n.length;i<s;i++)t.add(n[i]);return t}))}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const i=t.nodes[e],s=i.name?r.createUniqueName(i.name):"",a=[],o=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return o&&a.push(o),void 0!==i.camera&&a.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){a.push(e)})),this.nodeCache[e]=Promise.all(a).then((function(t){let a;if(a=!0===i.isBone?new PA:t.length>1?new Vl:1===t.length?t[0]:new Gi,a!==t[0])for(let e=0,n=t.length;e<n;e++)a.add(t[e]);if(i.name&&(a.userData.name=i.name,a.name=s),sb(a,i),i.extensions&&ib(n,a,i),void 0!==i.matrix){const e=new gi;e.fromArray(i.matrix),a.applyMatrix4(e)}else void 0!==i.translation&&a.position.fromArray(i.translation),void 0!==i.rotation&&a.quaternion.fromArray(i.rotation),void 0!==i.scale&&a.scale.fromArray(i.scale);return r.associations.has(a)||r.associations.set(a,{}),r.associations.get(a).nodes=e,a})),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,i=new Vl;n.name&&(i.name=r.createUniqueName(n.name)),sb(i,n),n.extensions&&ib(t,i,n);const s=n.nodes||[],a=[];for(let o=0,l=s.length;o<l;o++)a.push(r.getDependency("node",s[o]));return Promise.all(a).then((function(e){for(let t=0,n=e.length;t<n;t++)i.add(e[t]);return r.associations=(e=>{const t=new Map;for(const[n,i]of r.associations)(n instanceof ss||n instanceof Qr)&&t.set(n,i);return e.traverse((e=>{const n=r.associations.get(e);null!=n&&t.set(e,n)})),t})(i),i}))}}function hb(e,t,n){const r=t.attributes,i=[];function s(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(const a in r){const t=Zw[a]||a.toLowerCase();t in e.attributes||i.push(s(r[a],t))}if(void 0!==t.indices&&!e.index){const r=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(r)}return sb(e,t),function(e,t,n){const r=t.attributes,i=new Hr;if(void 0===r.POSITION)return;{const e=n.json.accessors[r.POSITION],t=e.min,s=e.max;if(void 0===t||void 0===s)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new Ur(t[0],t[1],t[2]),new Ur(s[0],s[1],s[2])),e.normalized){const t=Ab(Kw[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}const s=t.targets;if(void 0!==s){const e=new Ur,t=new Ur;for(let r=0,i=s.length;r<i;r++){const i=s[r];if(void 0!==i.POSITION){const r=n.json.accessors[i.POSITION],s=r.min,a=r.max;if(void 0!==s&&void 0!==a){if(t.setX(Math.max(Math.abs(s[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(s[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(s[2]),Math.abs(a[2]))),r.normalized){const e=Ab(Kw[r.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(e)}e.boundingBox=i;const a=new si;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=a}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){let r=!1,i=!1,s=!1;for(let A=0,c=t.length;A<c;A++){const e=t[A];if(void 0!==e.POSITION&&(r=!0),void 0!==e.NORMAL&&(i=!0),void 0!==e.COLOR_0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(e);const a=[],o=[],l=[];for(let A=0,c=t.length;A<c;A++){const c=t[A];if(r){const t=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):e.attributes.position;a.push(t)}if(i){const t=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):e.attributes.normal;o.push(t)}if(s){const t=void 0!==c.COLOR_0?n.getDependency("accessor",c.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then((function(t){const n=t[0],a=t[1],o=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=a),s&&(e.morphAttributes.color=o),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}let db=null,gb="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function pb(e,t,n){return r=>{n&&n(r),e&&(db||(db=new hw),db.setDecoderPath("string"===typeof e?e:gb),r.setDRACOLoader(db)),t&&r.setMeshoptDecoder("function"===typeof pw?pw():pw)}}function fb(e){return Up(Cw,e,pb(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3?arguments[3]:void 0))}fb.preload=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return Up.preload(Cw,e,pb(t,n,r))},fb.clear=e=>Up.clear(Cw,e),fb.setDecoderPath=e=>{gb=e};var mb=n(708),Cb=n.n(mb);function Ib(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ur,i=new Fr,s=new Ur,a=new gi,o=new gi,l=new gi;n.preserveMatrix=void 0===n.preserveMatrix||n.preserveMatrix,n.preservePosition=void 0===n.preservePosition||n.preservePosition,n.preserveHipPosition=void 0!==n.preserveHipPosition&&n.preserveHipPosition,n.useTargetMatrix=void 0!==n.useTargetMatrix&&n.useTargetMatrix,n.hip=void 0!==n.hip?n.hip:"hip",n.names=n.names||{};const A=t.isObject3D?t.skeleton.bones:Eb(t),c=e.isObject3D?e.skeleton.bones:Eb(e);let u,h,d,g,p;if(e.isObject3D?e.skeleton.pose():(n.useTargetMatrix=!0,n.preserveMatrix=!1),n.preservePosition){p=[];for(let e=0;e<c.length;e++)p.push(c[e].position.clone())}if(n.preserveMatrix){e.updateMatrixWorld(),e.matrixWorld.identity();for(let t=0;t<e.children.length;++t)e.children[t].updateMatrixWorld(!0)}if(n.offsets){u=[];for(let e=0;e<c.length;++e)h=c[e],d=n.names[h.name]||h.name,n.offsets[d]&&(h.matrix.multiply(n.offsets[d]),h.matrix.decompose(h.position,h.quaternion,h.scale),h.updateMatrixWorld()),u.push(h.matrixWorld.clone())}for(let f=0;f<c.length;++f){if(h=c[f],d=n.names[h.name]||h.name,g=vb(d,A),l.copy(h.matrixWorld),g){if(g.updateMatrixWorld(),n.useTargetMatrix?o.copy(g.matrixWorld):(o.copy(e.matrixWorld).invert(),o.multiply(g.matrixWorld)),s.setFromMatrixScale(o),o.scale(s.set(1/s.x,1/s.y,1/s.z)),l.makeRotationFromQuaternion(i.setFromRotationMatrix(o)),e.isObject3D){const t=c.indexOf(h),n=u?u[t]:a.copy(e.skeleton.boneInverses[t]).invert();l.multiply(n)}l.copyPosition(o)}h.parent&&h.parent.isBone?(h.matrix.copy(h.parent.matrixWorld).invert(),h.matrix.multiply(l)):h.matrix.copy(l),n.preserveHipPosition&&d===n.hip&&h.matrix.setPosition(r.set(0,h.position.y,0)),h.matrix.decompose(h.position,h.quaternion,h.scale),h.updateMatrixWorld()}if(n.preservePosition)for(let f=0;f<c.length;++f)h=c[f],d=n.names[h.name]||h.name,d!==n.hip&&h.position.copy(p[f]);n.preserveMatrix&&e.updateMatrixWorld(!0)}function vb(e,t){for(let n=0,r=Eb(t);n<r.length;n++)if(e===r[n].name)return r[n]}function Eb(e){return Array.isArray(e)?e:e.bones}function Bb(e,t,n){n(e,t);for(let r=0;r<e.children.length;r++)Bb(e.children[r],t.children[r],n)}const yb={retarget:Ib,retargetClip:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.useFirstFramePosition=void 0!==r.useFirstFramePosition&&r.useFirstFramePosition,r.fps=void 0!==r.fps?r.fps:30,r.names=r.names||[],t.isObject3D||(t=function(e){const t=new sg(e.bones[0]);return t.skeleton=e,t}(t));const i=Math.round(n.duration*(r.fps/1e3)*1e3),s=1/r.fps,a=[],o=new Ud(t),l=Eb(e.skeleton),A=[];let c,u,h,d,g;o.clipAction(n).play(),o.update(0),t.updateMatrixWorld();for(let p=0;p<i;++p){const n=p*s;Ib(e,t,r);for(let e=0;e<l.length;++e)g=r.names[l[e].name]||l[e].name,h=vb(g,t.skeleton),h&&(u=l[e],d=A[e]=A[e]||{bone:u},r.hip===g&&(d.pos||(d.pos={times:new Float32Array(i),values:new Float32Array(3*i)}),r.useFirstFramePosition&&(0===p&&(c=u.position.clone()),u.position.sub(c)),d.pos.times[p]=n,u.position.toArray(d.pos.values,3*p)),d.quat||(d.quat={times:new Float32Array(i),values:new Float32Array(4*i)}),d.quat.times[p]=n,u.quaternion.toArray(d.quat.values,4*p));o.update(s),t.updateMatrixWorld()}for(let p=0;p<A.length;++p)d=A[p],d&&(d.pos&&a.push(new fh(".bones["+d.bone.name+"].position",d.pos.times,d.pos.values)),a.push(new gh(".bones["+d.bone.name+"].quaternion",d.quat.times,d.quat.values)));return o.uncacheAction(n),new mh(n.name,-1,a)},clone:function(e){const t=new Map,n=new Map,r=e.clone();return Bb(e,r,(function(e,r){t.set(r,e),n.set(e,r)})),r.traverse((function(e){if(!e.isSkinnedMesh)return;const r=e,i=t.get(e),s=i.skeleton.bones;r.skeleton=i.skeleton.clone(),r.bindMatrix.copy(i.bindMatrix),r.skeleton.bones=s.map((function(e){return n.get(e)})),r.bind(r.skeleton,r.bindMatrix)})),r}};const wb=r.forwardRef(((e,t)=>{let{isChild:n=!1,object:i,children:s,deep:a,castShadow:o,receiveShadow:l,inject:A,keys:c,...u}=e;var h;const d={keys:c,deep:a,inject:A,castShadow:o,receiveShadow:l};if(i=r.useMemo((()=>{if(!1===n&&!Array.isArray(i)){let e=!1;if(i.traverse((t=>{t.isSkinnedMesh&&(e=!0)})),e)return yb.clone(i)}return i}),[i,n]),Array.isArray(i))return r.createElement("group",QI({},u,{ref:t}),i.map((e=>r.createElement(wb,QI({key:e.uuid,object:e},d)))),s);const{children:g,...p}=function(e,t){let{keys:n=["near","far","color","distance","decay","penumbra","angle","intensity","skeleton","visible","castShadow","receiveShadow","morphTargetDictionary","morphTargetInfluences","name","geometry","material","position","rotation","scale","up","userData","bindMode","bindMatrix","bindMatrixInverse","skeleton"],deep:i,inject:s,castShadow:a,receiveShadow:o}=t,l=Cb()(e,n);return i&&(l.geometry&&"materialsOnly"!==i&&(l.geometry=l.geometry.clone()),l.material&&"geometriesOnly"!==i&&(l.material=l.material.clone())),s&&(l="function"===typeof s?{...l,children:s(e)}:r.isValidElement(s)?{...l,children:s}:{...l,...s}),e instanceof js&&(a&&(l.castShadow=!0),o&&(l.receiveShadow=!0)),l}(i,d),f=i.type[0].toLowerCase()+i.type.slice(1);return r.createElement(f,QI({},p,u,{ref:t}),(null==(h=i)?void 0:h.children).map((e=>"Bone"===e.type?r.createElement("primitive",QI({key:e.uuid,object:e},d)):r.createElement(wb,QI({key:e.uuid,object:e},d,{isChild:!0})))),s,g)})),bb=r.forwardRef(((e,t)=>{let{src:n,...i}=e;const{scene:s}=fb(n);return r.createElement(wb,QI({ref:t},i,{object:s}))}));var xb=n(184);const Sb={requiredFeatures:["local-floor"],optionalFeatures:["hand-tracking"]};function Qb(){const e=Bf("immersive-ar",Sb),t=Bf("immersive-vr",Sb);return(0,xb.jsxs)("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column"},children:[(0,xb.jsx)("button",{onClick:e,children:"Enter AR"}),(0,xb.jsx)("button",{onClick:t,children:"Enter VR"}),(0,xb.jsxs)(tv,{children:[(0,xb.jsx)("directionalLight",{position:[1,1,1]}),(0,xb.jsx)("ambientLight",{}),(0,xb.jsx)(km,{position:[.3,.3,.7],rotation:[-Math.PI/8,Math.PI/8,0,"YXZ"]}),(0,xb.jsx)(qy,{children:(0,xb.jsx)(bb,{"position-x":0,scale:1,src:"rubiks_cube.glb"})}),(0,xb.jsx)(Zy,{type:"grab"}),(0,xb.jsx)(Xy,{type:"grab"})]})]})}const Mb=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,xb.jsx)(r.StrictMode,{children:(0,xb.jsx)(Qb,{})})),Mb()})()})();
//# sourceMappingURL=main.49af87d9.js.map